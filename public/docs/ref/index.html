<!DOCTYPE html><html lang="en-US"><head><meta charset="utf8">
<meta name="viewport" content="width=device-width, initial-scale=1"><title>ProseMirror Reference manual</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/site.css">

</head><body><header>
  <nav>
    <a class="logo" href="/">ProseMirror</a>
    <div class="navlinks"><a class="toc-toggle" data-x-en="Contents">Contents</a><a href="/examples/" data-x-en="Examples">示例</a>
      <a href="/docs/" class="active" data-x-en="Documentation">文档</a>
      <a href="https://discuss.prosemirror.net/" data-x-en="Discuss">讨论</a>
      <a href="https://github.com/prosemirror" data-x-en="GitHub">GitHub</a>
      <a href="https://twitter.com/prosemirror" data-x-en="Twitter">Twitter</a>
    </div>
  </nav></header><nav id="toc">
    <ul><li><a href="#top.intro">Intro</a></li><li><a href="#state">prosemirror-state</a><ul><li><a href="#state.Editor_State">Editor State</a></li><li><a href="#state.Selection">Selection</a></li><li><a href="#state.Plugin_System">Plugin System</a></li></ul></li><li><a href="#view">prosemirror-view</a><ul><li><a href="#view.Props">Props</a></li><li><a href="#view.Decorations">Decorations</a></li></ul></li><li><a href="#model">prosemirror-model</a><ul><li><a href="#model.Document_Structure">Document Structure</a></li><li><a href="#model.Resolved_Positions">Resolved Positions</a></li><li><a href="#model.Document_Schema">Document Schema</a></li><li><a href="#model.DOM_Representation">DOM Representation</a></li></ul></li><li><a href="#transform">prosemirror-transform</a><ul><li><a href="#transform.Steps">Steps</a></li><li><a href="#transform.Position_Mapping">Position Mapping</a></li><li><a href="#transform.Document_transforms">Document transforms</a></li></ul></li><li><a href="#commands">prosemirror-commands</a></li><li><a href="#history">prosemirror-history</a></li><li><a href="#collab">prosemirror-collab</a></li><li><a href="#keymap">prosemirror-keymap</a></li><li><a href="#inputrules">prosemirror-inputrules</a></li><li><a href="#gapcursor">prosemirror-gapcursor</a></li><li><a href="#schema-basic">prosemirror-schema-basic</a></li><li><a href="#schema-list">prosemirror-schema-list</a></li></ul>
  </nav>
  <script>
addEventListener("load", function() {
  var toc = document.querySelector("nav#toc")
  var state = "top"
  var footer = document.querySelector("footer"), header = document.querySelector("header")
  function align() {
    var tocRect = toc.getBoundingClientRect(),
        headRect = header.getBoundingClientRect(),
        footRect = footer.getBoundingClientRect()
    if (state == "top" && headRect.bottom <= -40 ||
        state == "bottom" && toc.getBoundingClientRect().top >= 0) {
      toc.style.top = "0"
      toc.style.bottom = ""
      toc.classList.add("fixed")
      state = "fixed"
    } else if (state == "fixed" && headRect.bottom > -40) {
      toc.style.bottom = toc.style.top = ""
      toc.classList.remove("fixed")
      state = "top"
    } else if (state == "fixed" && footRect.top < tocRect.bottom) {
      toc.style.bottom = footRect.height + "px"
      toc.style.top = "auto"
      toc.classList.remove("fixed")
      state = "bottom"
    }
  }
  if (document.body.scrollHeight - header.offsetHeight > innerHeight) {
    align()
    addEventListener("scroll", align)
  }
  document.querySelector(".toc-toggle").addEventListener("click", function() {
    toc.classList.toggle("open")
  })
})
  </script><article>
<style>
  /* hover 显示原文 */
  p[data-x-en] {
    position: relative;
  }
  p[data-x-en]:hover::after {
    visibility: visible;
    opacity: 1;
  }
  p[data-x-en]::after {
    content: attr(data-x-en);
    display: block;
    font-size: 12px;
    transition: all 0.2s 0.3s;
    visibility: hidden;
    opacity: 0;
    background: #cccccc;
    z-index: 99;
    border-radius: 4px;
    padding: 5px 10px;
    position: absolute;
    top: 100%;
    left: 0;
  }
  /* 译者注释内容 */
  p[type='comment'] {
    border-radius: 4px;
    padding: 5px 10px;
    font-size: 12px;
    background: #eee;
  }
  p[type='comment']::before {
    content: '译者注: ';
    font-weight: 900;
  }
  header a.logo {
    position: relative;
  }
  header a.logo::after {
    content: '中文';
    position: absolute;
    left: calc(100% + 5px);
    font-size: 14px;
    width: 50px;
    top: -5px;
  }
  #banner-info {
    position: fixed;
    top: 0;
    left: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    background: #fff;
    font-size: 14px;
    padding: 5px 0;
    z-index: 999;
  }
  #add-info {
    font-size: 14px;
  }
  blockquote {
    border-left: 5px solid #ccc;
    padding-left: 10px;
    margin-left: 0;
  }
</style>
<script>
  window.addEventListener('load', function () {
    // Note: 修改 nav 部分，增加译者博客地址
    const nav = document.querySelector('header .navlinks');
    if (nav) {
      const a = document.createElement('a');
      a.href = 'https://www.xheldon.com';
      a.target = '_blank';
      a.textContent = '译者';
      nav.appendChild(a);
    }
    const banner = document.createElement('div');
    banner.id = 'banner-info';
    // Note: 整站通知
    const p = location.pathname.replace('/index.html', '');
    banner.innerHTML = `本文档为 GPT-4o + 人工翻译，hover 可以显示原文，<a style="cursor: pointer;" href="https://prosemirror-old.xheldon.com${p}" target="_blank">原始翻译地址</a>。翻译有问题？<a style="cursor: pointer;" href="https://github.com/Xheldon/prosemirror-cn-website/blob/main/dict${p}/index.json" target="_blank">我来翻译！</a>`;
    const header = document.querySelector('header');
    if (header) {
      header.parentNode.insertBefore(banner, header);
    }

    // Note: 指南和接口文档增加译者前言
    const add = document.createElement('div');
    add.id = 'add-info';
    add.innerHTML = `<blockquote>
本手册/文档采用 GPT-4o + 人工方式翻译。每周检查一次原仓库或手动更新，<a href="https://github.com/Xheldon/prosemirror-cn-website" target="_blank">欢迎 Star 和 PR</a>。
</blockquote>
<b>译者前言：</b>
<ol>
<li><b>鼠标悬浮在中文上会出现英文原文，方便读者在觉得翻译质量不行的时候直接查看原文（欢迎 PR 更好的翻译）。</b></li>
<li><b>因为有些接口需要上下文，因此译者的增加了注释以对此进行额外的说明，以灰色背景块显示出来，代表了译者对某个接口的理解。</b></li>
<li><b>如果你觉得我的工作有帮助，可以 <a href="https://www.xheldon.com/donate/" target="_blank">赏杯咖啡钱</a> 。</b></li>
<li><b>欢迎关注我的技术/生活公众号「开二度」，id：CoderXheldon </b></li>
</ol>
<hr>`;
    if (location.pathname.includes('docs/ref')) {
      const h2 = document.querySelector(`#part_top h2`);
      if (h2) {
        h2.parentNode.insertBefore(add, h2);
      }
    }
    if (location.pathname.includes('docs/guide')) {
      const h1 = document.querySelector(`article h1`);
      if (h1) {
        h1.parentNode.insertBefore(add, h1);
      }
    }
    // Note: 增加 google 统计/广告（要吃饭呀）
    const head = document.querySelector('head');
    if (head) {
      // Note: 谷歌统计
      const script = document.createElement('script');
      script.async = true;
      script.src = 'https://www.googletagmanager.com/gtag/js?id=G-KQYXRE0B3X';
      head.appendChild(script);
      const script2 = document.createElement('script');
      script2.innerHTML = `window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-KQYXRE0B3X')`;
      head.appendChild(script2);
      // Note: 谷歌广告
      const script3 = document.createElement('script');
      script3.async = true;
      script3.crossorigin = 'anonymous';
      script3.src =
        'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5486286026923411';
      head.appendChild(script3);
    }
  });
</script><section id="part_top">
  <h2 id="top.intro" data-x-en="Reference manual">参考手册</h2><p data-x-en="This is the reference manual for the ProseMirror rich text editor. It lists and describes the full public API exported by the library. For more introductory material, please see the guide.">这是<a href="https://prosemirror.net">ProseMirror</a>富文本编辑器的参考手册。它列出了该库导出的完整公共API并进行了描述。有关更多入门材料，请参阅<a href="/docs/guide/">指南</a>。</p>
<p data-x-en="ProseMirror is structured as a number of separate modules. This reference manual describes the exported API per module. If you want to use something from the prosemirror-state module, for example, you can import it like this:">ProseMirror 结构为多个独立的模块。本参考手册按模块描述导出的 API。如果你想使用
        <a href="#state"><code>prosemirror-state</code></a> 模块中的某些内容，例如，
        你可以这样导入：</p>
<pre><code class="language-javascript"><span class="tok-keyword">var</span> <span class="tok-variableName tok-definition">EditorState</span> <span class="tok-operator">=</span> <span class="tok-variableName">require</span><span class="tok-punctuation">(</span><span class="tok-string">"prosemirror-state"</span><span class="tok-punctuation">)</span><span class="tok-operator">.</span><span class="tok-propertyName">EditorState</span>
<span class="tok-keyword">var</span> <span class="tok-variableName tok-definition">state</span> <span class="tok-operator">=</span> <span class="tok-variableName">EditorState</span><span class="tok-operator">.</span><span class="tok-propertyName">create</span><span class="tok-punctuation">(</span><span class="tok-punctuation">{</span><span class="tok-propertyName tok-definition">schema</span><span class="tok-punctuation">:</span> <span class="tok-variableName">mySchema</span><span class="tok-punctuation">}</span><span class="tok-punctuation">)</span>
</code></pre>
<p data-x-en="Or, using ES6 syntax:">或者，使用 ES6 语法：</p>
<pre><code class="language-javascript"><span class="tok-keyword">import</span> <span class="tok-punctuation">{</span><span class="tok-variableName tok-definition">EditorState</span><span class="tok-punctuation">}</span> <span class="tok-keyword">from</span> <span class="tok-string">"prosemirror-state"</span>
<span class="tok-keyword">let</span> <span class="tok-variableName tok-definition">state</span> <span class="tok-operator">=</span> <span class="tok-variableName">EditorState</span><span class="tok-operator">.</span><span class="tok-propertyName">create</span><span class="tok-punctuation">(</span><span class="tok-punctuation">{</span><span class="tok-propertyName tok-definition">schema</span><span class="tok-punctuation">:</span> <span class="tok-variableName">mySchema</span><span class="tok-punctuation">}</span><span class="tok-punctuation">)</span>
</code></pre>
</section><section id="part_state">
    <h2 class="module" id="state">
      <a href="#state">prosemirror-state <span class="kind">module</span></a>
    </h2><p data-x-en="This module implements the state object of a ProseMirror editor, along with the representation of the selection and the plugin abstraction.">此模块实现了ProseMirror编辑器的状态对象，以及选择的表示和插件抽象。</p>
<h3 id="state.Editor_State"><a href="#state.Editor_State">Editor State</a></h3>
<p data-x-en="ProseMirror keeps all editor state (the things, basically, that would be required to create an editor just like the current one) in a single object. That object is updated (creating a new state) by applying transactions to it.">ProseMirror 将所有编辑器状态（基本上是创建一个与当前编辑器相同的编辑器所需的东西）保存在一个单一的<a href="#state.EditorState">对象</a>中。通过对其应用<a href="#state.Transaction">事务</a>来更新该对象（创建一个新的状态）。</p>
<dl>
<dt id="state.EditorState">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#state.EditorState">EditorState</a></h4>
</dt>

<dd><p data-x-en="The state of a ProseMirror editor is represented by an object of this type. A state is a persistent data structure—it isn't updated, but rather a new state value is computed from an old one using the apply method.">ProseMirror 编辑器的状态由此类型的对象表示。状态是一种持久的数据结构——它不会被更新，而是使用<a href="#state.EditorState.apply"><code>apply</code></a>方法从旧状态计算出新状态值。</p>
<p data-x-en="A state holds a number of built-in fields, and plugins can define additional fields.">一个状态包含多个内置字段，插件可以<a href="#state.PluginSpec.state">定义</a>额外的字段。</p>
<dl><dt id="state.EditorState.doc">
  <code><strong><a href="#state.EditorState.doc">doc</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="The current document.">当前文档。</p>
</dd><dt id="state.EditorState.selection">
  <code><strong><a href="#state.EditorState.selection">selection</a></strong>: <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="The selection.">选择。</p>
</dd><dt id="state.EditorState.storedMarks">
  <code><strong><a href="#state.EditorState.storedMarks">storedMarks</a></strong>: <span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="A set of marks to apply to the next input. Will be null when no explicit marks have been set.">一组标记应用于下一个输入。当没有设置显式标记时，将为 null。</p>
</dd><dt id="state.EditorState.schema">
  <code><strong><a href="#state.EditorState.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p data-x-en="The schema of the state's document.">该州文件的架构。</p>
</dd><dt id="state.EditorState.plugins">
  <code><strong><a href="#state.EditorState.plugins">plugins</a></strong>: <span class="keyword">readonly</span>&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a>[]</code></dt>

<dd><p data-x-en="The plugins that are active in this state.">处于此状态的插件。</p>
</dd><dt id="state.EditorState.apply">
  <code><strong><a href="#state.EditorState.apply">apply</a></strong>(<a id="state.EditorState.apply^tr" href="#state.EditorState.apply^tr"><span class="param">tr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>) →&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p data-x-en="Apply the given transaction to produce a new state.">应用给定的事务以生成新状态。</p>
</dd><dt id="state.EditorState.applyTransaction">
  <code><strong><a href="#state.EditorState.applyTransaction">applyTransaction</a></strong>(<a id="state.EditorState.applyTransaction^rootTr" href="#state.EditorState.applyTransaction^rootTr"><span class="param">rootTr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>) →&nbsp;{<span class="prop">state</span>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>, <span class="prop">transactions</span>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>[]}</code></dt>

<dd><p data-x-en="Verbose variant of apply that returns the precise transactions that were applied (which might be influenced by the transaction hooks of plugins) along with the new state.">详细版本的
                <a href="#state.EditorState.apply"><code>apply</code></a>
                返回应用的精确事务（可能会受到插件的
                <a href="#state.PluginSpec.filterTransaction">事务钩子</a>
                的影响）以及新状态。</p>
</dd><dt id="state.EditorState.tr">
  <code><strong><a href="#state.EditorState.tr">tr</a></strong>: <a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Start a transaction from this state.">从此状态<a href="#state.Transaction">开始交易</a>。</p>
</dd><dt id="state.EditorState.reconfigure">
  <code><strong><a href="#state.EditorState.reconfigure">reconfigure</a></strong>(<a id="state.EditorState.reconfigure^config" href="#state.EditorState.reconfigure^config"><span class="param">config</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) →&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p data-x-en="Create a new state based on this one, but with an adjusted set of active plugins. State fields that exist in both sets of plugins are kept unchanged. Those that no longer exist are dropped, and those that are new are initialized using their init method, passing in the new configuration object..">创建一个基于此状态的新状态，但调整了活动插件集。两个插件集中都存在的状态字段保持不变。不再存在的字段将被删除，新的字段将使用其<a href="#state.StateField.init"><code>init</code></a>方法进行初始化，并传入新的配置对象。</p>
<dl><dt id="state.EditorState.reconfigure^config">
  <code><strong><a href="#state.EditorState.reconfigure^config">config</a></strong></code></dt>

<dd><dl><dt id="state.EditorState.reconfigure^config.plugins">
  <code><strong><a href="#state.EditorState.reconfigure^config.plugins">plugins</a></strong>⁠?: <span class="keyword">readonly</span>&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a>[]</code></dt>

<dd><p data-x-en="New set of active plugins.">新的活动插件集。</p>
</dd></dl></dd></dl></dd><dt id="state.EditorState.toJSON">
  <code><strong><a href="#state.EditorState.toJSON">toJSON</a></strong>(<a id="state.EditorState.toJSON^pluginFields" href="#state.EditorState.toJSON^pluginFields"><span class="param">pluginFields</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#state.Plugin"><span class="type">Plugin</span></a>&gt;) →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="Serialize this state to JSON. If you want to serialize the state of plugins, pass an object mapping property names to use in the resulting JSON object to plugin objects. The argument may also be a string or number, in which case it is ignored, to support the way JSON.stringify calls toString methods.">将此状态序列化为JSON。如果要序列化插件的状态，请传递一个对象，将属性名称映射到插件对象中使用的结果JSON对象。该参数也可以是字符串或数字，在这种情况下会被忽略，以支持<code>JSON.stringify</code>调用<code>toString</code>方法的方式。</p>
</dd><dt id="state.EditorState^create">
  <code><span class="keyword">static</span> <strong><a href="#state.EditorState^create">create</a></strong>(<a id="state.EditorState^create^config" href="#state.EditorState^create^config"><span class="param">config</span></a>:&nbsp;<a href="#state.EditorStateConfig"><span class="type">EditorStateConfig</span></a>) →&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p data-x-en="Create a new state.">创建一个新状态。</p>
</dd><dt id="state.EditorState^fromJSON">
  <code><span class="keyword">static</span> <strong><a href="#state.EditorState^fromJSON">fromJSON</a></strong>(<div class="breaktype"><a id="state.EditorState^fromJSON^config" href="#state.EditorState^fromJSON^config"><span class="param">config</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>, </div><div class="breaktype"><a id="state.EditorState^fromJSON^json" href="#state.EditorState^fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>, </div><div class="breaktype"><a id="state.EditorState^fromJSON^pluginFields" href="#state.EditorState^fromJSON^pluginFields"><span class="param">pluginFields</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#state.Plugin"><span class="type">Plugin</span></a>&gt;</div>) →&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p data-x-en="Deserialize a JSON representation of a state. config should have at least a schema field, and should contain array of plugins to initialize the state with. pluginFields can be used to deserialize the state of plugins, by associating plugin instances with the property names they use in the JSON object.">反序列化状态的 JSON 表示。
                <code>config</code> 至少应包含一个
                <code>schema</code> 字段，并且应包含用于初始化状态的插件数组。<code>pluginFields</code> 可以
                用于反序列化插件的状态，通过将插件实例与它们在 JSON 对象中使用的属性名称关联起来。</p>
<dl><dt id="state.EditorState^fromJSON^config">
  <code><strong><a href="#state.EditorState^fromJSON^config">config</a></strong></code></dt>

<dd><dl><dt id="state.EditorState^fromJSON^config.schema">
  <code><strong><a href="#state.EditorState^fromJSON^config.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p data-x-en="The schema to use.">要使用的架构。</p>
</dd><dt id="state.EditorState^fromJSON^config.plugins">
  <code><strong><a href="#state.EditorState^fromJSON^config.plugins">plugins</a></strong>⁠?: <span class="keyword">readonly</span>&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a>[]</code></dt>

<dd><p data-x-en="The set of active plugins.">活动插件集。</p>
</dd></dl></dd></dl></dd></dl>

</dd>
<dt id="state.EditorStateConfig">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#state.EditorStateConfig">EditorStateConfig</a></h4>
</dt>

<dd><p data-x-en="The type of object passed to EditorState.create.">传递给<a href="#state.EditorState%5Ecreate"><code>EditorState.create</code></a>的对象类型。</p>
<dl><dt id="state.EditorStateConfig.schema">
  <code><strong><a href="#state.EditorStateConfig.schema">schema</a></strong>⁠?: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p data-x-en="The schema to use (only relevant if no doc is specified).">要使用的模式（仅在未指定<code>doc</code>时相关）。</p>
</dd><dt id="state.EditorStateConfig.doc">
  <code><strong><a href="#state.EditorStateConfig.doc">doc</a></strong>⁠?: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="The starting document. Either this or schema must be provided.">起始文档。必须提供此文档或<code>schema</code><em>。</em></p>
</dd><dt id="state.EditorStateConfig.selection">
  <code><strong><a href="#state.EditorStateConfig.selection">selection</a></strong>⁠?: <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="A valid selection in the document.">文档中的有效选择。</p>
</dd><dt id="state.EditorStateConfig.storedMarks">
  <code><strong><a href="#state.EditorStateConfig.storedMarks">storedMarks</a></strong>⁠?: <span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="The initial set of stored marks.">初始设置
                <a href="#state.EditorState.storedMarks">存储的标记</a>。</p>
</dd><dt id="state.EditorStateConfig.plugins">
  <code><strong><a href="#state.EditorStateConfig.plugins">plugins</a></strong>⁠?: <span class="keyword">readonly</span>&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a>[]</code></dt>

<dd><p data-x-en="The plugins that should be active in this state.">应在此状态下激活的插件。</p>
</dd></dl>

</dd>
<dt id="state.Transaction">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#state.Transaction">Transaction</a> <code><span class="keyword">extends</span> <a href="#transform.Transform"><span class="type">Transform</span></a></code></h4>
</dt>

<dd><p data-x-en="An editor state transaction, which can be applied to a state to create an updated state. Use EditorState.tr to create an instance.">一个编辑器状态事务，可以应用于一个状态以创建一个更新的状态。使用
<a href="#state.EditorState.tr"><code>EditorState.tr</code></a>
来创建一个实例。</p>
<p data-x-en="Transactions track changes to the document (they are a subclass of Transform), but also other state changes, like selection updates and adjustments of the set of stored marks. In addition, you can store metadata properties in a transaction, which are extra pieces of information that client code or plugins can use to describe what a transaction represents, so that they can update their own state accordingly.">事务跟踪文档的更改（它们是<a href="#transform.Transform"><code>Transform</code></a>的子类），但也包括其他状态更改，如选择更新和<a href="#state.EditorState.storedMarks">存储标记</a>集的调整。此外，您可以在事务中存储元数据属性，这些属性是客户端代码或插件可以使用的额外信息，用于描述事务代表的内容，以便它们可以相应地更新其<a href="#state.StateField">自己的状态</a>。</p>
<p data-x-en="The editor view uses a few metadata properties: it will attach a property &quot;pointer&quot; with the value true to selection transactions directly caused by mouse or touch input, a &quot;composition&quot; property holding an ID identifying the composition that caused it to transactions caused by composed DOM input, and a &quot;uiEvent&quot; property of that may be &quot;paste&quot;, &quot;cut&quot;, or &quot;drop&quot;."><a href="#view.EditorView">编辑器视图</a> 使用了一些元数据属性：它会将一个属性 <code>"pointer"</code> 值为 <code>true</code> 附加到由鼠标或触摸输入直接引起的选择事务上，一个 <code>"composition"</code> 属性持有一个 ID 标识符，标识由组合 DOM 输入引起的事务的组合，以及一个 <code>"uiEvent"</code> 属性，可能是 <code>"paste"</code>、<code>"cut"</code> 或 <code>"drop"</code>。</p>
<dl><dt id="state.Transaction.time">
  <code><strong><a href="#state.Transaction.time">time</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The timestamp associated with this transaction, in the same format as Date.now().">与此交易关联的时间戳，格式与<code>Date.now()</code>相同。</p>
</dd><dt id="state.Transaction.storedMarks">
  <code><strong><a href="#state.Transaction.storedMarks">storedMarks</a></strong>: <span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="The stored marks set by this transaction, if any.">此交易设置的存储标记（如果有）。</p>
</dd><dt id="state.Transaction.selection">
  <code><strong><a href="#state.Transaction.selection">selection</a></strong>: <a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="The transaction's current selection. This defaults to the editor selection mapped through the steps in the transaction, but can be overwritten with setSelection.">交易的当前选择。默认情况下，这是通过交易中的步骤<a href="#state.Selection.map">映射</a>到编辑器选择，但可以用<a href="#state.Transaction.setSelection"><code>setSelection</code></a>覆盖。</p>
</dd><dt id="state.Transaction.setSelection">
  <code><strong><a href="#state.Transaction.setSelection">setSelection</a></strong>(<a id="state.Transaction.setSelection^selection" href="#state.Transaction.setSelection^selection"><span class="param">selection</span></a>:&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Update the transaction's current selection. Will determine the selection that the editor gets when the transaction is applied.">更新交易的当前选择。将确定在应用交易时编辑器获得的选择。</p>
</dd><dt id="state.Transaction.selectionSet">
  <code><strong><a href="#state.Transaction.selectionSet">selectionSet</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Whether the selection was explicitly updated by this transaction.">该事务是否显式更新了选择内容。</p>
</dd><dt id="state.Transaction.setStoredMarks">
  <code><strong><a href="#state.Transaction.setStoredMarks">setStoredMarks</a></strong>(<a id="state.Transaction.setStoredMarks^marks" href="#state.Transaction.setStoredMarks^marks"><span class="param">marks</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Set the current stored marks.">设置当前存储的标记。</p>
</dd><dt id="state.Transaction.ensureMarks">
  <code><strong><a href="#state.Transaction.ensureMarks">ensureMarks</a></strong>(<a id="state.Transaction.ensureMarks^marks" href="#state.Transaction.ensureMarks^marks"><span class="param">marks</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Make sure the current stored marks or, if that is null, the marks at the selection, match the given set of marks. Does nothing if this is already the case.">确保当前存储的标记，或者如果为空，则确保选择的标记与给定的标记集匹配。如果已经是这种情况，则不执行任何操作。</p>
</dd><dt id="state.Transaction.addStoredMark">
  <code><strong><a href="#state.Transaction.addStoredMark">addStoredMark</a></strong>(<a id="state.Transaction.addStoredMark^mark" href="#state.Transaction.addStoredMark^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Add a mark to the set of stored marks.">添加标记到存储的标记集合。</p>
</dd><dt id="state.Transaction.removeStoredMark">
  <code><strong><a href="#state.Transaction.removeStoredMark">removeStoredMark</a></strong>(<a id="state.Transaction.removeStoredMark^mark" href="#state.Transaction.removeStoredMark^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a> | <a href="#model.MarkType"><span class="type">MarkType</span></a>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Remove a mark or mark type from the set of stored marks.">从存储的标记集中删除标记或标记类型。</p>
</dd><dt id="state.Transaction.storedMarksSet">
  <code><strong><a href="#state.Transaction.storedMarksSet">storedMarksSet</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Whether the stored marks were explicitly set for this transaction.">是否为此交易显式设置了存储的标记。</p>
</dd><dt id="state.Transaction.setTime">
  <code><strong><a href="#state.Transaction.setTime">setTime</a></strong>(<a id="state.Transaction.setTime^time" href="#state.Transaction.setTime^time"><span class="param">time</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Update the timestamp for the transaction.">更新交易的时间戳。</p>
</dd><dt id="state.Transaction.replaceSelection">
  <code><strong><a href="#state.Transaction.replaceSelection">replaceSelection</a></strong>(<a id="state.Transaction.replaceSelection^slice" href="#state.Transaction.replaceSelection^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Replace the current selection with the given slice.">将当前选择替换为给定的切片。</p>
</dd><dt id="state.Transaction.replaceSelectionWith">
  <code><strong><a href="#state.Transaction.replaceSelectionWith">replaceSelectionWith</a></strong>(<a id="state.Transaction.replaceSelectionWith^node" href="#state.Transaction.replaceSelectionWith^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="state.Transaction.replaceSelectionWith^inheritMarks" href="#state.Transaction.replaceSelectionWith^inheritMarks"><span class="param">inheritMarks</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a><span class="defaultvalue"> = true</span>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Replace the selection with the given node. When inheritMarks is true and the content is inline, it inherits the marks from the place where it is inserted.">将选定内容替换为给定节点。当<code>inheritMarks</code>为true且内容为内联时，它将继承插入位置的标记。</p>
</dd><dt id="state.Transaction.deleteSelection">
  <code><strong><a href="#state.Transaction.deleteSelection">deleteSelection</a></strong>() →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Delete the selection.">删除所选内容。</p>
</dd><dt id="state.Transaction.insertText">
  <code><strong><a href="#state.Transaction.insertText">insertText</a></strong>(<a id="state.Transaction.insertText^text" href="#state.Transaction.insertText^text"><span class="param">text</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <a id="state.Transaction.insertText^from" href="#state.Transaction.insertText^from"><span class="param">from</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="state.Transaction.insertText^to" href="#state.Transaction.insertText^to"><span class="param">to</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Replace the given range, or the selection if no range is given, with a text node containing the given string.">替换给定范围，或在未给定范围时替换选定内容，
                用包含给定字符串的文本节点。</p>
</dd><dt id="state.Transaction.setMeta">
  <code><strong><a href="#state.Transaction.setMeta">setMeta</a></strong>(<div class="breaktype"><a id="state.Transaction.setMeta^key" href="#state.Transaction.setMeta^key"><span class="param">key</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="#state.Plugin"><span class="type">Plugin</span></a> | <a href="#state.PluginKey"><span class="type">PluginKey</span></a>, </div><div class="breaktype"><a id="state.Transaction.setMeta^value" href="#state.Transaction.setMeta^value"><span class="param">value</span></a>:&nbsp;<span class="type">any</span></div>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Store a metadata property in this transaction, keyed either by name or by plugin.">在此事务中存储一个元数据属性，可以通过名称或插件进行键控。</p>
</dd><dt id="state.Transaction.getMeta">
  <code><strong><a href="#state.Transaction.getMeta">getMeta</a></strong>(<a id="state.Transaction.getMeta^key" href="#state.Transaction.getMeta^key"><span class="param">key</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="#state.Plugin"><span class="type">Plugin</span></a> | <a href="#state.PluginKey"><span class="type">PluginKey</span></a>) →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="Retrieve a metadata property for a given name or plugin.">检索给定名称或插件的元数据属性。</p>
</dd><dt id="state.Transaction.isGeneric">
  <code><strong><a href="#state.Transaction.isGeneric">isGeneric</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Returns true if this transaction doesn't contain any metadata, and can thus safely be extended.">如果此交易不包含任何元数据，则返回 true，因此可以安全地扩展。</p>
</dd><dt id="state.Transaction.scrollIntoView">
  <code><strong><a href="#state.Transaction.scrollIntoView">scrollIntoView</a></strong>() →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Indicate that the editor should scroll the selection into view when updated to the state produced by this transaction.">指示编辑器在更新到此事务生成的状态时应滚动选择内容以使其可见</p>
</dd><dt id="state.Transaction.scrolledIntoView">
  <code><strong><a href="#state.Transaction.scrolledIntoView">scrolledIntoView</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this transaction has had scrollIntoView called on it.">True when this transaction has had
                <code>scrollIntoView</code> called on it.</p>
</dd></dl>

</dd>
<dt id="state.Command">
  <code>
    <span class="keyword">type</span>
    <strong><a href="#state.Command">Command</a></strong> = <span class="fn">fn</span>(<div class="breaktype"><a id="state.Command^state" href="#state.Command^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>, </div><div class="breaktype"><a id="state.Command^dispatch" href="#state.Command^dispatch"><span class="param">dispatch</span></a>⁠?:&nbsp;<span class="fn">fn</span>(<a id="state.Command^dispatch^tr" href="#state.Command^dispatch^tr"><span class="param">tr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>), </div><div class="breaktype"><a id="state.Command^view" href="#state.Command^view"><span class="param">view</span></a>⁠?:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code>
</dt>

<dd><p data-x-en="Commands are functions that take a state and a an optional transaction dispatch function and...">命令是一些函数，它们接受一个状态和一个可选的事务分发函数，并且...</p>
<ul>
<li data-x-en="determine whether they apply to this state">确定它们是否适用于该州</li>
<li data-x-en="if not, return false">如果没有，则返回 false</li>
<li data-x-en="if dispatch was passed, perform their effect, possibly by passing a transaction to dispatch">如果传递了<code>dispatch</code>，则执行其效果，可能通过将事务传递给<code>dispatch</code></li>
<li data-x-en="return true">返回真</li>
</ul>
<p data-x-en="In some cases, the editor view is passed as a third argument.">在某些情况下，编辑器视图作为第三个参数传递。</p>
</dd>
</dl>
<h3 id="state.Selection"><a href="#state.Selection">Selection</a></h3>
<p data-x-en="A ProseMirror selection can be one of several types. This module defines types for classical text selections (of which cursors are a special case) and node selections, where a specific document node is selected. It is possible to extend the editor with custom selection types.">ProseMirror 选择可以是几种类型之一。此模块定义了经典的<a href="#state.TextSelection">文本选择</a>（其中光标是一个特殊情况）和<a href="#state.NodeSelection"><em>节点</em>选择</a>的类型，其中选择了特定的文档节点。可以通过自定义选择类型来扩展编辑器。</p>
<dl>
<dt id="state.Selection">
  <h4>
    <code><span class="keyword"><span class="keyword">abstract</span> class</span></code>
    <a href="#state.Selection">Selection</a></h4>
</dt>

<dd><p data-x-en="Superclass for editor selections. Every selection type should extend this. Should not be instantiated directly.">编辑器选择的超类。每种选择类型都应扩展此类。不应直接实例化。</p>
<dl><dt id="state.Selection.constructor">
  <code><span class="keyword">new</span> <strong><a href="#state.Selection.constructor">Selection</a></strong>(<div class="breaktype"><a id="state.Selection.constructor^$anchor" href="#state.Selection.constructor^$anchor"><span class="param">$anchor</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="state.Selection.constructor^$head" href="#state.Selection.constructor^$head"><span class="param">$head</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="state.Selection.constructor^ranges" href="#state.Selection.constructor^ranges"><span class="param">ranges</span></a>⁠?:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#state.SelectionRange"><span class="type">SelectionRange</span></a>[]</div>)</code></dt>

<dd><p data-x-en="Initialize a selection with the head and anchor and ranges. If no ranges are given, constructs a single range across $anchor and $head.">初始化一个包含头部和锚点以及范围的选择。如果没有给定范围，则在<code>$anchor</code>和<code>$head</code>之间构建一个单一范围。</p>
</dd><dt id="state.Selection.$anchor">
  <code><strong><a href="#state.Selection.$anchor">$anchor</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="The resolved anchor of the selection (the side that stays in place when the selection is modified).">选择的已解析锚点（在修改选择时保持不变的一侧）。</p>
</dd><dt id="state.Selection.$head">
  <code><strong><a href="#state.Selection.$head">$head</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="The resolved head of the selection (the side that moves when the selection is modified).">选择的已解决头（选择被修改时移动的一侧）。</p>
</dd><dt id="state.Selection.ranges">
  <code><strong><a href="#state.Selection.ranges">ranges</a></strong>: <span class="keyword">readonly</span>&nbsp;<a href="#state.SelectionRange"><span class="type">SelectionRange</span></a>[]</code></dt>

<dd><p data-x-en="The ranges covered by the selection.">选择范围涵盖。</p>
</dd><dt id="state.Selection.anchor">
  <code><strong><a href="#state.Selection.anchor">anchor</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The selection's anchor, as an unresolved position.">选择的锚点，作为一个未解决的位置。</p>
</dd><dt id="state.Selection.head">
  <code><strong><a href="#state.Selection.head">head</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The selection's head.">选择的头。</p>
</dd><dt id="state.Selection.from">
  <code><strong><a href="#state.Selection.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The lower bound of the selection's main range.">选择的主要范围的下限。</p>
</dd><dt id="state.Selection.to">
  <code><strong><a href="#state.Selection.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The upper bound of the selection's main range.">选择主范围的上限。</p>
</dd><dt id="state.Selection.$from">
  <code><strong><a href="#state.Selection.$from">$from</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="The resolved lower bound of the selection's main range.">选择的主要范围的已解决下限。</p>
</dd><dt id="state.Selection.$to">
  <code><strong><a href="#state.Selection.$to">$to</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="The resolved upper bound of the selection's main range.">选择的主要范围的已解决上限。</p>
</dd><dt id="state.Selection.empty">
  <code><strong><a href="#state.Selection.empty">empty</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Indicates whether the selection contains any content.">指示选择是否包含任何内容。</p>
</dd><dt id="state.Selection.eq">
  <code><span class="keyword">abstract</span> <strong><a href="#state.Selection.eq">eq</a></strong>(<a id="state.Selection.eq^selection" href="#state.Selection.eq^selection"><span class="param">selection</span></a>:&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether the selection is the same as another selection.">测试选择是否与另一个选择相同。</p>
</dd><dt id="state.Selection.map">
  <code><span class="keyword">abstract</span> <strong><a href="#state.Selection.map">map</a></strong>(<a id="state.Selection.map^doc" href="#state.Selection.map^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="state.Selection.map^mapping" href="#state.Selection.map^mapping"><span class="param">mapping</span></a>:&nbsp;<a href="#transform.Mappable"><span class="type">Mappable</span></a>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="Map this selection through a mappable thing. doc should be the new document to which we are mapping.">将此选择映射到一个
                <a href="#transform.Mappable">可映射</a>的事物。
                <code>doc</code> 应该是我们要映射到的新文档。</p>
</dd><dt id="state.Selection.content">
  <code><strong><a href="#state.Selection.content">content</a></strong>() →&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="Get the content of this selection as a slice.">获取此选择的内容作为切片。</p>
</dd><dt id="state.Selection.replace">
  <code><strong><a href="#state.Selection.replace">replace</a></strong>(<div class="breaktype"><a id="state.Selection.replace^tr" href="#state.Selection.replace^tr"><span class="param">tr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>, </div><div class="breaktype"><a id="state.Selection.replace^content" href="#state.Selection.replace^content"><span class="param">content</span></a>⁠?:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a><span class="defaultvalue"> = Slice.empty</span></div>)</code></dt>

<dd><p data-x-en="Replace the selection with a slice or, if no slice is given, delete the selection. Will append to the given transaction.">将所选内容替换为切片，如果未提供切片，则删除所选内容。将附加到给定的事务。</p>
</dd><dt id="state.Selection.replaceWith">
  <code><strong><a href="#state.Selection.replaceWith">replaceWith</a></strong>(<a id="state.Selection.replaceWith^tr" href="#state.Selection.replaceWith^tr"><span class="param">tr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>, <a id="state.Selection.replaceWith^node" href="#state.Selection.replaceWith^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>)</code></dt>

<dd><p data-x-en="Replace the selection with the given node, appending the changes to the given transaction.">用给定的节点替换所选内容，并将更改附加到给定的事务。</p>
</dd><dt id="state.Selection.toJSON">
  <code><span class="keyword">abstract</span> <strong><a href="#state.Selection.toJSON">toJSON</a></strong>() →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="Convert the selection to a JSON representation. When implementing this for a custom selection class, make sure to give the object a type property whose value matches the ID under which you registered your class.">将选定内容转换为JSON表示形式。在为自定义选择类实现此功能时，请确保为对象提供一个<code>type</code>属性，其值与您<a href="#state.Selection%5EjsonID">注册</a>类的ID匹配。</p>
</dd><dt id="state.Selection.getBookmark">
  <code><strong><a href="#state.Selection.getBookmark">getBookmark</a></strong>() →&nbsp;<a href="#state.SelectionBookmark"><span class="type">SelectionBookmark</span></a></code></dt>

<dd><p data-x-en="Get a bookmark for this selection, which is a value that can be mapped without having access to a current document, and later resolved to a real selection for a given document again. (This is used mostly by the history to track and restore old selections.) The default implementation of this method just converts the selection to a text selection and returns the bookmark for that.">获取此选择的<a href="#state.SelectionBookmark">书签</a>，这是一个无需访问当前文档即可映射的值，稍后可以再次解析为给定文档的实际选择。（这主要由历史记录用于跟踪和恢复旧选择。）此方法的默认实现只是将选择转换为文本选择并返回其书签。</p>
</dd><dt id="state.Selection.visible">
  <code><strong><a href="#state.Selection.visible">visible</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Controls whether, when a selection of this type is active in the browser, the selected range should be visible to the user. Defaults to true.">控制是否在浏览器中激活此类型的选择时，所选范围应对用户可见。默认值为<code>true</code>。</p>
</dd><dt id="state.Selection^findFrom">
  <code><span class="keyword">static</span> <strong><a href="#state.Selection^findFrom">findFrom</a></strong>(<div class="breaktype"><a id="state.Selection^findFrom^$pos" href="#state.Selection^findFrom^$pos"><span class="param">$pos</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="state.Selection^findFrom^dir" href="#state.Selection^findFrom^dir"><span class="param">dir</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="state.Selection^findFrom^textOnly" href="#state.Selection^findFrom^textOnly"><span class="param">textOnly</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a><span class="defaultvalue"> = false</span></div>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Find a valid cursor or leaf node selection starting at the given position and searching back if dir is negative, and forward if positive. When textOnly is true, only consider cursor selections. Will return null when no valid selection position is found.">找到一个有效的光标或叶节点选择，从给定位置开始，如果<code>dir</code>为负数则向后搜索，如果为正数则向前搜索。当<code>textOnly</code>为真时，只考虑光标选择。当没有找到有效的选择位置时，将返回null。</p>
</dd><dt id="state.Selection^near">
  <code><span class="keyword">static</span> <strong><a href="#state.Selection^near">near</a></strong>(<a id="state.Selection^near^$pos" href="#state.Selection^near^$pos"><span class="param">$pos</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <a id="state.Selection^near^bias" href="#state.Selection^near^bias"><span class="param">bias</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 1</span>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="Find a valid cursor or leaf node selection near the given position. Searches forward first by default, but if bias is negative, it will search backwards first.">找到给定位置附近的有效光标或叶节点选择。默认情况下先向前搜索，但如果<code>bias</code>为负数，则先向后搜索。</p>
</dd><dt id="state.Selection^atStart">
  <code><span class="keyword">static</span> <strong><a href="#state.Selection^atStart">atStart</a></strong>(<a id="state.Selection^atStart^doc" href="#state.Selection^atStart^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="Find the cursor or leaf node selection closest to the start of the given document. Will return an AllSelection if no valid position exists.">找到最接近给定文档开头的光标或叶节点选择。如果不存在有效位置，将返回一个<a href="#state.AllSelection"><code>AllSelection</code></a>。</p>
</dd><dt id="state.Selection^atEnd">
  <code><span class="keyword">static</span> <strong><a href="#state.Selection^atEnd">atEnd</a></strong>(<a id="state.Selection^atEnd^doc" href="#state.Selection^atEnd^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="Find the cursor or leaf node selection closest to the end of the given document.">找到最接近给定文档末尾的光标或叶节点选择。</p>
</dd><dt id="state.Selection^fromJSON">
  <code><span class="keyword">static</span> <strong><a href="#state.Selection^fromJSON">fromJSON</a></strong>(<a id="state.Selection^fromJSON^doc" href="#state.Selection^fromJSON^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="state.Selection^fromJSON^json" href="#state.Selection^fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="Deserialize the JSON representation of a selection. Must be implemented for custom classes (as a static class method).">反序列化选择的JSON表示。必须为自定义类实现（作为静态类方法）。</p>
</dd><dt id="state.Selection^jsonID">
  <code><span class="keyword">static</span> <strong><a href="#state.Selection^jsonID">jsonID</a></strong>(<div class="breaktype"><a id="state.Selection^jsonID^id" href="#state.Selection^jsonID^id"><span class="param">id</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, </div><div class="breaktype"><a id="state.Selection^jsonID^selectionClass" href="#state.Selection^jsonID^selectionClass"><span class="param">selectionClass</span></a>:&nbsp;{<span class="prop">fromJSON</span>:&nbsp;<span class="fn">fn</span>(<a id="state.Selection^jsonID^selectionClass.fromJSON^doc" href="#state.Selection^jsonID^selectionClass.fromJSON^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="state.Selection^jsonID^selectionClass.fromJSON^json" href="#state.Selection^jsonID^selectionClass.fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a>}</div>) →&nbsp;{<span class="prop">fromJSON</span>:&nbsp;<span class="fn">fn</span>(<a id="state.Selection^jsonID^returns.fromJSON^doc" href="#state.Selection^jsonID^returns.fromJSON^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="state.Selection^jsonID^returns.fromJSON^json" href="#state.Selection^jsonID^returns.fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a>}</code></dt>

<dd><p data-x-en="To be able to deserialize selections from JSON, custom selection classes must register themselves with an ID string, so that they can be disambiguated. Try to pick something that's unlikely to clash with classes from other modules.">为了能够从 JSON 反序列化选择项，自定义选择类必须使用一个 ID 字符串注册自己，以便它们可以被区分开来。尽量选择一些不太可能与其他模块的类冲突的内容。</p>
</dd></dl>

</dd>
<dt id="state.TextSelection">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#state.TextSelection">TextSelection</a> <code><span class="keyword">extends</span> <a href="#state.Selection"><span class="type">Selection</span></a></code></h4>
</dt>

<dd><p data-x-en="A text selection represents a classical editor selection, with a head (the moving side) and anchor (immobile side), both of which point into textblock nodes. It can be empty (a regular cursor position).">一个文本选择表示一个经典的编辑器选择，具有一个头（移动端）和锚（固定端），两者都指向文本块节点。它可以是空的（一个常规的光标位置）。</p>
<dl><dt id="state.TextSelection.constructor">
  <code><span class="keyword">new</span> <strong><a href="#state.TextSelection.constructor">TextSelection</a></strong>(<div class="breaktype"><a id="state.TextSelection.constructor^$anchor" href="#state.TextSelection.constructor^$anchor"><span class="param">$anchor</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="state.TextSelection.constructor^$head" href="#state.TextSelection.constructor^$head"><span class="param">$head</span></a>⁠?:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a><span class="defaultvalue"> = $anchor</span></div>)</code></dt>

<dd><p data-x-en="Construct a text selection between the given points.">在给定点之间构建文本选择。</p>
</dd><dt id="state.TextSelection.$cursor">
  <code><strong><a href="#state.TextSelection.$cursor">$cursor</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Returns a resolved position if this is a cursor selection (an empty text selection), and null otherwise.">如果这是一个光标选择（一个空的文本选择），则返回一个已解析的位置，否则返回 null。</p>
</dd><dt id="state.TextSelection^create">
  <code><span class="keyword">static</span> <strong><a href="#state.TextSelection^create">create</a></strong>(<div class="breaktype"><a id="state.TextSelection^create^doc" href="#state.TextSelection^create^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="state.TextSelection^create^anchor" href="#state.TextSelection^create^anchor"><span class="param">anchor</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="state.TextSelection^create^head" href="#state.TextSelection^create^head"><span class="param">head</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = anchor</span></div>) →&nbsp;<a href="#state.TextSelection"><span class="type">TextSelection</span></a></code></dt>

<dd><p data-x-en="Create a text selection from non-resolved positions.">从未解析的位置创建文本选择。</p>
</dd><dt id="state.TextSelection^between">
  <code><span class="keyword">static</span> <strong><a href="#state.TextSelection^between">between</a></strong>(<div class="breaktype"><a id="state.TextSelection^between^$anchor" href="#state.TextSelection^between^$anchor"><span class="param">$anchor</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="state.TextSelection^between^$head" href="#state.TextSelection^between^$head"><span class="param">$head</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="state.TextSelection^between^bias" href="#state.TextSelection^between^bias"><span class="param">bias</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></div>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="Return a text selection that spans the given positions or, if they aren't text positions, find a text selection near them. bias determines whether the method searches forward (default) or backwards (negative number) first. Will fall back to calling Selection.near when the document doesn't contain a valid text position.">返回跨越给定位置的文本选择，或者，如果它们不是文本位置，则在它们附近找到一个文本选择。
<code>bias</code>决定方法是先向前搜索（默认）还是先向后搜索（负数）。当文档不包含有效的文本位置时，将回退调用
<a href="#state.Selection%5Enear"><code>Selection.near</code></a>。</p>
</dd></dl>

</dd>
<dt id="state.NodeSelection">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#state.NodeSelection">NodeSelection</a> <code><span class="keyword">extends</span> <a href="#state.Selection"><span class="type">Selection</span></a></code></h4>
</dt>

<dd><p data-x-en="A node selection is a selection that points at a single node. All nodes marked selectable can be the target of a node selection. In such a selection, from and to point directly before and after the selected node, anchor equals from, and head equals to..">一个节点选择是指向单个节点的选择。所有标记为<a href="#model.NodeSpec.selectable">可选择的</a>节点都可以成为节点选择的目标。在这样的选择中，<code>from</code>和<code>to</code>直接指向所选节点之前和之后，<code>anchor</code>等于<code>from</code>，<code>head</code>等于<code>to</code>。</p>
<dl><dt id="state.NodeSelection.constructor">
  <code><span class="keyword">new</span> <strong><a href="#state.NodeSelection.constructor">NodeSelection</a></strong>(<a id="state.NodeSelection.constructor^$pos" href="#state.NodeSelection.constructor^$pos"><span class="param">$pos</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>)</code></dt>

<dd><p data-x-en="Create a node selection. Does not verify the validity of its argument.">创建节点选择。不验证其参数的有效性。</p>
</dd><dt id="state.NodeSelection.node">
  <code><strong><a href="#state.NodeSelection.node">node</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="The selected node.">所选节点。</p>
</dd><dt id="state.NodeSelection^create">
  <code><span class="keyword">static</span> <strong><a href="#state.NodeSelection^create">create</a></strong>(<a id="state.NodeSelection^create^doc" href="#state.NodeSelection^create^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="state.NodeSelection^create^from" href="#state.NodeSelection^create^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#state.NodeSelection"><span class="type">NodeSelection</span></a></code></dt>

<dd><p data-x-en="Create a node selection from non-resolved positions.">从未解析的位置创建节点选择。</p>
</dd><dt id="state.NodeSelection^isSelectable">
  <code><span class="keyword">static</span> <strong><a href="#state.NodeSelection^isSelectable">isSelectable</a></strong>(<a id="state.NodeSelection^isSelectable^node" href="#state.NodeSelection^isSelectable^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Determines whether the given node may be selected as a node selection.">确定是否可以选择给定节点作为节点选择。</p>
</dd></dl>

</dd>
<dt id="state.AllSelection">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#state.AllSelection">AllSelection</a> <code><span class="keyword">extends</span> <a href="#state.Selection"><span class="type">Selection</span></a></code></h4>
</dt>

<dd><p data-x-en="A selection type that represents selecting the whole document (which can not necessarily be expressed with a text selection, when there are for example leaf block nodes at the start or end of the document).">一种表示选择整个文档的选择类型（当文档的开头或结尾有叶块节点时，不一定能用文本选择来表示）。</p>
<dl><dt id="state.AllSelection.constructor">
  <code><span class="keyword">new</span> <strong><a href="#state.AllSelection.constructor">AllSelection</a></strong>(<a id="state.AllSelection.constructor^doc" href="#state.AllSelection.constructor^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>)</code></dt>

<dd><p data-x-en="Create an all-selection over the given document.">在给定的文档上创建一个全选。</p>
</dd></dl>

</dd>
<dt id="state.SelectionRange">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#state.SelectionRange">SelectionRange</a></h4>
</dt>

<dd><p data-x-en="Represents a selected range in a document.">表示文档中选定的范围。</p>
<dl><dt id="state.SelectionRange.constructor">
  <code><span class="keyword">new</span> <strong><a href="#state.SelectionRange.constructor">SelectionRange</a></strong>(<a id="state.SelectionRange.constructor^$from" href="#state.SelectionRange.constructor^$from"><span class="param">$from</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, <a id="state.SelectionRange.constructor^$to" href="#state.SelectionRange.constructor^$to"><span class="param">$to</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>)</code></dt>

<dd><p data-x-en="Create a range.">创建一个范围。</p>
</dd><dt id="state.SelectionRange.$from">
  <code><strong><a href="#state.SelectionRange.$from">$from</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="The lower bound of the range.">范围的下限。</p>
</dd><dt id="state.SelectionRange.$to">
  <code><strong><a href="#state.SelectionRange.$to">$to</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="The upper bound of the range.">范围的上限。</p>
</dd></dl>

</dd>
<dt id="state.SelectionBookmark">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#state.SelectionBookmark">SelectionBookmark</a></h4>
</dt>

<dd><p data-x-en="A lightweight, document-independent representation of a selection. You can define a custom bookmark type for a custom selection class to make the history handle it well.">一个轻量级的、与文档无关的选择表示。
你可以为自定义选择类定义一个自定义书签类型，以便历史记录能够很好地处理它。</p>
<dl><dt id="state.SelectionBookmark.map">
  <code><strong><a href="#state.SelectionBookmark.map">map</a></strong>(<a id="state.SelectionBookmark.map^mapping" href="#state.SelectionBookmark.map^mapping"><span class="param">mapping</span></a>:&nbsp;<a href="#transform.Mappable"><span class="type">Mappable</span></a>) →&nbsp;<a href="#state.SelectionBookmark"><span class="type">SelectionBookmark</span></a></code></dt>

<dd><p data-x-en="Map the bookmark through a set of changes.">将书签映射到一组更改。</p>
</dd><dt id="state.SelectionBookmark.resolve">
  <code><strong><a href="#state.SelectionBookmark.resolve">resolve</a></strong>(<a id="state.SelectionBookmark.resolve^doc" href="#state.SelectionBookmark.resolve^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a></code></dt>

<dd><p data-x-en="Resolve the bookmark to a real selection again. This may need to do some error checking and may fall back to a default (usually TextSelection.between) if mapping made the bookmark invalid.">将书签再次解析为实际选择。这可能需要进行一些错误检查，并且如果映射使书签无效，可能会回退到默认值（通常是<a href="#state.TextSelection%5Ebetween"><code>TextSelection.between</code></a>）。</p>
</dd></dl>

</dd>
</dl>
<h3 id="state.Plugin_System"><a href="#state.Plugin_System">Plugin System</a></h3>
<p data-x-en="To make it easy to package and enable extra editor functionality, ProseMirror has a plugin system.">为了便于打包和启用额外的编辑器功能，ProseMirror 有一个插件系统。</p>
<dl>
<dt id="state.PluginSpec">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#state.PluginSpec">PluginSpec</a><code>&lt;<a id="state.PluginSpec^PluginState" href="#state.PluginSpec^PluginState">PluginState</a>&gt;</code></h4>
</dt>

<dd><p data-x-en="This is the type passed to the Plugin constructor. It provides a definition for a plugin.">这是传递给<a href="#state.Plugin"><code>Plugin</code></a>构造函数的类型。它提供了插件的定义。</p>
<dl><dt id="state.PluginSpec.props">
  <code><strong><a href="#state.PluginSpec.props">props</a></strong>⁠?: <a href="#view.EditorProps"><span class="type">EditorProps</span></a>&lt;<a href="#state.Plugin"><span class="type">Plugin</span></a>&lt;<a href="#state.PluginSpec^PluginState"><span class="type">PluginState</span></a>&gt;&gt;</code></dt>

<dd><p data-x-en="The view props added by this plugin. Props that are functions will be bound to have the plugin instance as their this binding.">该<a href="#view.EditorProps">视图属性</a>由此插件添加。作为函数的属性将绑定插件实例作为它们的<code>this</code>绑定。</p>
</dd><dt id="state.PluginSpec.state">
  <code><strong><a href="#state.PluginSpec.state">state</a></strong>⁠?: <a href="#state.StateField"><span class="type">StateField</span></a>&lt;<a href="#state.PluginSpec^PluginState"><span class="type">PluginState</span></a>&gt;</code></dt>

<dd><p data-x-en="Allows a plugin to define a state field, an extra slot in the state object in which it can keep its own data.">允许插件定义一个<a href="#state.StateField">状态字段</a>，即状态对象中的一个额外槽位，用于存储插件自己的数据。</p>
</dd><dt id="state.PluginSpec.key">
  <code><strong><a href="#state.PluginSpec.key">key</a></strong>⁠?: <a href="#state.PluginKey"><span class="type">PluginKey</span></a></code></dt>

<dd><p data-x-en="Can be used to make this a keyed plugin. You can have only one plugin with a given key in a given state, but it is possible to access the plugin's configuration and state through the key, without having access to the plugin instance object.">可以用来使其成为一个带键的插件。你在一个给定状态中只能有一个具有给定键的插件，但可以通过键访问插件的配置和状态，而无需访问插件实例对象。</p>
</dd><dt id="state.PluginSpec.view">
  <code><strong><a href="#state.PluginSpec.view">view</a></strong>⁠?: <span class="fn">fn</span>(<a id="state.PluginSpec.view^view" href="#state.PluginSpec.view^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>) →&nbsp;<a href="#state.PluginView"><span class="type">PluginView</span></a></code></dt>

<dd><p data-x-en="When the plugin needs to interact with the editor view, or set something up in the DOM, use this field. The function will be called when the plugin's state is associated with an editor view.">当插件需要与编辑器视图交互或在DOM中设置某些内容时，请使用此字段。插件的状态与编辑器视图关联时将调用该函数。</p>
</dd><dt id="state.PluginSpec.filterTransaction">
  <code><strong><a href="#state.PluginSpec.filterTransaction">filterTransaction</a></strong>⁠?: <span class="fn">fn</span>(<a id="state.PluginSpec.filterTransaction^tr" href="#state.PluginSpec.filterTransaction^tr"><span class="param">tr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>, <a id="state.PluginSpec.filterTransaction^state" href="#state.PluginSpec.filterTransaction^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When present, this will be called before a transaction is applied by the state, allowing the plugin to cancel it (by returning false).">在存在时，这将在事务被状态应用之前被调用，允许插件取消它（通过返回 false）。</p>
</dd><dt id="state.PluginSpec.appendTransaction">
  <code><strong><a href="#state.PluginSpec.appendTransaction">appendTransaction</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="state.PluginSpec.appendTransaction^transactions" href="#state.PluginSpec.appendTransaction^transactions"><span class="param">transactions</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>[], </div><div class="breaktype"><a id="state.PluginSpec.appendTransaction^oldState" href="#state.PluginSpec.appendTransaction^oldState"><span class="param">oldState</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>, </div><div class="breaktype"><a id="state.PluginSpec.appendTransaction^newState" href="#state.PluginSpec.appendTransaction^newState"><span class="param">newState</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a></div>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Allows the plugin to append another transaction to be applied after the given array of transactions. When another plugin appends a transaction after this was called, it is called again with the new state and new transactions—but only the new transactions, i.e. it won't be passed transactions that it already saw.">允许插件在给定的交易数组之后附加另一个要应用的交易。当另一个插件在此调用之后附加交易时，它会再次被调用，并带有新的状态和新的交易——但仅限于新的交易，即它不会传递已经看到的交易。</p>
</dd><dt id="state.PluginSpec^string">
  <code><strong><a href="#state.PluginSpec^string">[string]</a></strong>: <span class="type">any</span></code></dt>

<dd><p data-x-en="Additional properties are allowed on plugin specs, which can be read via Plugin.spec.">插件规格允许附加属性，可以通过<a href="#state.Plugin.spec"><code>Plugin.spec</code></a>读取。</p>
</dd></dl>

</dd>
<dt id="state.StateField">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#state.StateField">StateField</a><code>&lt;<a id="state.StateField^T" href="#state.StateField^T">T</a>&gt;</code></h4>
</dt>

<dd><p data-x-en="A plugin spec may provide a state field (under its state property) of this type, which describes the state it wants to keep. Functions provided here are always called with the plugin instance as their this binding.">插件规范可能会提供一个状态字段（在其
            <a href="#state.PluginSpec.state"><code>state</code></a> 属性下），
            这种类型描述了它想要保持的状态。这里提供的函数总是以插件实例作为它们的
            <code>this</code> 绑定。</p>
<dl><dt id="state.StateField.init">
  <code><strong><a href="#state.StateField.init">init</a></strong>(<div class="breaktype"><a id="state.StateField.init^config" href="#state.StateField.init^config"><span class="param">config</span></a>:&nbsp;<a href="#state.EditorStateConfig"><span class="type">EditorStateConfig</span></a>, </div><div class="breaktype"><a id="state.StateField.init^instance" href="#state.StateField.init^instance"><span class="param">instance</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a></div>) →&nbsp;<a href="#state.StateField^T"><span class="type">T</span></a></code></dt>

<dd><p data-x-en="Initialize the value of the field. config will be the object passed to EditorState.create. Note that instance is a half-initialized state instance, and will not have values for plugin fields initialized after this one.">初始化字段的值。<code>config</code> 将是传递给 <a href="#state.EditorState%5Ecreate"><code>EditorState.create</code></a> 的对象。请注意，<code>instance</code> 是一个半初始化的状态实例，并且在此之后初始化的插件字段将不会有值。</p>
</dd><dt id="state.StateField.apply">
  <code><strong><a href="#state.StateField.apply">apply</a></strong>(<div class="breaktype"><a id="state.StateField.apply^tr" href="#state.StateField.apply^tr"><span class="param">tr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>, </div><div class="breaktype"><a id="state.StateField.apply^value" href="#state.StateField.apply^value"><span class="param">value</span></a>:&nbsp;<a href="#state.StateField^T"><span class="type">T</span></a>, </div><div class="breaktype"><a id="state.StateField.apply^oldState" href="#state.StateField.apply^oldState"><span class="param">oldState</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>, </div><div class="breaktype"><a id="state.StateField.apply^newState" href="#state.StateField.apply^newState"><span class="param">newState</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a></div>) →&nbsp;<a href="#state.StateField^T"><span class="type">T</span></a></code></dt>

<dd><p data-x-en="Apply the given transaction to this state field, producing a new field value. Note that the newState argument is again a partially constructed state does not yet contain the state from plugins coming after this one.">将给定的事务应用于此状态字段，生成一个新的字段值。请注意，<code>newState</code> 参数仍然是一个部分构建的状态，尚未包含在此之后的插件的状态。</p>
</dd><dt id="state.StateField.toJSON">
  <code><strong><a href="#state.StateField.toJSON">toJSON</a></strong>⁠?: <span class="fn">fn</span>(<a id="state.StateField.toJSON^value" href="#state.StateField.toJSON^value"><span class="param">value</span></a>:&nbsp;<a href="#state.StateField^T"><span class="type">T</span></a>) →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="Convert this field to JSON. Optional, can be left off to disable JSON serialization for the field.">将此字段转换为JSON。可选，可以省略以禁用该字段的JSON序列化。</p>
</dd><dt id="state.StateField.fromJSON">
  <code><strong><a href="#state.StateField.fromJSON">fromJSON</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="state.StateField.fromJSON^config" href="#state.StateField.fromJSON^config"><span class="param">config</span></a>:&nbsp;<a href="#state.EditorStateConfig"><span class="type">EditorStateConfig</span></a>, </div><div class="breaktype"><a id="state.StateField.fromJSON^value" href="#state.StateField.fromJSON^value"><span class="param">value</span></a>:&nbsp;<span class="type">any</span>, </div><div class="breaktype"><a id="state.StateField.fromJSON^state" href="#state.StateField.fromJSON^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a></div>) →&nbsp;<a href="#state.StateField^T"><span class="type">T</span></a></code></dt>

<dd><p data-x-en="Deserialize the JSON representation of this field. Note that the state argument is again a half-initialized state.">反序列化此字段的 JSON 表示。请注意，<code>state</code> 参数再次是一个半初始化状态。</p>
</dd></dl>

</dd>
<dt id="state.PluginView">
  <h4>
    <code><span class="keyword">type</span></code>
    <a href="#state.PluginView">PluginView</a></h4>
</dt>

<dd><p data-x-en="A stateful object that can be installed in an editor by a plugin.">一个有状态的对象，可以通过<a href="#state.PluginSpec.view">插件</a>安装在编辑器中。</p>
<dl><dt id="state.PluginView.update">
  <code><strong><a href="#state.PluginView.update">update</a></strong>⁠?: <span class="fn">fn</span>(<a id="state.PluginView.update^view" href="#state.PluginView.update^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, <a id="state.PluginView.update^prevState" href="#state.PluginView.update^prevState"><span class="param">prevState</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>)</code></dt>

<dd><p data-x-en="Called whenever the view's state is updated.">在视图的状态更新时调用。</p>
</dd><dt id="state.PluginView.destroy">
  <code><strong><a href="#state.PluginView.destroy">destroy</a></strong>⁠?: <span class="fn">fn</span>()</code></dt>

<dd><p data-x-en="Called when the view is destroyed or receives a state with different plugins.">在视图被销毁或接收到具有不同插件的状态时调用。</p>
</dd></dl>

</dd>
<dt id="state.Plugin">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#state.Plugin">Plugin</a><code>&lt;<a id="state.Plugin^PluginState" href="#state.Plugin^PluginState">PluginState</a> = any&gt;</code></h4>
</dt>

<dd><p data-x-en="Plugins bundle functionality that can be added to an editor. They are part of the editor state and may influence that state and the view that contains it.">插件捆绑可以添加到编辑器的功能。它们是<a href="#state.EditorState">编辑器状态</a>的一部分，并且可能会影响该状态和包含它的视图。</p>
<dl><dt id="state.Plugin.constructor">
  <code><span class="keyword">new</span> <strong><a href="#state.Plugin.constructor">Plugin</a></strong>(<a id="state.Plugin.constructor^spec" href="#state.Plugin.constructor^spec"><span class="param">spec</span></a>:&nbsp;<a href="#state.PluginSpec"><span class="type">PluginSpec</span></a>&lt;<a href="#state.Plugin^PluginState"><span class="type">PluginState</span></a>&gt;)</code></dt>

<dd><p data-x-en="Create a plugin.">创建插件。</p>
</dd><dt id="state.Plugin.spec">
  <code><strong><a href="#state.Plugin.spec">spec</a></strong>: <a href="#state.PluginSpec"><span class="type">PluginSpec</span></a>&lt;<a href="#state.Plugin^PluginState"><span class="type">PluginState</span></a>&gt;</code></dt>

<dd><p data-x-en="The plugin's spec object.">插件的<a href="#state.PluginSpec">spec 对象</a>。</p>
</dd><dt id="state.Plugin.props">
  <code><strong><a href="#state.Plugin.props">props</a></strong>: <a href="#view.EditorProps"><span class="type">EditorProps</span></a>&lt;<a href="#state.Plugin"><span class="type">Plugin</span></a>&lt;<a href="#state.Plugin^PluginState"><span class="type">PluginState</span></a>&gt;&gt;</code></dt>

<dd><p data-x-en="The props exported by this plugin.">该<a href="#view.EditorProps">插件</a>导出的属性。</p>
</dd><dt id="state.Plugin.getState">
  <code><strong><a href="#state.Plugin.getState">getState</a></strong>(<a id="state.Plugin.getState^state" href="#state.Plugin.getState^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<a href="#state.Plugin^PluginState"><span class="type">PluginState</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Extract the plugin's state field from an editor state.">从编辑器状态中提取插件的状态字段。</p>
</dd></dl>

</dd>
<dt id="state.PluginKey">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#state.PluginKey">PluginKey</a><code>&lt;<a id="state.PluginKey^PluginState" href="#state.PluginKey^PluginState">PluginState</a> = any&gt;</code></h4>
</dt>

<dd><p data-x-en="A key is used to tag plugins in a way that makes it possible to find them, given an editor state. Assigning a key does mean only one plugin of that type can be active in a state.">一个键用于<a href="#state.PluginSpec.key">标记</a>插件，使得在给定的编辑器状态下可以找到它们。分配一个键意味着在一个状态中只能有一个该类型的插件处于活动状态。</p>
<dl><dt id="state.PluginKey.constructor">
  <code><span class="keyword">new</span> <strong><a href="#state.PluginKey.constructor">PluginKey</a></strong>(<a id="state.PluginKey.constructor^name" href="#state.PluginKey.constructor^name"><span class="param">name</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a><span class="defaultvalue"> = "key"</span>)</code></dt>

<dd><p data-x-en="Create a plugin key.">创建插件密钥。</p>
</dd><dt id="state.PluginKey.get">
  <code><strong><a href="#state.PluginKey.get">get</a></strong>(<a id="state.PluginKey.get^state" href="#state.PluginKey.get^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a>&lt;<a href="#state.PluginKey^PluginState"><span class="type">PluginState</span></a>&gt; | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Get the active plugin with this key, if any, from an editor state.">从编辑器状态中获取具有此键的活动插件（如果有）。</p>
</dd><dt id="state.PluginKey.getState">
  <code><strong><a href="#state.PluginKey.getState">getState</a></strong>(<a id="state.PluginKey.getState^state" href="#state.PluginKey.getState^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<a href="#state.PluginKey^PluginState"><span class="type">PluginState</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Get the plugin's state from an editor state.">从编辑器状态获取插件的状态。</p>
</dd></dl>

</dd>
</dl>
</section><section id="part_view">
    <h2 class="module" id="view">
      <a href="#view">prosemirror-view <span class="kind">module</span></a>
    </h2><p data-x-en="ProseMirror's view module displays a given editor state in the DOM, and handles user events.">ProseMirror 的视图模块在 DOM 中显示给定的 <a href="#state.EditorState">编辑器状态</a>，并处理用户事件。</p>
<p data-x-en="Make sure you load style/prosemirror.css as a stylesheet when using this module.">确保在使用此模块时将<code>style/prosemirror.css</code>作为样式表加载。</p>
<dl>
<dt id="view.EditorView">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#view.EditorView">EditorView</a></h4>
</dt>

<dd><p data-x-en="An editor view manages the DOM structure that represents an editable document. Its state and behavior are determined by its props.">编辑器视图管理表示可编辑文档的DOM结构。其状态和行为由其<a href="#view.DirectEditorProps">属性</a>决定。</p>
<dl><dt id="view.EditorView.constructor">
  <code><span class="keyword">new</span> <strong><a href="#view.EditorView.constructor">EditorView</a></strong>(<div class="breaktype"><a id="view.EditorView.constructor^place" href="#view.EditorView.constructor^place"><span class="param">place</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a> | <div class="breaktype"><span class="fn">fn</span>(<a id="view.EditorView.constructor^place^editor" href="#view.EditorView.constructor^place^editor"><span class="param">editor</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a>) | </div><div class="breaktype">{<span class="prop">mount</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a>} | </div><div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div>, </div><div class="breaktype"><a id="view.EditorView.constructor^props" href="#view.EditorView.constructor^props"><span class="param">props</span></a>:&nbsp;<a href="#view.DirectEditorProps"><span class="type">DirectEditorProps</span></a></div>)</code></dt>

<dd><p data-x-en="Create a view. place may be a DOM node that the editor should be appended to, a function that will place it into the document, or an object whose mount property holds the node to use as the document container. If it is null, the editor will not be added to the document.">创建一个视图。<code>place</code> 可以是一个要附加编辑器的 DOM 节点，一个将其放入文档的函数，或一个其 <code>mount</code> 属性包含用作文档容器的节点的对象。如果它是 <code>null</code>，编辑器将不会被添加到文档中。</p>
</dd><dt id="view.EditorView.state">
  <code><strong><a href="#view.EditorView.state">state</a></strong>: <a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p data-x-en="The view's current state.">视图的当前<a href="#state.EditorState">状态</a>。</p>
</dd><dt id="view.EditorView.dom">
  <code><strong><a href="#view.EditorView.dom">dom</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a></code></dt>

<dd><p data-x-en="An editable DOM node containing the document. (You probably should not directly interfere with its content.)">一个可编辑的DOM节点，包含文档。（你可能不应该直接干扰其内容。）</p>
</dd><dt id="view.EditorView.editable">
  <code><strong><a href="#view.EditorView.editable">editable</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Indicates whether the editor is currently editable.">指示编辑器当前是否<a href="#view.EditorProps.editable">可编辑</a>。</p>
</dd><dt id="view.EditorView.dragging">
  <code><strong><a href="#view.EditorView.dragging">dragging</a></strong>: {<span class="prop">slice</span>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>, <span class="prop">move</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a>} | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="When editor content is being dragged, this object contains information about the dragged slice and whether it is being copied or moved. At any other time, it is null.">当编辑器内容被拖动时，此对象包含有关被拖动切片的信息以及它是被复制还是移动。在任何其他时间，它都是空的。</p>
</dd><dt id="view.EditorView.composing">
  <code><strong><a href="#view.EditorView.composing">composing</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Holds true when a composition is active.">在<a href="https://w3c.github.io/uievents/#events-compositionevents">组合</a>活动时保持<code>true</code>。</p>
</dd><dt id="view.EditorView.props">
  <code><strong><a href="#view.EditorView.props">props</a></strong>: <a href="#view.DirectEditorProps"><span class="type">DirectEditorProps</span></a></code></dt>

<dd><p data-x-en="The view's current props.">视图的当前<a href="#view.EditorProps">属性</a>。</p>
</dd><dt id="view.EditorView.update">
  <code><strong><a href="#view.EditorView.update">update</a></strong>(<a id="view.EditorView.update^props" href="#view.EditorView.update^props"><span class="param">props</span></a>:&nbsp;<a href="#view.DirectEditorProps"><span class="type">DirectEditorProps</span></a>)</code></dt>

<dd><p data-x-en="Update the view's props. Will immediately cause an update to the DOM.">更新视图的属性。将立即导致对DOM的更新。</p>
</dd><dt id="view.EditorView.setProps">
  <code><strong><a href="#view.EditorView.setProps">setProps</a></strong>(<a id="view.EditorView.setProps^props" href="#view.EditorView.setProps^props"><span class="param">props</span></a>:&nbsp;<a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype"><span class="type">Partial</span></a>&lt;<a href="#view.DirectEditorProps"><span class="type">DirectEditorProps</span></a>&gt;)</code></dt>

<dd><p data-x-en="Update the view by updating existing props object with the object given as argument. Equivalent to view.update(Object.assign({}, view.props, props)).">通过使用作为参数给定的对象更新现有的props对象来更新视图。相当于<code>view.update(Object.assign({}, view.props, props))</code>。</p>
</dd><dt id="view.EditorView.updateState">
  <code><strong><a href="#view.EditorView.updateState">updateState</a></strong>(<a id="view.EditorView.updateState^state" href="#view.EditorView.updateState^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>)</code></dt>

<dd><p data-x-en="Update the editor's state prop, without touching any of the other props.">更新编辑器的<code>state</code>属性，而不触及任何其他属性。</p>
</dd><dt id="view.EditorView.someProp">
  <code><strong><a href="#view.EditorView.someProp">someProp</a></strong>&lt;<a id="view.EditorView.someProp^PropName" href="#view.EditorView.someProp^PropName">PropName</a> <span class="keyword">extends</span> <span class="keyword">keyof</span>&nbsp;<a href="#view.EditorProps"><span class="type">EditorProps</span></a>, <a id="view.EditorView.someProp^Result" href="#view.EditorView.someProp^Result">Result</a>&gt;(<div class="breaktype"><a id="view.EditorView.someProp^propName" href="#view.EditorView.someProp^propName"><span class="param">propName</span></a>:&nbsp;<a href="#view.EditorView.someProp^PropName"><span class="type">PropName</span></a>, </div><div class="breaktype"><a id="view.EditorView.someProp^f" href="#view.EditorView.someProp^f"><span class="param">f</span></a>:&nbsp;<span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorView.someProp^f^value" href="#view.EditorView.someProp^f^value"><span class="param">value</span></a>:&nbsp;<a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#nonnullabletype"><span class="type">NonNullable</span></a>&lt;<a href="#view.EditorProps"><span class="type">EditorProps</span></a>[<a href="#view.EditorView.someProp^PropName"><span class="type">PropName</span></a>]&gt;</div>) →&nbsp;<a href="#view.EditorView.someProp^Result"><span class="type">Result</span></a></div>) →&nbsp;<a href="#view.EditorView.someProp^Result"><span class="type">Result</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code><div><code><strong><a href="#view.EditorView.someProp">someProp</a></strong>&lt;<a id="view.EditorView.someProp^PropName" href="#view.EditorView.someProp^PropName">PropName</a> <span class="keyword">extends</span> <span class="keyword">keyof</span>&nbsp;<a href="#view.EditorProps"><span class="type">EditorProps</span></a>&gt;(<a id="view.EditorView.someProp^propName" href="#view.EditorView.someProp^propName"><span class="param">propName</span></a>:&nbsp;<a href="#view.EditorView.someProp^PropName"><span class="type">PropName</span></a>) →&nbsp;<a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#nonnullabletype"><span class="type">NonNullable</span></a>&lt;<a href="#view.EditorProps"><span class="type">EditorProps</span></a>[<a href="#view.EditorView.someProp^PropName"><span class="type">PropName</span></a>]&gt; | <div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></div></code></div></dt>

<dd><p data-x-en="Goes over the values of a prop, first those provided directly, then those from plugins given to the view, then from plugins in the state (in order), and calls f every time a non-undefined value is found. When f returns a truthy value, that is immediately returned. When f isn't provided, it is treated as the identity function (the prop value is returned directly).">依次遍历一个 prop 的值，首先是直接提供的值，然后是视图中插件提供的值，再然后是状态中的插件提供的值（按顺序），每次找到非 undefined 的值时调用 <code>f</code>。当 <code>f</code> 返回一个真值时，立即返回该值。当未提供 <code>f</code> 时，将其视为恒等函数（直接返回 prop 值）。</p>
</dd><dt id="view.EditorView.hasFocus">
  <code><strong><a href="#view.EditorView.hasFocus">hasFocus</a></strong>() →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Query whether the view has focus.">查询视图是否有焦点。</p>
</dd><dt id="view.EditorView.focus">
  <code><strong><a href="#view.EditorView.focus">focus</a></strong>()</code></dt>

<dd><p data-x-en="Focus the editor.">专注于编辑器。</p>
</dd><dt id="view.EditorView.root">
  <code><strong><a href="#view.EditorView.root">root</a></strong>: <a href="https://developer.mozilla.org/en/docs/DOM/document"><span class="type">Document</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot"><span class="type">ShadowRoot</span></a></code></dt>

<dd><p data-x-en="Get the document root in which the editor exists. This will usually be the top-level document, but might be a shadow DOM root if the editor is inside one.">获取编辑器所在的文档根。这通常是顶级的<code>document</code>，但如果编辑器在<a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Shadow_DOM">shadow DOM</a>根内，则可能是shadow DOM根。</p>
</dd><dt id="view.EditorView.updateRoot">
  <code><strong><a href="#view.EditorView.updateRoot">updateRoot</a></strong>()</code></dt>

<dd><p data-x-en="When an existing editor view is moved to a new document or shadow tree, call this to make it recompute its root.">当现有编辑器视图移动到新文档或影子树时，调用此函数以重新计算其根。</p>
</dd><dt id="view.EditorView.posAtCoords">
  <code><strong><a href="#view.EditorView.posAtCoords">posAtCoords</a></strong>(<a id="view.EditorView.posAtCoords^coords" href="#view.EditorView.posAtCoords^coords"><span class="param">coords</span></a>:&nbsp;{<span class="prop">left</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">top</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}) →&nbsp;{<span class="prop">pos</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">inside</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>} | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Given a pair of viewport coordinates, return the document position that corresponds to them. May return null if the given coordinates aren't inside of the editor. When an object is returned, its pos property is the position nearest to the coordinates, and its inside property holds the position of the inner node that the position falls inside of, or -1 if it is at the top level, not in any node.">给定一对视口坐标，返回与之对应的文档位置。如果给定的坐标不在编辑器内，可能会返回 null。当返回一个对象时，其 <code>pos</code> 属性是最接近坐标的位置，其 <code>inside</code> 属性保存位置所在的内部节点的位置，如果在顶层而不在任何节点中，则为 -1。</p>
</dd><dt id="view.EditorView.coordsAtPos">
  <code><strong><a href="#view.EditorView.coordsAtPos">coordsAtPos</a></strong>(<a id="view.EditorView.coordsAtPos^pos" href="#view.EditorView.coordsAtPos^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="view.EditorView.coordsAtPos^side" href="#view.EditorView.coordsAtPos^side"><span class="param">side</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 1</span>) →&nbsp;{<span class="prop">left</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">right</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">top</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">bottom</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p data-x-en="Returns the viewport rectangle at a given document position. left and right will be the same number, as this returns a flat cursor-ish rectangle. If the position is between two things that aren't directly adjacent, side determines which element is used. When < 0, the element before the position is used, otherwise the element after.">返回给定文档位置的视口矩形。
<code>left</code> 和 <code>right</code> 将是相同的数字，因为这返回一个
扁平的光标状矩形。如果位置在两个不直接相邻的事物之间，
<code>side</code> 决定使用哪个元素。当 &lt; 0 时，使用位置之前的元素，
否则使用之后的元素。</p>
</dd><dt id="view.EditorView.domAtPos">
  <code><strong><a href="#view.EditorView.domAtPos">domAtPos</a></strong>(<a id="view.EditorView.domAtPos^pos" href="#view.EditorView.domAtPos^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="view.EditorView.domAtPos^side" href="#view.EditorView.domAtPos^side"><span class="param">side</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 0</span>) →&nbsp;{<span class="prop">node</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>, <span class="prop">offset</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p data-x-en="Find the DOM position that corresponds to the given document position. When side is negative, find the position as close as possible to the content before the position. When positive, prefer positions close to the content after the position. When zero, prefer as shallow a position as possible.">找到与给定文档位置相对应的DOM位置。当<code>side</code>为负数时，找到尽可能接近位置之前内容的位置。当为正数时，优先选择接近位置之后内容的位置。当为零时，优先选择尽可能浅的位置。</p>
<p data-x-en="Note that you should not mutate the editor's internal DOM, only inspect it (and even that is usually not necessary).">请注意，您<strong>不应</strong>更改编辑器的内部DOM，只需检查它（即使这样通常也没有必要）。</p>
</dd><dt id="view.EditorView.nodeDOM">
  <code><strong><a href="#view.EditorView.nodeDOM">nodeDOM</a></strong>(<a id="view.EditorView.nodeDOM^pos" href="#view.EditorView.nodeDOM^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Find the DOM node that represents the document node after the given position. May return null when the position doesn't point in front of a node or if the node is inside an opaque node view.">找到表示给定位置之后的文档节点的DOM节点。如果位置不在节点前面或节点位于不透明节点视图内，则可能返回<code>null</code>。</p>
<p data-x-en="This is intended to be able to call things like getBoundingClientRect on that DOM node. Do not mutate the editor DOM directly, or add styling this way, since that will be immediately overriden by the editor as it redraws the node.">这是为了能够在该DOM节点上调用类似<code>getBoundingClientRect</code>的东西。<strong>不要</strong>直接修改编辑器DOM，或以这种方式添加样式，因为编辑器在重绘节点时会立即覆盖这些更改。</p>
</dd><dt id="view.EditorView.posAtDOM">
  <code><strong><a href="#view.EditorView.posAtDOM">posAtDOM</a></strong>(<div class="breaktype"><a id="view.EditorView.posAtDOM^node" href="#view.EditorView.posAtDOM^node"><span class="param">node</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>, </div><div class="breaktype"><a id="view.EditorView.posAtDOM^offset" href="#view.EditorView.posAtDOM^offset"><span class="param">offset</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorView.posAtDOM^bias" href="#view.EditorView.posAtDOM^bias"><span class="param">bias</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = -1</span></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="Find the document position that corresponds to a given DOM position. (Whenever possible, it is preferable to inspect the document structure directly, rather than poking around in the DOM, but sometimes—for example when interpreting an event target—you don't have a choice.)">找到与给定DOM位置相对应的文档位置。（在可能的情况下，最好直接检查文档结构，而不是在DOM中四处查找，但有时——例如在解释事件目标时——你别无选择。）</p>
<p data-x-en="The bias parameter can be used to influence which side of a DOM node to use when the position is inside a leaf node."><code>bias</code> 参数可用于影响在位置位于叶节点内时使用 DOM 节点的哪一侧。</p>
</dd><dt id="view.EditorView.endOfTextblock">
  <code><strong><a href="#view.EditorView.endOfTextblock">endOfTextblock</a></strong>(<div class="breaktype"><a id="view.EditorView.endOfTextblock^dir" href="#view.EditorView.endOfTextblock^dir"><span class="param">dir</span></a>:&nbsp;<span class="string">"up"</span> | <div class="breaktype"><span class="string">"down"</span> | </div><div class="breaktype"><span class="string">"left"</span> | </div><div class="breaktype"><span class="string">"right"</span> | </div><div class="breaktype"><span class="string">"forward"</span> | </div><div class="breaktype"><span class="string">"backward"</span></div>, </div><div class="breaktype"><a id="view.EditorView.endOfTextblock^state" href="#view.EditorView.endOfTextblock^state"><span class="param">state</span></a>⁠?:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Find out whether the selection is at the end of a textblock when moving in a given direction. When, for example, given &quot;left&quot;, it will return true if moving left from the current cursor position would leave that position's parent textblock. Will apply to the view's current state by default, but it is possible to pass a different state.">找出在给定方向移动时选择是否在文本块的末尾。例如，给定<code>"left"</code>，如果从当前光标位置向左移动会离开该位置的父文本块，则返回true。默认情况下将应用于视图的当前状态，但也可以传递不同的状态。</p>
</dd><dt id="view.EditorView.pasteHTML">
  <code><strong><a href="#view.EditorView.pasteHTML">pasteHTML</a></strong>(<a id="view.EditorView.pasteHTML^html" href="#view.EditorView.pasteHTML^html"><span class="param">html</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <a id="view.EditorView.pasteHTML^event" href="#view.EditorView.pasteHTML^event"><span class="param">event</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent"><span class="type">ClipboardEvent</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Run the editor's paste logic with the given HTML string. The event, if given, will be passed to the handlePaste hook.">运行编辑器的粘贴逻辑与给定的HTML字符串。 如果给定，<code>event</code> 将被传递到 <a href="#view.EditorProps.handlePaste"><code>handlePaste</code></a> 钩子。</p>
</dd><dt id="view.EditorView.pasteText">
  <code><strong><a href="#view.EditorView.pasteText">pasteText</a></strong>(<a id="view.EditorView.pasteText^text" href="#view.EditorView.pasteText^text"><span class="param">text</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <a id="view.EditorView.pasteText^event" href="#view.EditorView.pasteText^event"><span class="param">event</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent"><span class="type">ClipboardEvent</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Run the editor's paste logic with the given plain-text input.">运行编辑器的粘贴逻辑与给定的纯文本输入。</p>
</dd><dt id="view.EditorView.destroy">
  <code><strong><a href="#view.EditorView.destroy">destroy</a></strong>()</code></dt>

<dd><p data-x-en="Removes the editor from the DOM and destroys all node views.">将编辑器从DOM中移除并销毁所有<a href="#view.NodeView">节点视图</a>。</p>
</dd><dt id="view.EditorView.isDestroyed">
  <code><strong><a href="#view.EditorView.isDestroyed">isDestroyed</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="This is true when the view has been destroyed (and thus should not be used anymore).">这是真的，当视图已经
<a href="#view.EditorView.destroy">销毁</a>（因此不应再使用）。</p>
</dd><dt id="view.EditorView.dispatchEvent">
  <code><strong><a href="#view.EditorView.dispatchEvent">dispatchEvent</a></strong>(<a id="view.EditorView.dispatchEvent^event" href="#view.EditorView.dispatchEvent^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/DOM/event"><span class="type">Event</span></a>)</code></dt>

<dd><p data-x-en="Used for testing.">用于测试。</p>
</dd><dt id="view.EditorView.dispatch">
  <code><strong><a href="#view.EditorView.dispatch">dispatch</a></strong>(<a id="view.EditorView.dispatch^tr" href="#view.EditorView.dispatch^tr"><span class="param">tr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>)</code></dt>

<dd><p data-x-en="Dispatch a transaction. Will call dispatchTransaction when given, and otherwise defaults to applying the transaction to the current state and calling updateState with the result. This method is bound to the view instance, so that it can be easily passed around.">调度事务。将调用
<a href="#view.DirectEditorProps.dispatchTransaction"><code>dispatchTransaction</code></a>
（如果提供），否则默认将事务应用于当前状态并调用
<a href="#view.EditorView.updateState"><code>updateState</code></a> 处理结果。
此方法绑定到视图实例，因此可以轻松传递。</p>
</dd></dl>

</dd>
</dl>
<h3 id="view.Props"><a href="#view.Props">Props</a></h3>
<dl>
<dt id="view.EditorProps">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#view.EditorProps">EditorProps</a><code>&lt;<a id="view.EditorProps^P" href="#view.EditorProps^P">P</a> = any&gt;</code></h4>
</dt>

<dd><p data-x-en="Props are configuration values that can be passed to an editor view or included in a plugin. This interface lists the supported props.">道具是可以传递给编辑器视图或包含在插件中的配置值。此接口列出了支持的道具。</p>
<p data-x-en="The various event-handling functions may all return true to indicate that they handled the given event. The view will then take care to call preventDefault on the event, except with handleDOMEvents, where the handler itself is responsible for that.">各种事件处理函数都可以返回<code>true</code>以表示它们处理了给定的事件。然后视图将负责在事件上调用<code>preventDefault</code>，除了<code>handleDOMEvents</code>，在这种情况下处理程序本身负责这一点。</p>
<p data-x-en="How a prop is resolved depends on the prop. Handler functions are called one at a time, starting with the base props and then searching through the plugins (in order of appearance) until one of them returns true. For some props, the first plugin that yields a value gets precedence.">道具的解析方式取决于道具。处理函数一次调用一个，从基本道具开始，然后按出现顺序搜索插件，直到其中一个返回true。对于某些道具，第一个产生值的插件优先。</p>
<p data-x-en="The optional type parameter refers to the type of this in prop functions, and is used to pass in the plugin type when defining a plugin.">可选类型参数指的是 prop 函数中 <code>this</code> 的类型，并在定义<a href="#state.Plugin">插件</a>时用于传入插件类型。</p>
<dl><dt id="view.EditorProps.handleDOMEvents">
  <code><strong><a href="#view.EditorProps.handleDOMEvents">handleDOMEvents</a></strong>⁠?: {<div class="breaktype">[<a id="view.EditorProps.handleDOMEvents^event" href="#view.EditorProps.handleDOMEvents^event">event</a>&nbsp;in&nbsp;<span class="keyword">keyof</span>&nbsp;<a href="#view.DOMEventMap"><span class="type">DOMEventMap</span></a>]:&nbsp;<span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handleDOMEvents^view" href="#view.EditorProps.handleDOMEvents^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDOMEvents^event" href="#view.EditorProps.handleDOMEvents^event"><span class="param">event</span></a>:&nbsp;<a href="#view.DOMEventMap"><span class="type">DOMEventMap</span></a>[<a href="#view.EditorProps.handleDOMEvents^event"><span class="type">event</span></a>]</div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></div>}</code></dt>

<dd><p data-x-en="Can be an object mapping DOM event type names to functions that handle them. Such functions will be called before any handling ProseMirror does of events fired on the editable DOM element. Contrary to the other event handling props, when returning true from such a function, you are responsible for calling preventDefault yourself (or not, if you want to allow the default behavior).">可以是一个将 DOM 事件类型名称映射到处理它们的函数的对象。在 ProseMirror 处理在可编辑 DOM 元素上触发的事件之前，将调用这些函数。与其他事件处理属性相反，当从这样的函数返回 true 时，您有责任自己调用 <code>preventDefault</code>（如果您想允许默认行为，则不需要调用）。</p>
</dd><dt id="view.EditorProps.handleKeyDown">
  <code><strong><a href="#view.EditorProps.handleKeyDown">handleKeyDown</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.EditorProps.handleKeyDown^view" href="#view.EditorProps.handleKeyDown^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, <a id="view.EditorProps.handleKeyDown^event" href="#view.EditorProps.handleKeyDown^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/KeyboardEvent"><span class="type">KeyboardEvent</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Called when the editor receives a keydown event.">当编辑器收到<code>keydown</code>事件时调用。</p>
</dd><dt id="view.EditorProps.handleKeyPress">
  <code><strong><a href="#view.EditorProps.handleKeyPress">handleKeyPress</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.EditorProps.handleKeyPress^view" href="#view.EditorProps.handleKeyPress^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, <a id="view.EditorProps.handleKeyPress^event" href="#view.EditorProps.handleKeyPress^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/KeyboardEvent"><span class="type">KeyboardEvent</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Handler for keypress events."><code>keypress</code>事件的处理程序。</p>
</dd><dt id="view.EditorProps.handleTextInput">
  <code><strong><a href="#view.EditorProps.handleTextInput">handleTextInput</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handleTextInput^view" href="#view.EditorProps.handleTextInput^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTextInput^from" href="#view.EditorProps.handleTextInput^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTextInput^to" href="#view.EditorProps.handleTextInput^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTextInput^text" href="#view.EditorProps.handleTextInput^text"><span class="param">text</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Whenever the user directly input text, this handler is called before the input is applied. If it returns true, the default behavior of actually inserting the text is suppressed.">每当用户直接输入文本时，会调用此处理程序，然后才应用输入。如果它返回<code>true</code>，则实际插入文本的默认行为将被抑制。</p>
</dd><dt id="view.EditorProps.handleClickOn">
  <code><strong><a href="#view.EditorProps.handleClickOn">handleClickOn</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handleClickOn^view" href="#view.EditorProps.handleClickOn^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleClickOn^pos" href="#view.EditorProps.handleClickOn^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleClickOn^node" href="#view.EditorProps.handleClickOn^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleClickOn^nodePos" href="#view.EditorProps.handleClickOn^nodePos"><span class="param">nodePos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleClickOn^event" href="#view.EditorProps.handleClickOn^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">MouseEvent</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleClickOn^direct" href="#view.EditorProps.handleClickOn^direct"><span class="param">direct</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Called for each node around a click, from the inside out. The direct flag will be true for the inner node.">在点击周围的每个节点调用，从内到外。<code>direct</code> 标志对于内部节点将为真。</p>
</dd><dt id="view.EditorProps.handleClick">
  <code><strong><a href="#view.EditorProps.handleClick">handleClick</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handleClick^view" href="#view.EditorProps.handleClick^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleClick^pos" href="#view.EditorProps.handleClick^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleClick^event" href="#view.EditorProps.handleClick^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">MouseEvent</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Called when the editor is clicked, after handleClickOn handlers have been called.">在调用<code>handleClickOn</code>处理程序之后，单击编辑器时调用。</p>
</dd><dt id="view.EditorProps.handleDoubleClickOn">
  <code><strong><a href="#view.EditorProps.handleDoubleClickOn">handleDoubleClickOn</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handleDoubleClickOn^view" href="#view.EditorProps.handleDoubleClickOn^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDoubleClickOn^pos" href="#view.EditorProps.handleDoubleClickOn^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDoubleClickOn^node" href="#view.EditorProps.handleDoubleClickOn^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDoubleClickOn^nodePos" href="#view.EditorProps.handleDoubleClickOn^nodePos"><span class="param">nodePos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDoubleClickOn^event" href="#view.EditorProps.handleDoubleClickOn^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">MouseEvent</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDoubleClickOn^direct" href="#view.EditorProps.handleDoubleClickOn^direct"><span class="param">direct</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Called for each node around a double click.">在双击时调用每个节点。</p>
</dd><dt id="view.EditorProps.handleDoubleClick">
  <code><strong><a href="#view.EditorProps.handleDoubleClick">handleDoubleClick</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handleDoubleClick^view" href="#view.EditorProps.handleDoubleClick^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDoubleClick^pos" href="#view.EditorProps.handleDoubleClick^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDoubleClick^event" href="#view.EditorProps.handleDoubleClick^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">MouseEvent</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Called when the editor is double-clicked, after handleDoubleClickOn.">在<code>handleDoubleClickOn</code>之后双击编辑器时调用。</p>
</dd><dt id="view.EditorProps.handleTripleClickOn">
  <code><strong><a href="#view.EditorProps.handleTripleClickOn">handleTripleClickOn</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handleTripleClickOn^view" href="#view.EditorProps.handleTripleClickOn^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTripleClickOn^pos" href="#view.EditorProps.handleTripleClickOn^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTripleClickOn^node" href="#view.EditorProps.handleTripleClickOn^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTripleClickOn^nodePos" href="#view.EditorProps.handleTripleClickOn^nodePos"><span class="param">nodePos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTripleClickOn^event" href="#view.EditorProps.handleTripleClickOn^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">MouseEvent</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTripleClickOn^direct" href="#view.EditorProps.handleTripleClickOn^direct"><span class="param">direct</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Called for each node around a triple click.">在三次点击周围的每个节点调用。</p>
</dd><dt id="view.EditorProps.handleTripleClick">
  <code><strong><a href="#view.EditorProps.handleTripleClick">handleTripleClick</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handleTripleClick^view" href="#view.EditorProps.handleTripleClick^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTripleClick^pos" href="#view.EditorProps.handleTripleClick^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleTripleClick^event" href="#view.EditorProps.handleTripleClick^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/MouseEvent"><span class="type">MouseEvent</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Called when the editor is triple-clicked, after handleTripleClickOn.">在<code>handleTripleClickOn</code>之后，当编辑器被三击时调用。</p>
</dd><dt id="view.EditorProps.handlePaste">
  <code><strong><a href="#view.EditorProps.handlePaste">handlePaste</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handlePaste^view" href="#view.EditorProps.handlePaste^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handlePaste^event" href="#view.EditorProps.handlePaste^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/ClipboardEvent"><span class="type">ClipboardEvent</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handlePaste^slice" href="#view.EditorProps.handlePaste^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Can be used to override the behavior of pasting. slice is the pasted content parsed by the editor, but you can directly access the event to get at the raw content.">可以用来覆盖粘贴的行为。<code>slice</code>是编辑器解析的粘贴内容，但你可以直接访问事件以获取原始内容。</p>
</dd><dt id="view.EditorProps.handleDrop">
  <code><strong><a href="#view.EditorProps.handleDrop">handleDrop</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.handleDrop^view" href="#view.EditorProps.handleDrop^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDrop^event" href="#view.EditorProps.handleDrop^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/DragEvent"><span class="type">DragEvent</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDrop^slice" href="#view.EditorProps.handleDrop^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>, </div><div class="breaktype"><a id="view.EditorProps.handleDrop^moved" href="#view.EditorProps.handleDrop^moved"><span class="param">moved</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Called when something is dropped on the editor. moved will be true if this drop moves from the current selection (which should thus be deleted).">当某些内容被拖放到编辑器时调用。如果此拖放从当前选择中移动（因此应删除），则<code>moved</code>将为true。</p>
</dd><dt id="view.EditorProps.handleScrollToSelection">
  <code><strong><a href="#view.EditorProps.handleScrollToSelection">handleScrollToSelection</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.EditorProps.handleScrollToSelection^view" href="#view.EditorProps.handleScrollToSelection^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Called when the view, after updating its state, tries to scroll the selection into view. A handler function may return false to indicate that it did not handle the scrolling and further handlers or the default behavior should be tried.">在视图更新其状态后尝试将选区滚动到视图中时调用。处理函数可以返回 false 以表示它没有处理滚动，并且应该尝试进一步的处理程序或默认行为。</p>
</dd><dt id="view.EditorProps.createSelectionBetween">
  <code><strong><a href="#view.EditorProps.createSelectionBetween">createSelectionBetween</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.createSelectionBetween^view" href="#view.EditorProps.createSelectionBetween^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.EditorProps.createSelectionBetween^anchor" href="#view.EditorProps.createSelectionBetween^anchor"><span class="param">anchor</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="view.EditorProps.createSelectionBetween^head" href="#view.EditorProps.createSelectionBetween^head"><span class="param">head</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></div>) →&nbsp;<a href="#state.Selection"><span class="type">Selection</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Can be used to override the way a selection is created when reading a DOM selection between the given anchor and head.">可用于覆盖在读取给定锚点和头部之间的DOM选择时创建选择的方式。</p>
</dd><dt id="view.EditorProps.domParser">
  <code><strong><a href="#view.EditorProps.domParser">domParser</a></strong>⁠?: <a href="#model.DOMParser"><span class="type">DOMParser</span></a></code></dt>

<dd><p data-x-en="The parser to use when reading editor changes from the DOM. Defaults to calling DOMParser.fromSchema on the editor's schema.">用于从 DOM 读取编辑器更改的 <a href="#model.DOMParser">解析器</a>。默认情况下调用编辑器模式上的 <a href="#model.DOMParser%5EfromSchema"><code>DOMParser.fromSchema</code></a>。</p>
</dd><dt id="view.EditorProps.transformPastedHTML">
  <code><strong><a href="#view.EditorProps.transformPastedHTML">transformPastedHTML</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.EditorProps.transformPastedHTML^html" href="#view.EditorProps.transformPastedHTML^html"><span class="param">html</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <a id="view.EditorProps.transformPastedHTML^view" href="#view.EditorProps.transformPastedHTML^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Can be used to transform pasted HTML text, before it is parsed, for example to clean it up.">可用于在解析之前转换粘贴的HTML文本，例如进行清理。</p>
</dd><dt id="view.EditorProps.clipboardParser">
  <code><strong><a href="#view.EditorProps.clipboardParser">clipboardParser</a></strong>⁠?: <a href="#model.DOMParser"><span class="type">DOMParser</span></a></code></dt>

<dd><p data-x-en="The parser to use when reading content from the clipboard. When not given, the value of the domParser prop is used.">从剪贴板读取内容时使用的<a href="#model.DOMParser">解析器</a>。如果未提供，则使用<a href="#view.EditorProps.domParser"><code>domParser</code></a>属性的值。</p>
</dd><dt id="view.EditorProps.transformPastedText">
  <code><strong><a href="#view.EditorProps.transformPastedText">transformPastedText</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.transformPastedText^text" href="#view.EditorProps.transformPastedText^text"><span class="param">text</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, </div><div class="breaktype"><a id="view.EditorProps.transformPastedText^plain" href="#view.EditorProps.transformPastedText^plain"><span class="param">plain</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a>, </div><div class="breaktype"><a id="view.EditorProps.transformPastedText^view" href="#view.EditorProps.transformPastedText^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Transform pasted plain text. The plain flag will be true when the text is pasted as plain text.">将粘贴的纯文本转换。<code>plain</code> 标志在文本作为纯文本粘贴时为 true。</p>
</dd><dt id="view.EditorProps.clipboardTextParser">
  <code><strong><a href="#view.EditorProps.clipboardTextParser">clipboardTextParser</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.EditorProps.clipboardTextParser^text" href="#view.EditorProps.clipboardTextParser^text"><span class="param">text</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, </div><div class="breaktype"><a id="view.EditorProps.clipboardTextParser^$context" href="#view.EditorProps.clipboardTextParser^$context"><span class="param">$context</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="view.EditorProps.clipboardTextParser^plain" href="#view.EditorProps.clipboardTextParser^plain"><span class="param">plain</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a>, </div><div class="breaktype"><a id="view.EditorProps.clipboardTextParser^view" href="#view.EditorProps.clipboardTextParser^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a></div>) →&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="A function to parse text from the clipboard into a document slice. Called after transformPastedText. The default behavior is to split the text into lines, wrap them in <p> tags, and call clipboardParser on it. The plain flag will be true when the text is pasted as plain text.">一个将剪贴板中的文本解析为文档切片的函数。在<a href="#view.EditorProps.transformPastedText"><code>transformPastedText</code></a>之后调用。默认行为是将文本拆分为行，用<code>&lt;p&gt;</code>标签包裹它们，并调用<a href="#view.EditorProps.clipboardParser"><code>clipboardParser</code></a>。当文本作为纯文本粘贴时，<code>plain</code>标志将为真。</p>
</dd><dt id="view.EditorProps.transformPasted">
  <code><strong><a href="#view.EditorProps.transformPasted">transformPasted</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.EditorProps.transformPasted^slice" href="#view.EditorProps.transformPasted^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>, <a id="view.EditorProps.transformPasted^view" href="#view.EditorProps.transformPasted^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>) →&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="Can be used to transform pasted or dragged-and-dropped content before it is applied to the document.">可用于在粘贴或拖放内容之前对其进行转换，然后再应用到文档中。</p>
</dd><dt id="view.EditorProps.transformCopied">
  <code><strong><a href="#view.EditorProps.transformCopied">transformCopied</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.EditorProps.transformCopied^slice" href="#view.EditorProps.transformCopied^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>, <a id="view.EditorProps.transformCopied^view" href="#view.EditorProps.transformCopied^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>) →&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="Can be used to transform copied or cut content before it is serialized to the clipboard.">可用于在内容被序列化到剪贴板之前转换复制或剪切的内容。</p>
</dd><dt id="view.EditorProps.nodeViews">
  <code><strong><a href="#view.EditorProps.nodeViews">nodeViews</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#view.NodeViewConstructor"><span class="type">NodeViewConstructor</span></a>&gt;</code></dt>

<dd><p data-x-en="Allows you to pass custom rendering and behavior logic for nodes. Should map node names to constructor functions that produce a NodeView object implementing the node's display behavior. The third argument getPos is a function that can be called to get the node's current position, which can be useful when creating transactions to update it. Note that if the node is not in the document, the position returned by this function will be undefined.">允许您为节点传递自定义渲染和行为逻辑。应将节点名称映射到生成实现节点显示行为的<a href="#view.NodeView"><code>NodeView</code></a>对象的构造函数。第三个参数<code>getPos</code>是一个可以调用以获取节点当前位置的函数，这在创建事务以更新节点时非常有用。请注意，如果节点不在文档中，此函数返回的位置将是<code>undefined</code>。</p>
<p data-x-en="decorations is an array of node or inline decorations that are active around the node. They are automatically drawn in the normal way, and you will usually just want to ignore this, but they can also be used as a way to provide context information to the node view without adding it to the document itself."><code>decorations</code> 是一个节点或内联装饰的数组，它们在节点周围处于活动状态。它们会以正常方式自动绘制，通常你只需忽略这一点，但它们也可以用作向节点视图提供上下文信息的一种方式，而无需将其添加到文档本身。</p>
<p data-x-en="innerDecorations holds the decorations for the node's content. You can safely ignore this if your view has no content or a contentDOM property, since the editor will draw the decorations on the content. But if you, for example, want to create a nested editor with the content, it may make sense to provide it with the inner decorations."><code>innerDecorations</code> 保存节点内容的装饰。
如果你的视图没有内容或没有 <code>contentDOM</code> 属性，你可以放心地忽略它，因为编辑器会在内容上绘制装饰。但如果你想创建一个带有内容的嵌套编辑器，例如，提供内部装饰可能是有意义的。</p>
<p data-x-en="(For backwards compatibility reasons, mark views can also be included in this object.)">(出于向后兼容性的原因，<a href="#view.EditorProps.markViews">标记视图</a>也可以包含在此对象中。)</p>
</dd><dt id="view.EditorProps.markViews">
  <code><strong><a href="#view.EditorProps.markViews">markViews</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#view.MarkViewConstructor"><span class="type">MarkViewConstructor</span></a>&gt;</code></dt>

<dd><p data-x-en="Pass custom mark rendering functions. Note that these cannot provide the kind of dynamic behavior that node views can—they just provide custom rendering logic. The third argument indicates whether the mark's content is inline.">传递自定义标记渲染函数。请注意，这些不能提供<a href="#view.NodeView">节点视图</a>可以提供的那种动态行为——它们只是提供自定义渲染逻辑。第三个参数表示标记的内容是否为内联。</p>
</dd><dt id="view.EditorProps.clipboardSerializer">
  <code><strong><a href="#view.EditorProps.clipboardSerializer">clipboardSerializer</a></strong>⁠?: <a href="#model.DOMSerializer"><span class="type">DOMSerializer</span></a></code></dt>

<dd><p data-x-en="The DOM serializer to use when putting content onto the clipboard. If not given, the result of DOMSerializer.fromSchema will be used. This object will only have its serializeFragment method called, and you may provide an alternative object type implementing a compatible method.">用于将内容放入剪贴板的DOM序列化器。如果未提供，将使用
<a href="#model.DOMSerializer%5EfromSchema"><code>DOMSerializer.fromSchema</code></a>
的结果。此对象将仅调用其
<a href="#model.DOMSerializer.serializeFragment"><code>serializeFragment</code></a>
方法，您可以提供实现兼容方法的替代对象类型。</p>
</dd><dt id="view.EditorProps.clipboardTextSerializer">
  <code><strong><a href="#view.EditorProps.clipboardTextSerializer">clipboardTextSerializer</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.EditorProps.clipboardTextSerializer^content" href="#view.EditorProps.clipboardTextSerializer^content"><span class="param">content</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>, <a id="view.EditorProps.clipboardTextSerializer^view" href="#view.EditorProps.clipboardTextSerializer^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="A function that will be called to get the text for the current selection when copying text to the clipboard. By default, the editor will use textBetween on the selected range.">一个将在将文本复制到剪贴板时被调用以获取当前选择文本的函数。默认情况下，编辑器将在选定范围内使用<a href="#model.Node.textBetween"><code>textBetween</code></a>。</p>
</dd><dt id="view.EditorProps.decorations">
  <code><strong><a href="#view.EditorProps.decorations">decorations</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.EditorProps.decorations^state" href="#view.EditorProps.decorations^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<a href="#view.DecorationSource"><span class="type">DecorationSource</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="A set of document decorations to show in the view.">一组<a href="#view.Decoration">文档装饰</a>以显示在视图中。</p>
</dd><dt id="view.EditorProps.editable">
  <code><strong><a href="#view.EditorProps.editable">editable</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.EditorProps.editable^state" href="#view.EditorProps.editable^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When this returns false, the content of the view is not directly editable.">当此返回 false 时，视图的内容不可直接编辑。</p>
</dd><dt id="view.EditorProps.attributes">
  <code><strong><a href="#view.EditorProps.attributes">attributes</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>&gt; | <div class="breaktype"><span class="fn">fn</span>(<a id="view.EditorProps.attributes^state" href="#view.EditorProps.attributes^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>&gt;</div></code></dt>

<dd><p data-x-en="Control the DOM attributes of the editable element. May be either an object or a function going from an editor state to an object. By default, the element will get a class &quot;ProseMirror&quot;, and will have its contentEditable attribute determined by the editable prop. Additional classes provided here will be added to the class. For other attributes, the value provided first (as in someProp) will be used.">控制可编辑元素的DOM属性。可以是一个对象或一个从编辑器状态到对象的函数。默认情况下，元素将获得一个类<code>"ProseMirror"</code>，并且其<code>contentEditable</code>属性将由<a href="#view.EditorProps.editable"><code>editable</code> prop</a>确定。这里提供的附加类将被添加到类中。对于其他属性，将使用首先提供的值（如<a href="#view.EditorView.someProp"><code>someProp</code></a>）。</p>
</dd><dt id="view.EditorProps.scrollThreshold">
  <code><strong><a href="#view.EditorProps.scrollThreshold">scrollThreshold</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <div class="breaktype">{<span class="prop">top</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">right</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">bottom</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">left</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</div></code></dt>

<dd><p data-x-en="Determines the distance (in pixels) between the cursor and the end of the visible viewport at which point, when scrolling the cursor into view, scrolling takes place. Defaults to 0.">确定光标与可见视口末端之间的距离（以像素为单位），在将光标滚动到视图中时，滚动发生的点。默认为 0。</p>
</dd><dt id="view.EditorProps.scrollMargin">
  <code><strong><a href="#view.EditorProps.scrollMargin">scrollMargin</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <div class="breaktype">{<span class="prop">top</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">right</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">bottom</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">left</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</div></code></dt>

<dd><p data-x-en="Determines the extra space (in pixels) that is left above or below the cursor when it is scrolled into view. Defaults to 5.">确定当光标滚动到视图中时在光标上方或下方留下的额外空间（以像素为单位）。默认值为 5。</p>
</dd></dl>

</dd>
<dt id="view.NodeViewConstructor">
  <code>
    <span class="keyword">type</span>
    <strong><a href="#view.NodeViewConstructor">NodeViewConstructor</a></strong> = <span class="fn">fn</span>(<div class="breaktype"><a id="view.NodeViewConstructor^node" href="#view.NodeViewConstructor^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="view.NodeViewConstructor^view" href="#view.NodeViewConstructor^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.NodeViewConstructor^getPos" href="#view.NodeViewConstructor^getPos"><span class="param">getPos</span></a>:&nbsp;<span class="fn">fn</span>() →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a>, </div><div class="breaktype"><a id="view.NodeViewConstructor^decorations" href="#view.NodeViewConstructor^decorations"><span class="param">decorations</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#view.Decoration"><span class="type">Decoration</span></a>[], </div><div class="breaktype"><a id="view.NodeViewConstructor^innerDecorations" href="#view.NodeViewConstructor^innerDecorations"><span class="param">innerDecorations</span></a>:&nbsp;<a href="#view.DecorationSource"><span class="type">DecorationSource</span></a></div>) →&nbsp;<a href="#view.NodeView"><span class="type">NodeView</span></a></code>
</dt>

<dd><p data-x-en="The type of function provided to create node views.">提供用于创建<a href="#view.NodeView">节点视图</a>的<a href="#view.EditorProps.nodeViews">函数类型</a>。</p>
</dd>
<dt id="view.MarkViewConstructor">
  <code>
    <span class="keyword">type</span>
    <strong><a href="#view.MarkViewConstructor">MarkViewConstructor</a></strong> = <span class="fn">fn</span>(<div class="breaktype"><a id="view.MarkViewConstructor^mark" href="#view.MarkViewConstructor^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>, </div><div class="breaktype"><a id="view.MarkViewConstructor^view" href="#view.MarkViewConstructor^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.MarkViewConstructor^inline" href="#view.MarkViewConstructor^inline"><span class="param">inline</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></div>) →&nbsp;{<span class="prop">dom</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a>, <span class="prop">contentDOM</span>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a>}</code>
</dt>

<dd><p data-x-en="The function types used to create mark views.">函数类型<a href="#view.EditorProps.markViews">用于</a>创建标记视图。</p>
</dd>
<dt id="view.DirectEditorProps">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#view.DirectEditorProps">DirectEditorProps</a> <code><span class="keyword">extends</span> <a href="#view.EditorProps"><span class="type">EditorProps</span></a></code></h4>
</dt>

<dd><p data-x-en="The props object given directly to the editor view supports some fields that can't be used in plugins:">直接提供给编辑器视图的props对象支持一些不能在插件中使用的字段：</p>
<dl><dt id="view.DirectEditorProps.state">
  <code><strong><a href="#view.DirectEditorProps.state">state</a></strong>: <a href="#state.EditorState"><span class="type">EditorState</span></a></code></dt>

<dd><p data-x-en="The current state of the editor.">编辑器的当前状态。</p>
</dd><dt id="view.DirectEditorProps.plugins">
  <code><strong><a href="#view.DirectEditorProps.plugins">plugins</a></strong>⁠?: <span class="keyword">readonly</span>&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a>[]</code></dt>

<dd><p data-x-en="A set of plugins to use in the view, applying their plugin view and props. Passing plugins with a state component (a state field field or a transaction filter or appender) will result in an error, since such plugins must be present in the state to work.">一组在视图中使用的插件，应用它们的<a href="#state.PluginSpec.view">插件视图</a>和<a href="#state.PluginSpec.props">属性</a>。传递带有状态组件（<a href="#state.PluginSpec.state">状态字段</a>或<a href="#state.PluginSpec.filterTransaction">事务</a>过滤器或附加器）的插件将导致错误，因为此类插件必须存在于状态中才能工作。</p>
</dd><dt id="view.DirectEditorProps.dispatchTransaction">
  <code><strong><a href="#view.DirectEditorProps.dispatchTransaction">dispatchTransaction</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.DirectEditorProps.dispatchTransaction^tr" href="#view.DirectEditorProps.dispatchTransaction^tr"><span class="param">tr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>)</code></dt>

<dd><p data-x-en="The callback over which to send transactions (state updates) produced by the view. If you specify this, you probably want to make sure this ends up calling the view's updateState method with a new state that has the transaction applied. The callback will be bound to have the view instance as its this binding.">用于发送由视图生成的事务（状态更新）的回调。如果你指定了这个，你可能想确保这最终会调用视图的<a href="#view.EditorView.updateState"><code>updateState</code></a>方法，并使用应用了事务的新状态。回调将绑定视图实例作为其<code>this</code>绑定。</p>
</dd></dl>

</dd>
<dt id="view.NodeView">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#view.NodeView">NodeView</a></h4>
</dt>

<dd><p data-x-en="By default, document nodes are rendered using the result of the toDOM method of their spec, and managed entirely by the editor. For some use cases, such as embedded node-specific editing interfaces, you want more control over the behavior of a node's in-editor representation, and need to define a custom node view.">默认情况下，文档节点使用其规范的<a href="#model.NodeSpec.toDOM"><code>toDOM</code></a>方法的结果进行渲染，并由编辑器完全管理。对于某些用例，例如嵌入节点特定的编辑界面，您希望对节点在编辑器中的表示行为有更多控制，并需要<a href="#view.EditorProps.nodeViews">定义</a>自定义节点视图。</p>
<p data-x-en="Mark views only support dom and contentDOM, and don't support any of the node view methods.">Mark 视图仅支持 <code>dom</code> 和 <code>contentDOM</code>，不支持任何节点视图方法。</p>
<p data-x-en="Objects returned as node views must conform to this interface.">对象作为节点视图返回时必须符合此接口。</p>
<dl><dt id="view.NodeView.dom">
  <code><strong><a href="#view.NodeView.dom">dom</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a></code></dt>

<dd><p data-x-en="The outer DOM node that represents the document node.">表示文档节点的外部DOM节点。</p>
</dd><dt id="view.NodeView.contentDOM">
  <code><strong><a href="#view.NodeView.contentDOM">contentDOM</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a></code></dt>

<dd><p data-x-en="The DOM node that should hold the node's content. Only meaningful if the node view also defines a dom property and if its node type is not a leaf node type. When this is present, ProseMirror will take care of rendering the node's children into it. When it is not present, the node view itself is responsible for rendering (or deciding not to render) its child nodes.">应该包含节点内容的DOM节点。只有在节点视图也定义了<code>dom</code>属性并且其节点类型不是叶节点类型时才有意义。当存在此属性时，ProseMirror将负责将节点的子节点渲染到其中。当不存在此属性时，节点视图本身负责渲染（或决定不渲染）其子节点。</p>
</dd><dt id="view.NodeView.update">
  <code><strong><a href="#view.NodeView.update">update</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.NodeView.update^node" href="#view.NodeView.update^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="view.NodeView.update^decorations" href="#view.NodeView.update^decorations"><span class="param">decorations</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#view.Decoration"><span class="type">Decoration</span></a>[], </div><div class="breaktype"><a id="view.NodeView.update^innerDecorations" href="#view.NodeView.update^innerDecorations"><span class="param">innerDecorations</span></a>:&nbsp;<a href="#view.DecorationSource"><span class="type">DecorationSource</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When given, this will be called when the view is updating itself. It will be given a node (possibly of a different type), an array of active decorations around the node (which are automatically drawn, and the node view may ignore if it isn't interested in them), and a decoration source that represents any decorations that apply to the content of the node (which again may be ignored). It should return true if it was able to update to that node, and false otherwise. If the node view has a contentDOM property (or no dom property), updating its child nodes will be handled by ProseMirror.">当提供时，这将在视图更新自身时被调用。它将被赋予一个节点（可能是不同类型的），一个围绕节点的活动装饰数组（这些装饰会自动绘制，如果节点视图对它们不感兴趣，可以忽略），以及一个<a href="#view.DecorationSource">装饰源</a>，代表适用于节点内容的任何装饰（同样可以忽略）。如果能够更新到该节点，它应返回true，否则返回false。如果节点视图有一个<code>contentDOM</code>属性（或没有<code>dom</code>属性），其子节点的更新将由ProseMirror处理。</p>
</dd><dt id="view.NodeView.selectNode">
  <code><strong><a href="#view.NodeView.selectNode">selectNode</a></strong>⁠?: <span class="fn">fn</span>()</code></dt>

<dd><p data-x-en="Can be used to override the way the node's selected status (as a node selection) is displayed.">可用于覆盖节点的选定状态（作为节点选择）的显示方式。</p>
</dd><dt id="view.NodeView.deselectNode">
  <code><strong><a href="#view.NodeView.deselectNode">deselectNode</a></strong>⁠?: <span class="fn">fn</span>()</code></dt>

<dd><p data-x-en="When defining a selectNode method, you should also provide a deselectNode method to remove the effect again.">在定义<code>selectNode</code>方法时，你还应该提供一个<code>deselectNode</code>方法来再次移除效果。</p>
</dd><dt id="view.NodeView.setSelection">
  <code><strong><a href="#view.NodeView.setSelection">setSelection</a></strong>⁠?: <span class="fn">fn</span>(<div class="breaktype"><a id="view.NodeView.setSelection^anchor" href="#view.NodeView.setSelection^anchor"><span class="param">anchor</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.NodeView.setSelection^head" href="#view.NodeView.setSelection^head"><span class="param">head</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.NodeView.setSelection^root" href="#view.NodeView.setSelection^root"><span class="param">root</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/document"><span class="type">Document</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/API/ShadowRoot"><span class="type">ShadowRoot</span></a></div>)</code></dt>

<dd><p data-x-en="This will be called to handle setting the selection inside the node. The anchor and head positions are relative to the start of the node. By default, a DOM selection will be created between the DOM positions corresponding to those positions, but if you override it you can do something else.">这将被调用来处理在节点内设置选择。<code>anchor</code> 和 <code>head</code> 位置是相对于节点的起始位置。默认情况下，将在对应于这些位置的 DOM 位置之间创建一个 DOM 选择，但如果你重写它，你可以做其他事情。</p>
</dd><dt id="view.NodeView.stopEvent">
  <code><strong><a href="#view.NodeView.stopEvent">stopEvent</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.NodeView.stopEvent^event" href="#view.NodeView.stopEvent^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/DOM/event"><span class="type">Event</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Can be used to prevent the editor view from trying to handle some or all DOM events that bubble up from the node view. Events for which this returns true are not handled by the editor.">可用于防止编辑器视图尝试处理从节点视图冒泡的一些或所有DOM事件。对于此返回true的事件，编辑器不会处理。</p>
</dd><dt id="view.NodeView.ignoreMutation">
  <code><strong><a href="#view.NodeView.ignoreMutation">ignoreMutation</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.NodeView.ignoreMutation^mutation" href="#view.NodeView.ignoreMutation^mutation"><span class="param">mutation</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationRecord"><span class="type">MutationRecord</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Called when a DOM mutation or a selection change happens within the view. When the change is a selection change, the record will have a type property of &quot;selection&quot; (which doesn't occur for native mutation records). Return false if the editor should re-read the selection or re-parse the range around the mutation, true if it can safely be ignored.">在视图中发生DOM <a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver">变动</a>或选择更改时调用。当更改是选择更改时，记录将具有<code>type</code>属性<code>"selection"</code>（这不会出现在本机变动记录中）。如果编辑器应该重新读取选择或重新解析变动周围的范围，则返回false；如果可以安全忽略，则返回true。</p>
</dd><dt id="view.NodeView.destroy">
  <code><strong><a href="#view.NodeView.destroy">destroy</a></strong>⁠?: <span class="fn">fn</span>()</code></dt>

<dd><p data-x-en="Called when the node view is removed from the editor or the whole editor is destroyed. (Not available for marks.)">在节点视图从编辑器中移除或整个编辑器被销毁时调用。（不适用于标记。）</p>
</dd></dl>

</dd>
<dt id="view.DOMEventMap">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#view.DOMEventMap">DOMEventMap</a> <code><span class="keyword">extends</span> <a href="https://microsoft.github.io/PowerBI-JavaScript/interfaces/_node_modules_typedoc_node_modules_typescript_lib_lib_dom_d_.htmlelementeventmap.html"><span class="type">HTMLElementEventMap</span></a></code></h4>
</dt>

<dd><p data-x-en="Helper type that maps event names to event object types, but includes events that TypeScript's HTMLElementEventMap doesn't know about.">帮助器类型将事件名称映射到事件对象类型，但包括 TypeScript 的 HTMLElementEventMap 不知道的事件。</p>
<dl><dt id="view.DOMEventMap^string">
  <code><strong><a href="#view.DOMEventMap^string">[string]</a></strong>: <span class="type">any</span></code></dt>

<dd></dd></dl>

</dd>
</dl>
<h3 id="view.Decorations"><a href="#view.Decorations">Decorations</a></h3>
<p data-x-en="Decorations make it possible to influence the way the document is drawn, without actually changing the document.">装饰使得可以在不实际更改文档的情况下影响文档的绘制方式。</p>
<dl>
<dt id="view.Decoration">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#view.Decoration">Decoration</a></h4>
</dt>

<dd><p data-x-en="Decoration objects can be provided to the view through the decorations prop. They come in several variants—see the static members of this class for details.">装饰对象可以通过<a href="#view.EditorProps.decorations"><code>decorations</code> prop</a>提供给视图。它们有几种变体——详情请参见此类的静态成员。</p>
<dl><dt id="view.Decoration.from">
  <code><strong><a href="#view.Decoration.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The start position of the decoration.">装饰的起始位置。</p>
</dd><dt id="view.Decoration.to">
  <code><strong><a href="#view.Decoration.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The end position. Will be the same as from for widget decorations.">结束位置。将与<a href="#view.Decoration%5Ewidget">小部件装饰</a>的<code>from</code>相同。</p>
</dd><dt id="view.Decoration.spec">
  <code><strong><a href="#view.Decoration.spec">spec</a></strong>: <span class="type">any</span></code></dt>

<dd><p data-x-en="The spec provided when creating this decoration. Can be useful if you've stored extra information in that object.">创建此装饰时提供的规范。如果您在该对象中存储了额外的信息，则可能有用。</p>
</dd><dt id="view.Decoration^widget">
  <code><span class="keyword">static</span> <strong><a href="#view.Decoration^widget">widget</a></strong>(<div class="breaktype"><a id="view.Decoration^widget^pos" href="#view.Decoration^widget^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.Decoration^widget^toDOM" href="#view.Decoration^widget^toDOM"><span class="param">toDOM</span></a>:&nbsp;<span class="fn">fn</span>(<div class="breaktype"><a id="view.Decoration^widget^toDOM^view" href="#view.Decoration^widget^toDOM^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, </div><div class="breaktype"><a id="view.Decoration^widget^toDOM^getPos" href="#view.Decoration^widget^toDOM^getPos"><span class="param">getPos</span></a>:&nbsp;<span class="fn">fn</span>() →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a> | <div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a></div>, </div><div class="breaktype"><a id="view.Decoration^widget^spec" href="#view.Decoration^widget^spec"><span class="param">spec</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></div>) →&nbsp;<a href="#view.Decoration"><span class="type">Decoration</span></a></code></dt>

<dd><p data-x-en="Creates a widget decoration, which is a DOM node that's shown in the document at the given position. It is recommended that you delay rendering the widget by passing a function that will be called when the widget is actually drawn in a view, but you can also directly pass a DOM node. getPos can be used to find the widget's current document position.">创建一个小部件装饰，这是一个在文档中显示在给定位置的DOM节点。建议您通过传递一个函数来延迟渲染小部件，该函数将在小部件实际绘制在视图中时被调用，但您也可以直接传递一个DOM节点。<code>getPos</code>可用于查找小部件当前的文档位置。</p>
<dl><dt id="view.Decoration^widget^spec">
  <code><strong><a href="#view.Decoration^widget^spec">spec</a></strong></code></dt>

<dd><dl><dt id="view.Decoration^widget^spec.side">
  <code><strong><a href="#view.Decoration^widget^spec.side">side</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="Controls which side of the document position this widget is associated with. When negative, it is drawn before a cursor at its position, and content inserted at that position ends up after the widget. When zero (the default) or positive, the widget is drawn after the cursor and content inserted there ends up before the widget.">控制此小部件与文档位置关联的哪一侧。当为负数时，它会在光标之前绘制，并且插入在该位置的内容会出现在小部件之后。当为零（默认）或正数时，小部件会在光标之后绘制，并且插入在该位置的内容会出现在小部件之前。</p>
<p data-x-en="When there are multiple widgets at a given position, their side values determine the order in which they appear. Those with lower values appear first. The ordering of widgets with the same side value is unspecified.">当在给定位置有多个小部件时，它们的<code>side</code>值决定了它们出现的顺序。值较低的先出现。具有相同<code>side</code>值的小部件的顺序未指定。</p>
<p data-x-en="When marks is null, side also determines the marks that the widget is wrapped in—those of the node before when negative, those of the node after when positive.">当 <code>marks</code> 为 null 时，<code>side</code> 也决定了小部件所包裹的标记——负数时为前一个节点的标记，正数时为后一个节点的标记。</p>
</dd><dt id="view.Decoration^widget^spec.marks">
  <code><strong><a href="#view.Decoration^widget^spec.marks">marks</a></strong>⁠?: <span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="The precise set of marks to draw around the widget.">绘制在小部件周围的精确标记集。</p>
</dd><dt id="view.Decoration^widget^spec.stopEvent">
  <code><strong><a href="#view.Decoration^widget^spec.stopEvent">stopEvent</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.Decoration^widget^spec.stopEvent^event" href="#view.Decoration^widget^spec.stopEvent^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/DOM/event"><span class="type">Event</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Can be used to control which DOM events, when they bubble out of this widget, the editor view should ignore.">可用于控制从此小部件冒泡出来的 DOM 事件，编辑器视图应忽略。</p>
</dd><dt id="view.Decoration^widget^spec.ignoreSelection">
  <code><strong><a href="#view.Decoration^widget^spec.ignoreSelection">ignoreSelection</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When set (defaults to false), selection changes inside the widget are ignored, and don't cause ProseMirror to try and re-sync the selection with its selection state.">当设置为（默认为false）时，忽略小部件内的选择更改，并且不会导致ProseMirror尝试将选择与其选择状态重新同步。</p>
</dd><dt id="view.Decoration^widget^spec.key">
  <code><strong><a href="#view.Decoration^widget^spec.key">key</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="When comparing decorations of this type (in order to decide whether it needs to be redrawn), ProseMirror will by default compare the widget DOM node by identity. If you pass a key, that key will be compared instead, which can be useful when you generate decorations on the fly and don't want to store and reuse DOM nodes. Make sure that any widgets with the same key are interchangeable—if widgets differ in, for example, the behavior of some event handler, they should get different keys.">在比较这种类型的装饰（以决定是否需要重新绘制）时，ProseMirror 默认会通过身份比较小部件的 DOM 节点。如果你传递一个键，则会比较该键，这在你动态生成装饰且不想存储和重用 DOM 节点时非常有用。确保任何具有相同键的小部件是可互换的——如果小部件在某些事件处理程序的行为上有所不同，它们应该获得不同的键。</p>
</dd><dt id="view.Decoration^widget^spec.destroy">
  <code><strong><a href="#view.Decoration^widget^spec.destroy">destroy</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.Decoration^widget^spec.destroy^node" href="#view.Decoration^widget^spec.destroy^node"><span class="param">node</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>)</code></dt>

<dd><p data-x-en="Called when the widget decoration is removed or the editor is destroyed.">在小部件装饰被移除或编辑器被销毁时调用。</p>
</dd><dt id="view.Decoration^widget^spec^string">
  <code><strong><a href="#view.Decoration^widget^spec^string">[string]</a></strong>: <span class="type">any</span></code></dt>

<dd><p data-x-en="Specs allow arbitrary additional properties.">规格允许任意附加属性。</p>
</dd></dl></dd></dl></dd><dt id="view.Decoration^inline">
  <code><span class="keyword">static</span> <strong><a href="#view.Decoration^inline">inline</a></strong>(<div class="breaktype"><a id="view.Decoration^inline^from" href="#view.Decoration^inline^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.Decoration^inline^to" href="#view.Decoration^inline^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.Decoration^inline^attrs" href="#view.Decoration^inline^attrs"><span class="param">attrs</span></a>:&nbsp;<a href="#view.DecorationAttrs"><span class="type">DecorationAttrs</span></a>, </div><div class="breaktype"><a id="view.Decoration^inline^spec" href="#view.Decoration^inline^spec"><span class="param">spec</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></div>) →&nbsp;<a href="#view.Decoration"><span class="type">Decoration</span></a></code></dt>

<dd><p data-x-en="Creates an inline decoration, which adds the given attributes to each inline node between from and to.">创建一个内联装饰，它将给定的属性添加到<code>from</code>和<code>to</code>之间的每个内联节点。</p>
<dl><dt id="view.Decoration^inline^spec">
  <code><strong><a href="#view.Decoration^inline^spec">spec</a></strong></code></dt>

<dd><dl><dt id="view.Decoration^inline^spec.inclusiveStart">
  <code><strong><a href="#view.Decoration^inline^spec.inclusiveStart">inclusiveStart</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Determines how the left side of the decoration is mapped when content is inserted directly at that position. By default, the decoration won't include the new content, but you can set this to true to make it inclusive.">确定当内容直接插入到该位置时，装饰的左侧如何<a href="#transform.Position_Mapping">映射</a>。默认情况下，装饰不会包含新内容，但您可以将其设置为<code>true</code>以使其包含。</p>
</dd><dt id="view.Decoration^inline^spec.inclusiveEnd">
  <code><strong><a href="#view.Decoration^inline^spec.inclusiveEnd">inclusiveEnd</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Determines how the right side of the decoration is mapped. See inclusiveStart.">确定装饰的右侧如何映射。
请参阅
<a href="#view.Decoration%5Einline%5Espec.inclusiveStart"><code>inclusiveStart</code></a>。</p>
</dd><dt id="view.Decoration^inline^spec^string">
  <code><strong><a href="#view.Decoration^inline^spec^string">[string]</a></strong>: <span class="type">any</span></code></dt>

<dd><p data-x-en="Specs may have arbitrary additional properties.">规格可能具有任意的附加属性。</p>
</dd></dl></dd></dl></dd><dt id="view.Decoration^node">
  <code><span class="keyword">static</span> <strong><a href="#view.Decoration^node">node</a></strong>(<div class="breaktype"><a id="view.Decoration^node^from" href="#view.Decoration^node^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.Decoration^node^to" href="#view.Decoration^node^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.Decoration^node^attrs" href="#view.Decoration^node^attrs"><span class="param">attrs</span></a>:&nbsp;<a href="#view.DecorationAttrs"><span class="type">DecorationAttrs</span></a>, </div><div class="breaktype"><a id="view.Decoration^node^spec" href="#view.Decoration^node^spec"><span class="param">spec</span></a>⁠?:&nbsp;<span class="type">any</span></div>) →&nbsp;<a href="#view.Decoration"><span class="type">Decoration</span></a></code></dt>

<dd><p data-x-en="Creates a node decoration. from and to should point precisely before and after a node in the document. That node, and only that node, will receive the given attributes.">创建一个节点装饰。<code>from</code> 和 <code>to</code> 应该精确地指向文档中节点的前后。只有该节点将接收给定的属性。</p>
</dd></dl>

</dd>
<dt id="view.DecorationAttrs">
  <h4>
    <code><span class="keyword">type</span></code>
    <a href="#view.DecorationAttrs">DecorationAttrs</a></h4>
</dt>

<dd><p data-x-en="A set of attributes to add to a decorated node. Most properties simply directly correspond to DOM attributes of the same name, which will be set to the property's value. These are exceptions:">一组属性添加到装饰节点。大多数属性直接对应于同名的DOM属性，这些属性将被设置为属性的值。这些是例外：</p>
<dl><dt id="view.DecorationAttrs.nodeName">
  <code><strong><a href="#view.DecorationAttrs.nodeName">nodeName</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="When non-null, the target node is wrapped in a DOM element of this type (and the other attributes are applied to this element).">当非空时，目标节点被包裹在这种类型的DOM元素中（其他属性应用于此元素）。</p>
</dd><dt id="view.DecorationAttrs.class">
  <code><strong><a href="#view.DecorationAttrs.class">class</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="A CSS class name or a space-separated set of class names to be added to the classes that the node already had.">一个 CSS 类名或一组用空格分隔的类名，将<em>添加</em>到节点已经拥有的类中。</p>
</dd><dt id="view.DecorationAttrs.style">
  <code><strong><a href="#view.DecorationAttrs.style">style</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="A string of CSS to be added to the node's existing style property.">一串要<em>添加</em>到节点现有<code>style</code>属性的CSS。</p>
</dd><dt id="view.DecorationAttrs^string">
  <code><strong><a href="#view.DecorationAttrs^string">[string]</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Any other properties are treated as regular DOM attributes.">任何其他属性都被视为常规DOM属性。</p>
</dd></dl>

</dd>
<dt id="view.DecorationSet">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#view.DecorationSet">DecorationSet</a> <code><span class="keyword">implements</span> <a href="#view.DecorationSource"><span class="type">DecorationSource</span></a></code></h4>
</dt>

<dd><p data-x-en="A collection of decorations, organized in such a way that the drawing algorithm can efficiently use and compare them. This is a persistent data structure—it is not modified, updates create a new value.">一组<a href="#view.Decoration">装饰</a>，以一种绘图算法可以高效使用和比较的方式组织。 这是一个持久的数据结构——它不会被修改，更新会创建一个新值。</p>
<dl><dt id="view.DecorationSet.find">
  <code><strong><a href="#view.DecorationSet.find">find</a></strong>(<div class="breaktype"><a id="view.DecorationSet.find^start" href="#view.DecorationSet.find^start"><span class="param">start</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.DecorationSet.find^end" href="#view.DecorationSet.find^end"><span class="param">end</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="view.DecorationSet.find^predicate" href="#view.DecorationSet.find^predicate"><span class="param">predicate</span></a>⁠?:&nbsp;<span class="fn">fn</span>(<a id="view.DecorationSet.find^predicate^spec" href="#view.DecorationSet.find^predicate^spec"><span class="param">spec</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></div>) →&nbsp;<a href="#view.Decoration"><span class="type">Decoration</span></a>[]</code></dt>

<dd><p data-x-en="Find all decorations in this set which touch the given range (including decorations that start or end directly at the boundaries) and match the given predicate on their spec. When start and end are omitted, all decorations in the set are considered. When predicate isn't given, all decorations are assumed to match.">找到此集合中所有触及给定范围的装饰（包括直接在边界开始或结束的装饰）并且在其规格上匹配给定谓词的装饰。当省略<code>start</code>和<code>end</code>时，考虑集合中的所有装饰。当未给出<code>predicate</code>时，假定所有装饰都匹配。</p>
</dd><dt id="view.DecorationSet.map">
  <code><strong><a href="#view.DecorationSet.map">map</a></strong>(<a id="view.DecorationSet.map^mapping" href="#view.DecorationSet.map^mapping"><span class="param">mapping</span></a>:&nbsp;<a href="#transform.Mapping"><span class="type">Mapping</span></a>, <a id="view.DecorationSet.map^doc" href="#view.DecorationSet.map^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="view.DecorationSet.map^options" href="#view.DecorationSet.map^options"><span class="param">options</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>) →&nbsp;<a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p data-x-en="Map the set of decorations in response to a change in the document.">将装饰集映射到文档更改的响应中。</p>
<dl><dt id="view.DecorationSet.map^options">
  <code><strong><a href="#view.DecorationSet.map^options">options</a></strong></code></dt>

<dd><dl><dt id="view.DecorationSet.map^options.onRemove">
  <code><strong><a href="#view.DecorationSet.map^options.onRemove">onRemove</a></strong>⁠?: <span class="fn">fn</span>(<a id="view.DecorationSet.map^options.onRemove^decorationSpec" href="#view.DecorationSet.map^options.onRemove^decorationSpec"><span class="param">decorationSpec</span></a>:&nbsp;<span class="type">any</span>)</code></dt>

<dd><p data-x-en="When given, this function will be called for each decoration that gets dropped as a result of the mapping, passing the spec of that decoration.">当提供此函数时，将为由于映射而被删除的每个装饰调用此函数，并传递该装饰的规格。</p>
</dd></dl></dd></dl></dd><dt id="view.DecorationSet.add">
  <code><strong><a href="#view.DecorationSet.add">add</a></strong>(<a id="view.DecorationSet.add^doc" href="#view.DecorationSet.add^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="view.DecorationSet.add^decorations" href="#view.DecorationSet.add^decorations"><span class="param">decorations</span></a>:&nbsp;<a href="#view.Decoration"><span class="type">Decoration</span></a>[]) →&nbsp;<a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p data-x-en="Add the given array of decorations to the ones in the set, producing a new set. Consumes the decorations array. Needs access to the current document to create the appropriate tree structure.">将给定的装饰数组添加到集合中的装饰中，生成一个新的集合。消耗<code>decorations</code>数组。需要访问当前文档以创建适当的树结构。</p>
</dd><dt id="view.DecorationSet.remove">
  <code><strong><a href="#view.DecorationSet.remove">remove</a></strong>(<a id="view.DecorationSet.remove^decorations" href="#view.DecorationSet.remove^decorations"><span class="param">decorations</span></a>:&nbsp;<a href="#view.Decoration"><span class="type">Decoration</span></a>[]) →&nbsp;<a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p data-x-en="Create a new set that contains the decorations in this set, minus the ones in the given array.">创建一个新集合，其中包含此集合中的装饰，但不包括给定数组中的装饰。</p>
</dd><dt id="view.DecorationSet^create">
  <code><span class="keyword">static</span> <strong><a href="#view.DecorationSet^create">create</a></strong>(<a id="view.DecorationSet^create^doc" href="#view.DecorationSet^create^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="view.DecorationSet^create^decorations" href="#view.DecorationSet^create^decorations"><span class="param">decorations</span></a>:&nbsp;<a href="#view.Decoration"><span class="type">Decoration</span></a>[]) →&nbsp;<a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p data-x-en="Create a set of decorations, using the structure of the given document. This will consume (modify) the decorations array, so you must make a copy if you want need to preserve that.">创建一组装饰，使用给定文档的结构。这将消耗（修改）<code>decorations</code>数组，因此如果需要保留它，必须制作一个副本。</p>
</dd><dt id="view.DecorationSet^empty">
  <code><span class="keyword">static</span> <strong><a href="#view.DecorationSet^empty">empty</a></strong>: <a href="#view.DecorationSet"><span class="type">DecorationSet</span></a></code></dt>

<dd><p data-x-en="The empty set of decorations.">空的装饰集合。</p>
</dd></dl>

</dd>
<dt id="view.DecorationSource">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#view.DecorationSource">DecorationSource</a></h4>
</dt>

<dd><p data-x-en="An object that can provide decorations. Implemented by DecorationSet, and passed to node views.">一个可以<a href="#view.EditorProps.decorations">提供</a>装饰的对象。由<a href="#view.DecorationSet"><code>DecorationSet</code></a>实现，并传递给<a href="#view.EditorProps.nodeViews">节点视图</a>。</p>
<dl><dt id="view.DecorationSource.map">
  <code><strong><a href="#view.DecorationSource.map">map</a></strong>(<a id="view.DecorationSource.map^mapping" href="#view.DecorationSource.map^mapping"><span class="param">mapping</span></a>:&nbsp;<a href="#transform.Mapping"><span class="type">Mapping</span></a>, <a id="view.DecorationSource.map^node" href="#view.DecorationSource.map^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#view.DecorationSource"><span class="type">DecorationSource</span></a></code></dt>

<dd><p data-x-en="Map the set of decorations in response to a change in the document.">将装饰集映射到文档更改的响应中。</p>
</dd><dt id="view.DecorationSource.forChild">
  <code><strong><a href="#view.DecorationSource.forChild">forChild</a></strong>(<a id="view.DecorationSource.forChild^offset" href="#view.DecorationSource.forChild^offset"><span class="param">offset</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="view.DecorationSource.forChild^child" href="#view.DecorationSource.forChild^child"><span class="param">child</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#view.DecorationSource"><span class="type">DecorationSource</span></a></code></dt>

<dd><p data-x-en="Extract a DecorationSource containing decorations for the given child node at the given offset.">提取一个DecorationSource，其中包含给定偏移量处给定子节点的装饰。</p>
</dd><dt id="view.DecorationSource.forEachSet">
  <code><strong><a href="#view.DecorationSource.forEachSet">forEachSet</a></strong>(<a id="view.DecorationSource.forEachSet^f" href="#view.DecorationSource.forEachSet^f"><span class="param">f</span></a>:&nbsp;<span class="fn">fn</span>(<a id="view.DecorationSource.forEachSet^f^set" href="#view.DecorationSource.forEachSet^f^set"><span class="param">set</span></a>:&nbsp;<a href="#view.DecorationSet"><span class="type">DecorationSet</span></a>))</code></dt>

<dd><p data-x-en="Call the given function for each decoration set in the group.">为组中的每个装饰集调用给定函数。</p>
</dd></dl>

</dd>
</dl>
</section><section id="part_model">
    <h2 class="module" id="model">
      <a href="#model">prosemirror-model <span class="kind">module</span></a>
    </h2><p data-x-en="This module defines ProseMirror's content model, the data structures used to represent and work with documents.">此模块定义了ProseMirror的内容模型，用于表示和处理文档的数据结构。</p>
<h3 id="model.Document_Structure"><a href="#model.Document_Structure">Document Structure</a></h3>
<p data-x-en="A ProseMirror document is a tree. At each level, a node describes the type of the content, and holds a fragment containing its children.">ProseMirror 文档是一个树。在每个层级，一个<a href="#model.Node">节点</a>描述内容的类型，并且包含一个包含其子节点的<a href="#model.Fragment">片段</a>。</p>
<dl>
<dt id="model.Node">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.Node">Node</a></h4>
</dt>

<dd><p data-x-en="This class represents a node in the tree that makes up a ProseMirror document. So a document is an instance of Node, with children that are also instances of Node.">这类表示构成ProseMirror文档的树中的一个节点。因此，文档是<code>Node</code>的一个实例，其子节点也是<code>Node</code>的实例。</p>
<p data-x-en="Nodes are persistent data structures. Instead of changing them, you create new ones with the content you want. Old ones keep pointing at the old document shape. This is made cheaper by sharing structure between the old and new data as much as possible, which a tree shape like this (without back pointers) makes easy.">节点是持久化的数据结构。你不会改变它们，而是创建包含所需内容的新节点。旧节点继续指向旧的文档结构。通过尽可能多地在旧数据和新数据之间共享结构，这样做的成本更低，而像这样的树形结构（没有后向指针）使这一点变得容易。</p>
<p data-x-en="Do not directly mutate the properties of a Node object. See the guide for more information."><strong>不要</strong>直接修改<code>Node</code>对象的属性。请参阅
<a href="/docs/guide/#doc">指南</a>了解更多信息。</p>
<dl><dt id="model.Node.type">
  <code><strong><a href="#model.Node.type">type</a></strong>: <a href="#model.NodeType"><span class="type">NodeType</span></a></code></dt>

<dd><p data-x-en="The type of node that this is.">该节点的类型。</p>
</dd><dt id="model.Node.attrs">
  <code><strong><a href="#model.Node.attrs">attrs</a></strong>: <a href="#model.Attrs"><span class="type">Attrs</span></a></code></dt>

<dd><p data-x-en="An object mapping attribute names to values. The kind of attributes allowed and required are determined by the node type.">将属性名称映射到值的对象。允许和要求的属性种类由节点类型<a href="#model.NodeSpec.attrs">确定</a>。</p>
</dd><dt id="model.Node.marks">
  <code><strong><a href="#model.Node.marks">marks</a></strong>: <span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="The marks (things like whether it is emphasized or part of a link) applied to this node.">标记（例如是否强调或作为链接的一部分）应用于此节点。</p>
</dd><dt id="model.Node.content">
  <code><strong><a href="#model.Node.content">content</a></strong>: <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="A container holding the node's children.">一个包含节点子节点的容器。</p>
</dd><dt id="model.Node.text">
  <code><strong><a href="#model.Node.text">text</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="For text nodes, this contains the node's text content.">For text nodes, this contains the node's text content.</p>
</dd><dt id="model.Node.nodeSize">
  <code><strong><a href="#model.Node.nodeSize">nodeSize</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The size of this node, as defined by the integer-based indexing scheme. For text nodes, this is the amount of characters. For other leaf nodes, it is one. For non-leaf nodes, it is the size of the content plus two (the start and end token).">该节点的大小，由基于整数的<a href="/docs/guide/#doc.indexing">索引方案</a>定义。对于文本节点，这是字符的数量。对于其他叶节点，它是一个。对于非叶节点，它是内容的大小加上两个（开始和结束标记）。</p>
</dd><dt id="model.Node.childCount">
  <code><strong><a href="#model.Node.childCount">childCount</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The number of children that the node has.">节点拥有的子节点数量。</p>
</dd><dt id="model.Node.child">
  <code><strong><a href="#model.Node.child">child</a></strong>(<a id="model.Node.child^index" href="#model.Node.child^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Get the child node at the given index. Raises an error when the index is out of range.">获取给定索引处的子节点。当索引超出范围时引发错误。</p>
</dd><dt id="model.Node.maybeChild">
  <code><strong><a href="#model.Node.maybeChild">maybeChild</a></strong>(<a id="model.Node.maybeChild^index" href="#model.Node.maybeChild^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Get the child node at the given index, if it exists.">获取给定索引处的子节点（如果存在）。</p>
</dd><dt id="model.Node.forEach">
  <code><strong><a href="#model.Node.forEach">forEach</a></strong>(<div class="breaktype"><a id="model.Node.forEach^f" href="#model.Node.forEach^f"><span class="param">f</span></a>:&nbsp;<span class="fn">fn</span>(<a id="model.Node.forEach^f^node" href="#model.Node.forEach^f^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="model.Node.forEach^f^offset" href="#model.Node.forEach^f^offset"><span class="param">offset</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="model.Node.forEach^f^index" href="#model.Node.forEach^f^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>)</div>)</code></dt>

<dd><p data-x-en="Call f for every child node, passing the node, its offset into this parent node, and its index.">为每个子节点调用<code>f</code>，传递节点、它在此父节点中的偏移量及其索引。</p>
</dd><dt id="model.Node.nodesBetween">
  <code><strong><a href="#model.Node.nodesBetween">nodesBetween</a></strong>(<div class="breaktype"><a id="model.Node.nodesBetween^from" href="#model.Node.nodesBetween^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.nodesBetween^to" href="#model.Node.nodesBetween^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.nodesBetween^f" href="#model.Node.nodesBetween^f"><span class="param">f</span></a>:&nbsp;<span class="fn">fn</span>(<div class="breaktype"><a id="model.Node.nodesBetween^f^node" href="#model.Node.nodesBetween^f^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="model.Node.nodesBetween^f^pos" href="#model.Node.nodesBetween^f^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.nodesBetween^f^parent" href="#model.Node.nodesBetween^f^parent"><span class="param">parent</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>, </div><div class="breaktype"><a id="model.Node.nodesBetween^f^index" href="#model.Node.nodesBetween^f^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a>, </div><div class="breaktype"><a id="model.Node.nodesBetween^startPos" href="#model.Node.nodesBetween^startPos"><span class="param">startPos</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 0</span></div>)</code></dt>

<dd><p data-x-en="Invoke a callback for all descendant nodes recursively between the given two positions that are relative to start of this node's content. The callback is invoked with the node, its position relative to the original node (method receiver), its parent node, and its child index. When the callback returns false for a given node, that node's children will not be recursed over. The last parameter can be used to specify a starting position to count from.">在给定的两个相对于此节点内容起始位置之间递归地为所有后代节点调用回调函数。回调函数以节点、其相对于原始节点（方法接收者）的位置、其父节点及其子索引为参数。当回调函数对某个节点返回false时，该节点的子节点将不会被递归。最后一个参数可用于指定一个起始位置进行计数。</p>
</dd><dt id="model.Node.descendants">
  <code><strong><a href="#model.Node.descendants">descendants</a></strong>(<div class="breaktype"><a id="model.Node.descendants^f" href="#model.Node.descendants^f"><span class="param">f</span></a>:&nbsp;<span class="fn">fn</span>(<div class="breaktype"><a id="model.Node.descendants^f^node" href="#model.Node.descendants^f^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="model.Node.descendants^f^pos" href="#model.Node.descendants^f^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.descendants^f^parent" href="#model.Node.descendants^f^parent"><span class="param">parent</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>, </div><div class="breaktype"><a id="model.Node.descendants^f^index" href="#model.Node.descendants^f^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></div>)</code></dt>

<dd><p data-x-en="Call the given callback for every descendant node. Doesn't descend into a node when the callback returns false.">为每个子节点调用给定的回调函数。当回调函数返回<code>false</code>时，不会深入到该节点。</p>
</dd><dt id="model.Node.textContent">
  <code><strong><a href="#model.Node.textContent">textContent</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Concatenates all the text nodes found in this fragment and its children.">将此片段及其子节点中找到的所有文本节点连接起来。</p>
</dd><dt id="model.Node.textBetween">
  <code><strong><a href="#model.Node.textBetween">textBetween</a></strong>(<div class="breaktype"><a id="model.Node.textBetween^from" href="#model.Node.textBetween^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.textBetween^to" href="#model.Node.textBetween^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.textBetween^blockSeparator" href="#model.Node.textBetween^blockSeparator"><span class="param">blockSeparator</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, </div><div class="breaktype"><a id="model.Node.textBetween^leafText" href="#model.Node.textBetween^leafText"><span class="param">leafText</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <span class="fn">fn</span>(<a id="model.Node.textBetween^leafText^leafNode" href="#model.Node.textBetween^leafText^leafNode"><span class="param">leafNode</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Get all text between positions from and to. When blockSeparator is given, it will be inserted to separate text from different block nodes. If leafText is given, it'll be inserted for every non-text leaf node encountered, otherwise leafText will be used.">获取位置<code>from</code>和<code>to</code>之间的所有文本。当提供<code>blockSeparator</code>时，它将被插入以分隔来自不同块节点的文本。如果提供了<code>leafText</code>，它将被插入到遇到的每个非文本叶节点中，否则将使用<a href="#model.NodeSpec%5EleafText"><code>leafText</code></a>。</p>
</dd><dt id="model.Node.firstChild">
  <code><strong><a href="#model.Node.firstChild">firstChild</a></strong>: <a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Returns this node's first child, or null if there are no children.">返回此节点的第一个子节点，如果没有子节点则返回<code>null</code>。</p>
</dd><dt id="model.Node.lastChild">
  <code><strong><a href="#model.Node.lastChild">lastChild</a></strong>: <a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Returns this node's last child, or null if there are no children.">返回此节点的最后一个子节点，如果没有子节点则返回<code>null</code>。</p>
</dd><dt id="model.Node.eq">
  <code><strong><a href="#model.Node.eq">eq</a></strong>(<a id="model.Node.eq^other" href="#model.Node.eq^other"><span class="param">other</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether two nodes represent the same piece of document.">测试两个节点是否代表同一份文档。</p>
</dd><dt id="model.Node.sameMarkup">
  <code><strong><a href="#model.Node.sameMarkup">sameMarkup</a></strong>(<a id="model.Node.sameMarkup^other" href="#model.Node.sameMarkup^other"><span class="param">other</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Compare the markup (type, attributes, and marks) of this node to those of another. Returns true if both have the same markup.">比较此节点的标记（类型、属性和标记）与另一个节点的标记。如果两者具有相同的标记，则返回<code>true</code>。</p>
</dd><dt id="model.Node.hasMarkup">
  <code><strong><a href="#model.Node.hasMarkup">hasMarkup</a></strong>(<div class="breaktype"><a id="model.Node.hasMarkup^type" href="#model.Node.hasMarkup^type"><span class="param">type</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="model.Node.hasMarkup^attrs" href="#model.Node.hasMarkup^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a>, </div><div class="breaktype"><a id="model.Node.hasMarkup^marks" href="#model.Node.hasMarkup^marks"><span class="param">marks</span></a>⁠?:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Check whether this node's markup correspond to the given type, attributes, and marks.">检查此节点的标记是否对应于给定的类型、属性和标记。</p>
</dd><dt id="model.Node.copy">
  <code><strong><a href="#model.Node.copy">copy</a></strong>(<a id="model.Node.copy^content" href="#model.Node.copy^content"><span class="param">content</span></a>⁠?:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Create a new node with the same markup as this node, containing the given content (or empty, if no content is given).">创建一个具有与此节点相同标记的新节点，包含给定的内容（如果没有给定内容，则为空）。</p>
</dd><dt id="model.Node.mark">
  <code><strong><a href="#model.Node.mark">mark</a></strong>(<a id="model.Node.mark^marks" href="#model.Node.mark^marks"><span class="param">marks</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Create a copy of this node, with the given set of marks instead of the node's own marks.">创建此节点的副本，并使用给定的标记集代替节点自己的标记。</p>
</dd><dt id="model.Node.cut">
  <code><strong><a href="#model.Node.cut">cut</a></strong>(<a id="model.Node.cut^from" href="#model.Node.cut^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="model.Node.cut^to" href="#model.Node.cut^to"><span class="param">to</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = this.content.size</span>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Create a copy of this node with only the content between the given positions. If to is not given, it defaults to the end of the node.">创建此节点的副本，仅包含给定位置之间的内容。如果未给出<code>to</code>，则默认为节点的末尾。</p>
</dd><dt id="model.Node.slice">
  <code><strong><a href="#model.Node.slice">slice</a></strong>(<div class="breaktype"><a id="model.Node.slice^from" href="#model.Node.slice^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.slice^to" href="#model.Node.slice^to"><span class="param">to</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = this.content.size</span>, </div><div class="breaktype"><a id="model.Node.slice^includeParents" href="#model.Node.slice^includeParents"><span class="param">includeParents</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a><span class="defaultvalue"> = false</span></div>) →&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="Cut out the part of the document between the given positions, and return it as a Slice object.">从给定位置之间的文档中剪切出部分，并将其作为<code>Slice</code>对象返回。</p>
</dd><dt id="model.Node.replace">
  <code><strong><a href="#model.Node.replace">replace</a></strong>(<a id="model.Node.replace^from" href="#model.Node.replace^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="model.Node.replace^to" href="#model.Node.replace^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="model.Node.replace^slice" href="#model.Node.replace^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Replace the part of the document between the given positions with the given slice. The slice must 'fit', meaning its open sides must be able to connect to the surrounding content, and its content nodes must be valid children for the node they are placed into. If any of this is violated, an error of type ReplaceError is thrown.">将文档中给定位置之间的部分替换为给定的片段。片段必须“适合”，这意味着它的开放边必须能够连接到周围的内容，并且它的内容节点必须是它们所在节点的有效子节点。如果违反了其中任何一项，将抛出类型为<a href="#model.ReplaceError"><code>ReplaceError</code></a>的错误。</p>
</dd><dt id="model.Node.nodeAt">
  <code><strong><a href="#model.Node.nodeAt">nodeAt</a></strong>(<a id="model.Node.nodeAt^pos" href="#model.Node.nodeAt^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Find the node directly after the given position.">找到给定位置之后的节点。</p>
</dd><dt id="model.Node.childAfter">
  <code><strong><a href="#model.Node.childAfter">childAfter</a></strong>(<a id="model.Node.childAfter^pos" href="#model.Node.childAfter^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;{<span class="prop">node</span>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>, <span class="prop">index</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">offset</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p data-x-en="Find the (direct) child node after the given offset, if any, and return it along with its index and offset relative to this node.">找到给定偏移量后的（直接）子节点（如果有），并将其与相对于此节点的索引和偏移量一起返回。</p>
</dd><dt id="model.Node.childBefore">
  <code><strong><a href="#model.Node.childBefore">childBefore</a></strong>(<a id="model.Node.childBefore^pos" href="#model.Node.childBefore^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;{<span class="prop">node</span>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>, <span class="prop">index</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">offset</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}</code></dt>

<dd><p data-x-en="Find the (direct) child node before the given offset, if any, and return it along with its index and offset relative to this node.">在给定偏移量之前找到（直接）子节点（如果有），并返回它以及相对于此节点的索引和偏移量。</p>
</dd><dt id="model.Node.resolve">
  <code><strong><a href="#model.Node.resolve">resolve</a></strong>(<a id="model.Node.resolve^pos" href="#model.Node.resolve^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="Resolve the given position in the document, returning an object with information about its context.">解析文档中的给定位置，返回一个包含其上下文信息的<a href="#model.ResolvedPos">对象</a>。</p>
</dd><dt id="model.Node.rangeHasMark">
  <code><strong><a href="#model.Node.rangeHasMark">rangeHasMark</a></strong>(<div class="breaktype"><a id="model.Node.rangeHasMark^from" href="#model.Node.rangeHasMark^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.rangeHasMark^to" href="#model.Node.rangeHasMark^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.rangeHasMark^type" href="#model.Node.rangeHasMark^type"><span class="param">type</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a> | <a href="#model.MarkType"><span class="type">MarkType</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether a given mark or mark type occurs in this document between the two given positions.">测试在此文档中给定的标记或标记类型是否出现在两个给定位置之间。</p>
</dd><dt id="model.Node.isBlock">
  <code><strong><a href="#model.Node.isBlock">isBlock</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this is a block (non-inline node)">当这是一个块（非内联节点）时为真</p>
</dd><dt id="model.Node.isTextblock">
  <code><strong><a href="#model.Node.isTextblock">isTextblock</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this is a textblock node, a block node with inline content.">True when this is a textblock node, a block node with inline content.</p>
</dd><dt id="model.Node.inlineContent">
  <code><strong><a href="#model.Node.inlineContent">inlineContent</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this node allows inline content.">当此节点允许内联内容时为真。</p>
</dd><dt id="model.Node.isInline">
  <code><strong><a href="#model.Node.isInline">isInline</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this is an inline node (a text node or a node that can appear among text).">True when this is an inline node (a text node or a node that can appear among text).</p>
</dd><dt id="model.Node.isText">
  <code><strong><a href="#model.Node.isText">isText</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this is a text node.">True when this is a text node.</p>
</dd><dt id="model.Node.isLeaf">
  <code><strong><a href="#model.Node.isLeaf">isLeaf</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this is a leaf node.">当这是一个叶节点时为真。</p>
</dd><dt id="model.Node.isAtom">
  <code><strong><a href="#model.Node.isAtom">isAtom</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this is an atom, i.e. when it does not have directly editable content. This is usually the same as isLeaf, but can be configured with the atom property on a node's spec (typically used when the node is displayed as an uneditable node view).">当这是一个原子时为真，即当它没有直接可编辑的内容时。这通常与<code>isLeaf</code>相同，但可以通过节点规范中的<a href="#model.NodeSpec.atom"><code>atom</code>属性</a>进行配置（通常在节点显示为不可编辑的<a href="#view.NodeView">节点视图</a>时使用）。</p>
</dd><dt id="model.Node.toString">
  <code><strong><a href="#model.Node.toString">toString</a></strong>() →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Return a string representation of this node for debugging purposes.">返回此节点的字符串表示以进行调试。</p>
</dd><dt id="model.Node.contentMatchAt">
  <code><strong><a href="#model.Node.contentMatchAt">contentMatchAt</a></strong>(<a id="model.Node.contentMatchAt^index" href="#model.Node.contentMatchAt^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#model.ContentMatch"><span class="type">ContentMatch</span></a></code></dt>

<dd><p data-x-en="Get the content match in this node at the given index.">在给定索引处获取此节点中的内容匹配。</p>
</dd><dt id="model.Node.canReplace">
  <code><strong><a href="#model.Node.canReplace">canReplace</a></strong>(<div class="breaktype"><a id="model.Node.canReplace^from" href="#model.Node.canReplace^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.canReplace^to" href="#model.Node.canReplace^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.canReplace^replacement" href="#model.Node.canReplace^replacement"><span class="param">replacement</span></a>⁠?:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a><span class="defaultvalue"> = Fragment.empty</span>, </div><div class="breaktype"><a id="model.Node.canReplace^start" href="#model.Node.canReplace^start"><span class="param">start</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 0</span>, </div><div class="breaktype"><a id="model.Node.canReplace^end" href="#model.Node.canReplace^end"><span class="param">end</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = replacement.childCount</span></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether replacing the range between from and to (by child index) with the given replacement fragment (which defaults to the empty fragment) would leave the node's content valid. You can optionally pass start and end indices into the replacement fragment.">测试在节点的内容是否有效的情况下，用给定的替换片段（默认为空片段）替换<code>from</code>和<code>to</code>之间的范围（通过子索引）。您可以选择传递<code>start</code>和<code>end</code>索引到替换片段。</p>
</dd><dt id="model.Node.canReplaceWith">
  <code><strong><a href="#model.Node.canReplaceWith">canReplaceWith</a></strong>(<div class="breaktype"><a id="model.Node.canReplaceWith^from" href="#model.Node.canReplaceWith^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.canReplaceWith^to" href="#model.Node.canReplaceWith^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Node.canReplaceWith^type" href="#model.Node.canReplaceWith^type"><span class="param">type</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="model.Node.canReplaceWith^marks" href="#model.Node.canReplaceWith^marks"><span class="param">marks</span></a>⁠?:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether replacing the range from to to (by index) with a node of the given type would leave the node's content valid.">测试将范围<code>from</code>到<code>to</code>（按索引）替换为给定类型的节点是否会使节点的内容保持有效。</p>
</dd><dt id="model.Node.canAppend">
  <code><strong><a href="#model.Node.canAppend">canAppend</a></strong>(<a id="model.Node.canAppend^other" href="#model.Node.canAppend^other"><span class="param">other</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether the given node's content could be appended to this node. If that node is empty, this will only return true if there is at least one node type that can appear in both nodes (to avoid merging completely incompatible nodes).">测试给定节点的内容是否可以附加到此节点。如果该节点为空，则只有在至少有一个节点类型可以出现在两个节点中时才会返回 true（以避免合并完全不兼容的节点）。</p>
</dd><dt id="model.Node.check">
  <code><strong><a href="#model.Node.check">check</a></strong>()</code></dt>

<dd><p data-x-en="Check whether this node and its descendants conform to the schema, and raise an exception when they do not.">检查此节点及其后代是否符合架构，如果不符合则引发异常。</p>
</dd><dt id="model.Node.toJSON">
  <code><strong><a href="#model.Node.toJSON">toJSON</a></strong>() →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="Return a JSON-serializeable representation of this node.">返回此节点的 JSON 可序列化表示。</p>
</dd><dt id="model.Node^fromJSON">
  <code><span class="keyword">static</span> <strong><a href="#model.Node^fromJSON">fromJSON</a></strong>(<a id="model.Node^fromJSON^schema" href="#model.Node^fromJSON^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, <a id="model.Node^fromJSON^json" href="#model.Node^fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Deserialize a node from its JSON representation.">从其JSON表示中反序列化一个节点。</p>
</dd></dl>

</dd>
<dt id="model.Fragment">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.Fragment">Fragment</a></h4>
</dt>

<dd><p data-x-en="A fragment represents a node's collection of child nodes.">一个片段表示一个节点的子节点集合。</p>
<p data-x-en="Like nodes, fragments are persistent data structures, and you should not mutate them or their content. Rather, you create new instances whenever needed. The API tries to make this easy.">像节点一样，片段是持久性数据结构，你不应该改变它们或它们的内容。相反，你应该在需要时创建新的实例。API 尝试使这变得容易。</p>
<dl><dt id="model.Fragment.size">
  <code><strong><a href="#model.Fragment.size">size</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The size of the fragment, which is the total of the size of its content nodes.">片段的大小，即其内容节点的总大小。</p>
</dd><dt id="model.Fragment.nodesBetween">
  <code><strong><a href="#model.Fragment.nodesBetween">nodesBetween</a></strong>(<div class="breaktype"><a id="model.Fragment.nodesBetween^from" href="#model.Fragment.nodesBetween^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Fragment.nodesBetween^to" href="#model.Fragment.nodesBetween^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Fragment.nodesBetween^f" href="#model.Fragment.nodesBetween^f"><span class="param">f</span></a>:&nbsp;<span class="fn">fn</span>(<div class="breaktype"><a id="model.Fragment.nodesBetween^f^node" href="#model.Fragment.nodesBetween^f^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="model.Fragment.nodesBetween^f^start" href="#model.Fragment.nodesBetween^f^start"><span class="param">start</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Fragment.nodesBetween^f^parent" href="#model.Fragment.nodesBetween^f^parent"><span class="param">parent</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>, </div><div class="breaktype"><a id="model.Fragment.nodesBetween^f^index" href="#model.Fragment.nodesBetween^f^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a>, </div><div class="breaktype"><a id="model.Fragment.nodesBetween^nodeStart" href="#model.Fragment.nodesBetween^nodeStart"><span class="param">nodeStart</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 0</span>, </div><div class="breaktype"><a id="model.Fragment.nodesBetween^parent" href="#model.Fragment.nodesBetween^parent"><span class="param">parent</span></a>⁠?:&nbsp;<a href="#model.Node"><span class="type">Node</span></a></div>)</code></dt>

<dd><p data-x-en="Invoke a callback for all descendant nodes between the given two positions (relative to start of this fragment). Doesn't descend into a node when the callback returns false.">为给定的两个位置之间的所有子节点调用回调（相对于此片段的起始位置）。当回调返回<code>false</code>时，不会深入节点。</p>
</dd><dt id="model.Fragment.descendants">
  <code><strong><a href="#model.Fragment.descendants">descendants</a></strong>(<div class="breaktype"><a id="model.Fragment.descendants^f" href="#model.Fragment.descendants^f"><span class="param">f</span></a>:&nbsp;<span class="fn">fn</span>(<div class="breaktype"><a id="model.Fragment.descendants^f^node" href="#model.Fragment.descendants^f^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="model.Fragment.descendants^f^pos" href="#model.Fragment.descendants^f^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Fragment.descendants^f^parent" href="#model.Fragment.descendants^f^parent"><span class="param">parent</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>, </div><div class="breaktype"><a id="model.Fragment.descendants^f^index" href="#model.Fragment.descendants^f^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></div>)</code></dt>

<dd><p data-x-en="Call the given callback for every descendant node. pos will be relative to the start of the fragment. The callback may return false to prevent traversal of a given node's children.">为每个子节点调用给定的回调函数。<code>pos</code>将相对于片段的起始位置。回调函数可以返回<code>false</code>以阻止遍历给定节点的子节点。</p>
</dd><dt id="model.Fragment.textBetween">
  <code><strong><a href="#model.Fragment.textBetween">textBetween</a></strong>(<div class="breaktype"><a id="model.Fragment.textBetween^from" href="#model.Fragment.textBetween^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Fragment.textBetween^to" href="#model.Fragment.textBetween^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Fragment.textBetween^blockSeparator" href="#model.Fragment.textBetween^blockSeparator"><span class="param">blockSeparator</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, </div><div class="breaktype"><a id="model.Fragment.textBetween^leafText" href="#model.Fragment.textBetween^leafText"><span class="param">leafText</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <span class="fn">fn</span>(<a id="model.Fragment.textBetween^leafText^leafNode" href="#model.Fragment.textBetween^leafText^leafNode"><span class="param">leafNode</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Extract the text between from and to. See the same method on Node.">提取<code>from</code>和<code>to</code>之间的文本。请参阅<a href="#model.Node.textBetween"><code>Node</code></a>上的相同方法。</p>
</dd><dt id="model.Fragment.append">
  <code><strong><a href="#model.Fragment.append">append</a></strong>(<a id="model.Fragment.append^other" href="#model.Fragment.append^other"><span class="param">other</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="Create a new fragment containing the combined content of this fragment and the other.">创建一个包含此片段和其他片段的组合内容的新片段。</p>
</dd><dt id="model.Fragment.cut">
  <code><strong><a href="#model.Fragment.cut">cut</a></strong>(<a id="model.Fragment.cut^from" href="#model.Fragment.cut^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="model.Fragment.cut^to" href="#model.Fragment.cut^to"><span class="param">to</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = this.size</span>) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="Cut out the sub-fragment between the two given positions.">剪切出两个给定位置之间的子片段。</p>
</dd><dt id="model.Fragment.replaceChild">
  <code><strong><a href="#model.Fragment.replaceChild">replaceChild</a></strong>(<a id="model.Fragment.replaceChild^index" href="#model.Fragment.replaceChild^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="model.Fragment.replaceChild^node" href="#model.Fragment.replaceChild^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="Create a new fragment in which the node at the given index is replaced by the given node.">创建一个新的片段，其中给定索引处的节点被给定节点替换。</p>
</dd><dt id="model.Fragment.addToStart">
  <code><strong><a href="#model.Fragment.addToStart">addToStart</a></strong>(<a id="model.Fragment.addToStart^node" href="#model.Fragment.addToStart^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="Create a new fragment by prepending the given node to this fragment.">将给定节点添加到此片段的前面以创建一个新的片段。</p>
</dd><dt id="model.Fragment.addToEnd">
  <code><strong><a href="#model.Fragment.addToEnd">addToEnd</a></strong>(<a id="model.Fragment.addToEnd^node" href="#model.Fragment.addToEnd^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="Create a new fragment by appending the given node to this fragment.">通过将给定节点附加到此片段来创建一个新片段。</p>
</dd><dt id="model.Fragment.eq">
  <code><strong><a href="#model.Fragment.eq">eq</a></strong>(<a id="model.Fragment.eq^other" href="#model.Fragment.eq^other"><span class="param">other</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Compare this fragment to another one.">将此片段与另一个片段进行比较。</p>
</dd><dt id="model.Fragment.firstChild">
  <code><strong><a href="#model.Fragment.firstChild">firstChild</a></strong>: <a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="The first child of the fragment, or null if it is empty.">片段的第一个子节点，如果为空则为<code>null</code>。</p>
</dd><dt id="model.Fragment.lastChild">
  <code><strong><a href="#model.Fragment.lastChild">lastChild</a></strong>: <a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="The last child of the fragment, or null if it is empty.">片段的最后一个子节点，如果为空则为<code>null</code>。</p>
</dd><dt id="model.Fragment.childCount">
  <code><strong><a href="#model.Fragment.childCount">childCount</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The number of child nodes in this fragment.">该片段中的子节点数量。</p>
</dd><dt id="model.Fragment.child">
  <code><strong><a href="#model.Fragment.child">child</a></strong>(<a id="model.Fragment.child^index" href="#model.Fragment.child^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Get the child node at the given index. Raise an error when the index is out of range.">获取给定索引处的子节点。当索引超出范围时引发错误。</p>
</dd><dt id="model.Fragment.maybeChild">
  <code><strong><a href="#model.Fragment.maybeChild">maybeChild</a></strong>(<a id="model.Fragment.maybeChild^index" href="#model.Fragment.maybeChild^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Get the child node at the given index, if it exists.">获取给定索引处的子节点（如果存在）。</p>
</dd><dt id="model.Fragment.forEach">
  <code><strong><a href="#model.Fragment.forEach">forEach</a></strong>(<div class="breaktype"><a id="model.Fragment.forEach^f" href="#model.Fragment.forEach^f"><span class="param">f</span></a>:&nbsp;<span class="fn">fn</span>(<a id="model.Fragment.forEach^f^node" href="#model.Fragment.forEach^f^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="model.Fragment.forEach^f^offset" href="#model.Fragment.forEach^f^offset"><span class="param">offset</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="model.Fragment.forEach^f^index" href="#model.Fragment.forEach^f^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>)</div>)</code></dt>

<dd><p data-x-en="Call f for every child node, passing the node, its offset into this parent node, and its index.">为每个子节点调用<code>f</code>，传递节点、它在此父节点中的偏移量及其索引。</p>
</dd><dt id="model.Fragment.findDiffStart">
  <code><strong><a href="#model.Fragment.findDiffStart">findDiffStart</a></strong>(<a id="model.Fragment.findDiffStart^other" href="#model.Fragment.findDiffStart^other"><span class="param">other</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>, <a id="model.Fragment.findDiffStart^pos" href="#model.Fragment.findDiffStart^pos"><span class="param">pos</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 0</span>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Find the first position at which this fragment and another fragment differ, or null if they are the same.">找到此片段与另一个片段不同的第一个位置，如果它们相同，则返回<code>null</code>。</p>
</dd><dt id="model.Fragment.findDiffEnd">
  <code><strong><a href="#model.Fragment.findDiffEnd">findDiffEnd</a></strong>(<div class="breaktype"><a id="model.Fragment.findDiffEnd^other" href="#model.Fragment.findDiffEnd^other"><span class="param">other</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>, </div><div class="breaktype"><a id="model.Fragment.findDiffEnd^pos" href="#model.Fragment.findDiffEnd^pos"><span class="param">pos</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = this.size</span>, </div><div class="breaktype"><a id="model.Fragment.findDiffEnd^otherPos" href="#model.Fragment.findDiffEnd^otherPos"><span class="param">otherPos</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = other.size</span></div>) →&nbsp;{<span class="prop">a</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">b</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>} | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Find the first position, searching from the end, at which this fragment and the given fragment differ, or null if they are the same. Since this position will not be the same in both nodes, an object with two separate positions is returned.">找到从末尾开始搜索的第一个位置，在该位置此片段与给定片段不同，或者如果它们相同则返回<code>null</code>。由于此位置在两个节点中不会相同，因此返回一个具有两个独立位置的对象。</p>
</dd><dt id="model.Fragment.toString">
  <code><strong><a href="#model.Fragment.toString">toString</a></strong>() →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Return a debugging string that describes this fragment.">返回描述此片段的调试字符串。</p>
</dd><dt id="model.Fragment.toJSON">
  <code><strong><a href="#model.Fragment.toJSON">toJSON</a></strong>() →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="Create a JSON-serializeable representation of this fragment.">创建一个可JSON序列化的表示这个片段的表示。</p>
</dd><dt id="model.Fragment^fromJSON">
  <code><span class="keyword">static</span> <strong><a href="#model.Fragment^fromJSON">fromJSON</a></strong>(<a id="model.Fragment^fromJSON^schema" href="#model.Fragment^fromJSON^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, <a id="model.Fragment^fromJSON^value" href="#model.Fragment^fromJSON^value"><span class="param">value</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="Deserialize a fragment from its JSON representation.">从其JSON表示中反序列化片段。</p>
</dd><dt id="model.Fragment^fromArray">
  <code><span class="keyword">static</span> <strong><a href="#model.Fragment^fromArray">fromArray</a></strong>(<a id="model.Fragment^fromArray^array" href="#model.Fragment^fromArray^array"><span class="param">array</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Node"><span class="type">Node</span></a>[]) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="Build a fragment from an array of nodes. Ensures that adjacent text nodes with the same marks are joined together.">从节点数组构建一个片段。确保具有相同标记的相邻文本节点连接在一起。</p>
</dd><dt id="model.Fragment^from">
  <code><span class="keyword">static</span> <strong><a href="#model.Fragment^from">from</a></strong>(<div class="breaktype"><a id="model.Fragment^from^nodes" href="#model.Fragment^from^nodes"><span class="param">nodes</span></a>⁠?:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | <span class="keyword">readonly</span>&nbsp;<a href="#model.Node"><span class="type">Node</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div>) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="Create a fragment from something that can be interpreted as a set of nodes. For null, it returns the empty fragment. For a fragment, the fragment itself. For a node or array of nodes, a fragment containing those nodes.">从可以解释为一组节点的内容创建一个片段。对于<code>null</code>，返回空片段。对于一个片段，返回片段本身。对于一个节点或节点数组，返回包含这些节点的片段。</p>
</dd><dt id="model.Fragment^empty">
  <code><span class="keyword">static</span> <strong><a href="#model.Fragment^empty">empty</a></strong>: <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="An empty fragment. Intended to be reused whenever a node doesn't contain anything (rather than allocating a new empty fragment for each leaf node).">一个空片段。旨在在节点不包含任何内容时重复使用（而不是为每个叶节点分配一个新的空片段）。</p>
</dd></dl>

</dd>
<dt id="model.Mark">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.Mark">Mark</a></h4>
</dt>

<dd><p data-x-en="A mark is a piece of information that can be attached to a node, such as it being emphasized, in code font, or a link. It has a type and optionally a set of attributes that provide further information (such as the target of the link). Marks are created through a Schema, which controls which types exist and which attributes they have.">标记是一段可以附加到节点上的信息，例如它被强调、以代码字体显示或是一个链接。它有一个类型，并且可以选择性地包含一组提供进一步信息的属性（例如链接的目标）。标记是通过<code>Schema</code>创建的，<code>Schema</code>控制存在的类型及其属性。</p>
<dl><dt id="model.Mark.type">
  <code><strong><a href="#model.Mark.type">type</a></strong>: <a href="#model.MarkType"><span class="type">MarkType</span></a></code></dt>

<dd><p data-x-en="The type of this mark.">这种标记的类型。</p>
</dd><dt id="model.Mark.attrs">
  <code><strong><a href="#model.Mark.attrs">attrs</a></strong>: <a href="#model.Attrs"><span class="type">Attrs</span></a></code></dt>

<dd><p data-x-en="The attributes associated with this mark.">与此标记相关的属性。</p>
</dd><dt id="model.Mark.addToSet">
  <code><strong><a href="#model.Mark.addToSet">addToSet</a></strong>(<a id="model.Mark.addToSet^set" href="#model.Mark.addToSet^set"><span class="param">set</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="Given a set of marks, create a new set which contains this one as well, in the right position. If this mark is already in the set, the set itself is returned. If any marks that are set to be exclusive with this mark are present, those are replaced by this one.">给定一组标记，创建一个包含此标记的新集合，并将其放在正确的位置。如果此标记已在集合中，则返回集合本身。如果存在与此标记<a href="#model.MarkSpec.excludes">互斥</a>的任何标记，则将它们替换为此标记。</p>
</dd><dt id="model.Mark.removeFromSet">
  <code><strong><a href="#model.Mark.removeFromSet">removeFromSet</a></strong>(<a id="model.Mark.removeFromSet^set" href="#model.Mark.removeFromSet^set"><span class="param">set</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="Remove this mark from the given set, returning a new set. If this mark is not in the set, the set itself is returned.">从给定的集合中移除此标记，返回一个新集合。如果此标记不在集合中，则返回集合本身。</p>
</dd><dt id="model.Mark.isInSet">
  <code><strong><a href="#model.Mark.isInSet">isInSet</a></strong>(<a id="model.Mark.isInSet^set" href="#model.Mark.isInSet^set"><span class="param">set</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether this mark is in the given set of marks.">测试此标记是否在给定的标记集中。</p>
</dd><dt id="model.Mark.eq">
  <code><strong><a href="#model.Mark.eq">eq</a></strong>(<a id="model.Mark.eq^other" href="#model.Mark.eq^other"><span class="param">other</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether this mark has the same type and attributes as another mark.">测试此标记是否与另一个标记具有相同的类型和属性。</p>
</dd><dt id="model.Mark.toJSON">
  <code><strong><a href="#model.Mark.toJSON">toJSON</a></strong>() →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="Convert this mark to a JSON-serializeable representation.">将此标记转换为可JSON序列化的表示。</p>
</dd><dt id="model.Mark^fromJSON">
  <code><span class="keyword">static</span> <strong><a href="#model.Mark^fromJSON">fromJSON</a></strong>(<a id="model.Mark^fromJSON^schema" href="#model.Mark^fromJSON^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, <a id="model.Mark^fromJSON^json" href="#model.Mark^fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p data-x-en="Deserialize a mark from JSON.">从 JSON 反序列化标记。</p>
</dd><dt id="model.Mark^sameSet">
  <code><span class="keyword">static</span> <strong><a href="#model.Mark^sameSet">sameSet</a></strong>(<a id="model.Mark^sameSet^a" href="#model.Mark^sameSet^a"><span class="param">a</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[], <a id="model.Mark^sameSet^b" href="#model.Mark^sameSet^b"><span class="param">b</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether two sets of marks are identical.">测试两组标记是否相同。</p>
</dd><dt id="model.Mark^setFrom">
  <code><span class="keyword">static</span> <strong><a href="#model.Mark^setFrom">setFrom</a></strong>(<a id="model.Mark^setFrom^marks" href="#model.Mark^setFrom^marks"><span class="param">marks</span></a>⁠?:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a> | <span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>) →&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="Create a properly sorted mark set from null, a single mark, or an unsorted array of marks.">从 null、单个标记或未排序的标记数组创建一个正确排序的标记集。</p>
</dd><dt id="model.Mark^none">
  <code><span class="keyword">static</span> <strong><a href="#model.Mark^none">none</a></strong>: <span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="The empty set of marks.">空标记集。</p>
</dd></dl>

</dd>
<dt id="model.Slice">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.Slice">Slice</a></h4>
</dt>

<dd><p data-x-en="A slice represents a piece cut out of a larger document. It stores not only a fragment, but also the depth up to which nodes on both side are ‘open’ (cut through).">一片表示从较大文档中切出的一部分。它不仅存储了一个片段，还存储了两侧节点“打开”（切开）的深度。</p>
<dl><dt id="model.Slice.constructor">
  <code><span class="keyword">new</span> <strong><a href="#model.Slice.constructor">Slice</a></strong>(<div class="breaktype"><a id="model.Slice.constructor^content" href="#model.Slice.constructor^content"><span class="param">content</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>, </div><div class="breaktype"><a id="model.Slice.constructor^openStart" href="#model.Slice.constructor^openStart"><span class="param">openStart</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="model.Slice.constructor^openEnd" href="#model.Slice.constructor^openEnd"><span class="param">openEnd</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></div>)</code></dt>

<dd><p data-x-en="Create a slice. When specifying a non-zero open depth, you must make sure that there are nodes of at least that depth at the appropriate side of the fragment—i.e. if the fragment is an empty paragraph node, openStart and openEnd can't be greater than 1.">创建一个切片。当指定非零的打开深度时，必须确保在片段的适当一侧有至少该深度的节点——即如果片段是一个空段落节点，<code>openStart</code> 和 <code>openEnd</code> 不能大于1。</p>
<p data-x-en="It is not necessary for the content of open nodes to conform to the schema's content constraints, though it should be a valid start/end/middle for such a node, depending on which sides are open.">开放节点的内容不需要符合模式的内容约束，但应是该节点的有效开始/结束/中间，具体取决于哪一侧是开放的。</p>
</dd><dt id="model.Slice.content">
  <code><strong><a href="#model.Slice.content">content</a></strong>: <a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="The slice's content.">切片的内容。</p>
</dd><dt id="model.Slice.openStart">
  <code><strong><a href="#model.Slice.openStart">openStart</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The open depth at the start of the fragment.">片段开始时的开放深度。</p>
</dd><dt id="model.Slice.openEnd">
  <code><strong><a href="#model.Slice.openEnd">openEnd</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The open depth at the end.">末端的开放深度。</p>
</dd><dt id="model.Slice.size">
  <code><strong><a href="#model.Slice.size">size</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The size this slice would add when inserted into a document.">插入文档时此切片将增加的大小。</p>
</dd><dt id="model.Slice.eq">
  <code><strong><a href="#model.Slice.eq">eq</a></strong>(<a id="model.Slice.eq^other" href="#model.Slice.eq^other"><span class="param">other</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Tests whether this slice is equal to another slice.">测试此切片是否等于另一个切片。</p>
</dd><dt id="model.Slice.toJSON">
  <code><strong><a href="#model.Slice.toJSON">toJSON</a></strong>() →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="Convert a slice to a JSON-serializable representation.">将切片转换为JSON可序列化的表示。</p>
</dd><dt id="model.Slice^fromJSON">
  <code><span class="keyword">static</span> <strong><a href="#model.Slice^fromJSON">fromJSON</a></strong>(<a id="model.Slice^fromJSON^schema" href="#model.Slice^fromJSON^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, <a id="model.Slice^fromJSON^json" href="#model.Slice^fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="Deserialize a slice from its JSON representation.">从其JSON表示中反序列化一个切片。</p>
</dd><dt id="model.Slice^maxOpen">
  <code><span class="keyword">static</span> <strong><a href="#model.Slice^maxOpen">maxOpen</a></strong>(<div class="breaktype"><a id="model.Slice^maxOpen^fragment" href="#model.Slice^maxOpen^fragment"><span class="param">fragment</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>, </div><div class="breaktype"><a id="model.Slice^maxOpen^openIsolating" href="#model.Slice^maxOpen^openIsolating"><span class="param">openIsolating</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a><span class="defaultvalue"> = true</span></div>) →&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="Create a slice from a fragment by taking the maximum possible open value on both side of the fragment.">从片段中创建一个切片，通过在片段的两侧取最大可能的开放值。</p>
</dd><dt id="model.Slice^empty">
  <code><span class="keyword">static</span> <strong><a href="#model.Slice^empty">empty</a></strong>: <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="The empty slice.">空的切片。</p>
</dd></dl>

</dd>
<dt id="model.Attrs">
  <h4>
    <code><span class="keyword">type</span></code>
    <a href="#model.Attrs">Attrs</a></h4>
</dt>

<dd><p data-x-en="An object holding the attributes of a node.">一个包含节点属性的对象。</p>
<dl></dl>

</dd>
<dt id="model.ReplaceError">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.ReplaceError">ReplaceError</a> <code><span class="keyword">extends</span> <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Error"><span class="type">Error</span></a></code></h4>
</dt>

<dd><p data-x-en="Error type raised by Node.replace when given an invalid replacement.">当提供无效替换时，由<a href="#model.Node.replace"><code>Node.replace</code></a>引发的错误类型。</p>
<dl></dl>

</dd>
</dl>
<h3 id="model.Resolved_Positions"><a href="#model.Resolved_Positions">Resolved Positions</a></h3>
<p data-x-en="Positions in a document can be represented as integer offsets. But you'll often want to use a more convenient representation.">文档中的位置可以表示为整数<a href="/docs/guide/#doc.indexing">偏移量</a>。但您通常会希望使用更方便的表示方式。</p>
<dl>
<dt id="model.ResolvedPos">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.ResolvedPos">ResolvedPos</a></h4>
</dt>

<dd><p data-x-en="You can resolve a position to get more information about it. Objects of this class represent such a resolved position, providing various pieces of context information, and some helper methods.">你可以<a href="#model.Node.resolve"><em>解析</em></a>一个位置以获取更多信息。此类的对象表示这样一个已解析的位置，提供各种上下文信息和一些辅助方法。</p>
<p data-x-en="Throughout this interface, methods that take an optional depth parameter will interpret undefined as this.depth and negative numbers as this.depth + value.">在整个接口中，带有可选<code>depth</code>参数的方法将把未定义解释为<code>this.depth</code>，并将负数解释为<code>this.depth + value</code>。</p>
<dl><dt id="model.ResolvedPos.depth">
  <code><strong><a href="#model.ResolvedPos.depth">depth</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The number of levels the parent node is from the root. If this position points directly into the root node, it is 0. If it points into a top-level paragraph, 1, and so on.">父节点距离根节点的层数。如果此位置直接指向根节点，则为0。如果指向顶级段落，则为1，依此类推。</p>
</dd><dt id="model.ResolvedPos.pos">
  <code><strong><a href="#model.ResolvedPos.pos">pos</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The position that was resolved.">解决了的位置。</p>
</dd><dt id="model.ResolvedPos.parentOffset">
  <code><strong><a href="#model.ResolvedPos.parentOffset">parentOffset</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The offset this position has into its parent node.">该位置相对于其父节点的偏移。</p>
</dd><dt id="model.ResolvedPos.parent">
  <code><strong><a href="#model.ResolvedPos.parent">parent</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="The parent node that the position points into. Note that even if a position points into a text node, that node is not considered the parent—text nodes are ‘flat’ in this model, and have no content.">位置指向的父节点。请注意，即使位置指向文本节点，该节点也不被视为父节点——在此模型中，文本节点是“扁平”的，没有内容。</p>
</dd><dt id="model.ResolvedPos.doc">
  <code><strong><a href="#model.ResolvedPos.doc">doc</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="The root node in which the position was resolved.">位置已解析的根节点。</p>
</dd><dt id="model.ResolvedPos.node">
  <code><strong><a href="#model.ResolvedPos.node">node</a></strong>(<a id="model.ResolvedPos.node^depth" href="#model.ResolvedPos.node^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="The ancestor node at the given level. p.node(p.depth) is the same as p.parent.">给定级别的祖先节点。<code>p.node(p.depth)</code> 与 <code>p.parent</code> 相同。</p>
</dd><dt id="model.ResolvedPos.index">
  <code><strong><a href="#model.ResolvedPos.index">index</a></strong>(<a id="model.ResolvedPos.index^depth" href="#model.ResolvedPos.index^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The index into the ancestor at the given level. If this points at the 3rd node in the 2nd paragraph on the top level, for example, p.index(0) is 1 and p.index(1) is 2.">给定级别的祖先索引。如果这指向顶层第2段中的第3个节点，例如，<code>p.index(0)</code> 是 1，<code>p.index(1)</code> 是 2。</p>
</dd><dt id="model.ResolvedPos.indexAfter">
  <code><strong><a href="#model.ResolvedPos.indexAfter">indexAfter</a></strong>(<a id="model.ResolvedPos.indexAfter^depth" href="#model.ResolvedPos.indexAfter^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The index pointing after this position into the ancestor at the given level.">该索引指向在给定级别的祖先中的此位置之后。</p>
</dd><dt id="model.ResolvedPos.start">
  <code><strong><a href="#model.ResolvedPos.start">start</a></strong>(<a id="model.ResolvedPos.start^depth" href="#model.ResolvedPos.start^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The (absolute) position at the start of the node at the given level.">在给定级别的节点开始处的（绝对）位置。</p>
</dd><dt id="model.ResolvedPos.end">
  <code><strong><a href="#model.ResolvedPos.end">end</a></strong>(<a id="model.ResolvedPos.end^depth" href="#model.ResolvedPos.end^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The (absolute) position at the end of the node at the given level.">节点在给定级别末尾的（绝对）位置。</p>
</dd><dt id="model.ResolvedPos.before">
  <code><strong><a href="#model.ResolvedPos.before">before</a></strong>(<a id="model.ResolvedPos.before^depth" href="#model.ResolvedPos.before^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The (absolute) position directly before the wrapping node at the given level, or, when depth is this.depth + 1, the original position.">在给定级别中，直接位于包装节点之前的（绝对）位置，或者当<code>depth</code>是<code>this.depth + 1</code>时，原始位置。</p>
</dd><dt id="model.ResolvedPos.after">
  <code><strong><a href="#model.ResolvedPos.after">after</a></strong>(<a id="model.ResolvedPos.after^depth" href="#model.ResolvedPos.after^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The (absolute) position directly after the wrapping node at the given level, or the original position when depth is this.depth + 1.">在给定级别的包装节点之后的（绝对）位置，或者当<code>depth</code>是<code>this.depth + 1</code>时的原始位置。</p>
</dd><dt id="model.ResolvedPos.textOffset">
  <code><strong><a href="#model.ResolvedPos.textOffset">textOffset</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="When this position points into a text node, this returns the distance between the position and the start of the text node. Will be zero for positions that point between nodes.">当此位置指向文本节点时，此方法返回该位置与文本节点起始位置之间的距离。对于指向节点之间的位置，将为零。</p>
</dd><dt id="model.ResolvedPos.nodeAfter">
  <code><strong><a href="#model.ResolvedPos.nodeAfter">nodeAfter</a></strong>: <a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Get the node directly after the position, if any. If the position points into a text node, only the part of that node after the position is returned.">获取紧接在该位置之后的节点（如果有）。如果该位置指向一个文本节点，则仅返回该节点中位于该位置之后的部分。</p>
</dd><dt id="model.ResolvedPos.nodeBefore">
  <code><strong><a href="#model.ResolvedPos.nodeBefore">nodeBefore</a></strong>: <a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Get the node directly before the position, if any. If the position points into a text node, only the part of that node before the position is returned.">获取该位置之前的节点（如果有）。如果该位置指向一个文本节点，则仅返回该节点在该位置之前的部分。</p>
</dd><dt id="model.ResolvedPos.posAtIndex">
  <code><strong><a href="#model.ResolvedPos.posAtIndex">posAtIndex</a></strong>(<a id="model.ResolvedPos.posAtIndex^index" href="#model.ResolvedPos.posAtIndex^index"><span class="param">index</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="model.ResolvedPos.posAtIndex^depth" href="#model.ResolvedPos.posAtIndex^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="Get the position at the given index in the parent node at the given depth (which defaults to this.depth).">在给定深度（默认为<code>this.depth</code>）的父节点中获取给定索引的位置。</p>
</dd><dt id="model.ResolvedPos.marks">
  <code><strong><a href="#model.ResolvedPos.marks">marks</a></strong>() →&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="Get the marks at this position, factoring in the surrounding marks' inclusive property. If the position is at the start of a non-empty node, the marks of the node after it (if any) are returned.">获取此位置的标记，同时考虑周围标记的<a href="#model.MarkSpec.inclusive"><code>inclusive</code></a>属性。如果位置位于非空节点的开头，则返回其后的节点（如果有）的标记。</p>
</dd><dt id="model.ResolvedPos.marksAcross">
  <code><strong><a href="#model.ResolvedPos.marksAcross">marksAcross</a></strong>(<a id="model.ResolvedPos.marksAcross^$end" href="#model.ResolvedPos.marksAcross^$end"><span class="param">$end</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) →&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Get the marks after the current position, if any, except those that are non-inclusive and not present at position $end. This is mostly useful for getting the set of marks to preserve after a deletion. Will return null if this position is at the end of its parent node or its parent node isn't a textblock (in which case no marks should be preserved).">获取当前位置之后的标记（如果有），但不包括那些非包含性且不在位置<code>$end</code>的标记。这主要用于在删除后获取要保留的标记集。如果此位置位于其父节点的末尾或其父节点不是文本块（在这种情况下不应保留任何标记），将返回<code>null</code>。</p>
</dd><dt id="model.ResolvedPos.sharedDepth">
  <code><strong><a href="#model.ResolvedPos.sharedDepth">sharedDepth</a></strong>(<a id="model.ResolvedPos.sharedDepth^pos" href="#model.ResolvedPos.sharedDepth^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The depth up to which this position and the given (non-resolved) position share the same parent nodes.">这个位置和给定的（未解析的）位置共享相同父节点的深度。</p>
</dd><dt id="model.ResolvedPos.blockRange">
  <code><strong><a href="#model.ResolvedPos.blockRange">blockRange</a></strong>(<div class="breaktype"><a id="model.ResolvedPos.blockRange^other" href="#model.ResolvedPos.blockRange^other"><span class="param">other</span></a>⁠?:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a><span class="defaultvalue"> = this</span>, </div><div class="breaktype"><a id="model.ResolvedPos.blockRange^pred" href="#model.ResolvedPos.blockRange^pred"><span class="param">pred</span></a>⁠?:&nbsp;<span class="fn">fn</span>(<a id="model.ResolvedPos.blockRange^pred^node" href="#model.ResolvedPos.blockRange^pred^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></div>) →&nbsp;<a href="#model.NodeRange"><span class="type">NodeRange</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Returns a range based on the place where this position and the given position diverge around block content. If both point into the same textblock, for example, a range around that textblock will be returned. If they point into different blocks, the range around those blocks in their shared ancestor is returned. You can pass in an optional predicate that will be called with a parent node to see if a range into that parent is acceptable.">返回一个基于此位置和给定位置在块内容周围分歧的地方的范围。例如，如果两者都指向同一个文本块，则会返回该文本块周围的范围。如果它们指向不同的块，则返回它们共享祖先中的那些块周围的范围。您可以传入一个可选的谓词，该谓词将与父节点一起调用，以查看进入该父节点的范围是否可接受。</p>
</dd><dt id="model.ResolvedPos.sameParent">
  <code><strong><a href="#model.ResolvedPos.sameParent">sameParent</a></strong>(<a id="model.ResolvedPos.sameParent^other" href="#model.ResolvedPos.sameParent^other"><span class="param">other</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Query whether the given position shares the same parent node.">查询给定位置是否共享相同的父节点。</p>
</dd><dt id="model.ResolvedPos.max">
  <code><strong><a href="#model.ResolvedPos.max">max</a></strong>(<a id="model.ResolvedPos.max^other" href="#model.ResolvedPos.max^other"><span class="param">other</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) →&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="Return the greater of this and the given position.">返回此位置和给定位置中较大的一个。</p>
</dd><dt id="model.ResolvedPos.min">
  <code><strong><a href="#model.ResolvedPos.min">min</a></strong>(<a id="model.ResolvedPos.min^other" href="#model.ResolvedPos.min^other"><span class="param">other</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>) →&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="Return the smaller of this and the given position.">返回此位置和给定位置中较小的一个。</p>
</dd></dl>

</dd>
<dt id="model.NodeRange">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.NodeRange">NodeRange</a></h4>
</dt>

<dd><p data-x-en="Represents a flat range of content, i.e. one that starts and ends in the same node.">表示一个平坦的内容范围，即在同一个节点中开始和结束。</p>
<dl><dt id="model.NodeRange.constructor">
  <code><span class="keyword">new</span> <strong><a href="#model.NodeRange.constructor">NodeRange</a></strong>(<div class="breaktype"><a id="model.NodeRange.constructor^$from" href="#model.NodeRange.constructor^$from"><span class="param">$from</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="model.NodeRange.constructor^$to" href="#model.NodeRange.constructor^$to"><span class="param">$to</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>, </div><div class="breaktype"><a id="model.NodeRange.constructor^depth" href="#model.NodeRange.constructor^depth"><span class="param">depth</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></div>)</code></dt>

<dd><p data-x-en="Construct a node range. $from and $to should point into the same node until at least the given depth, since a node range denotes an adjacent set of nodes in a single parent node.">构建一个节点范围。<code>$from</code>和<code>$to</code>应该指向相同的节点，直到至少给定的<code>depth</code>，因为节点范围表示单个父节点中的相邻节点集。</p>
</dd><dt id="model.NodeRange.$from">
  <code><strong><a href="#model.NodeRange.$from">$from</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="A resolved position along the start of the content. May have a depth greater than this object's depth property, since these are the positions that were used to compute the range, not re-resolved positions directly at its boundaries.">在内容开始处的一个已解析位置。可能具有比此对象的<code>depth</code>属性更大的<code>depth</code>，因为这些是用于计算范围的位置，而不是直接在其边界处重新解析的位置。</p>
</dd><dt id="model.NodeRange.$to">
  <code><strong><a href="#model.NodeRange.$to">$to</a></strong>: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="A position along the end of the content. See caveat for $from.">内容末尾的一个位置。请参阅<a href="#model.NodeRange.$from"><code>$from</code></a>的警告。</p>
</dd><dt id="model.NodeRange.depth">
  <code><strong><a href="#model.NodeRange.depth">depth</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The depth of the node that this range points into.">该范围指向的节点深度。</p>
</dd><dt id="model.NodeRange.start">
  <code><strong><a href="#model.NodeRange.start">start</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The position at the start of the range.">范围起始位置。</p>
</dd><dt id="model.NodeRange.end">
  <code><strong><a href="#model.NodeRange.end">end</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The position at the end of the range.">范围末端的位置。</p>
</dd><dt id="model.NodeRange.parent">
  <code><strong><a href="#model.NodeRange.parent">parent</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="The parent node that the range points into.">范围指向的父节点。</p>
</dd><dt id="model.NodeRange.startIndex">
  <code><strong><a href="#model.NodeRange.startIndex">startIndex</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The start index of the range in the parent node.">父节点中范围的起始索引。</p>
</dd><dt id="model.NodeRange.endIndex">
  <code><strong><a href="#model.NodeRange.endIndex">endIndex</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The end index of the range in the parent node.">父节点中范围的结束索引。</p>
</dd></dl>

</dd>
</dl>
<h3 id="model.Document_Schema"><a href="#model.Document_Schema">Document Schema</a></h3>
<p data-x-en="Every ProseMirror document conforms to a schema, which describes the set of nodes and marks that it is made out of, along with the relations between those, such as which node may occur as a child node of which other nodes.">每个ProseMirror文档都符合一个<a href="/docs/guide/#schema">模式</a>，该模式描述了构成文档的节点和标记的集合，以及它们之间的关系，例如哪个节点可以作为哪个其他节点的子节点出现。</p>
<dl>
<dt id="model.Schema">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.Schema">Schema</a><code>&lt;<a id="model.Schema^Nodes" href="#model.Schema^Nodes">Nodes</a> <span class="keyword">extends</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> = any, <a id="model.Schema^Marks" href="#model.Schema^Marks">Marks</a> <span class="keyword">extends</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> = any&gt;</code></h4>
</dt>

<dd><p data-x-en="A document schema. Holds node and mark type objects for the nodes and marks that may occur in conforming documents, and provides functionality for creating and deserializing such documents.">文档模式。包含<a href="#model.NodeType">节点</a>和<a href="#model.MarkType">标记类型</a>对象，用于可能出现在符合文档中的节点和标记，并提供创建和反序列化此类文档的功能。</p>
<p data-x-en="When given, the type parameters provide the names of the nodes and marks in this schema.">当给定时，类型参数提供此架构中节点和标记的名称。</p>
<dl><dt id="model.Schema.constructor">
  <code><span class="keyword">new</span> <strong><a href="#model.Schema.constructor">Schema</a></strong>(<a id="model.Schema.constructor^spec" href="#model.Schema.constructor^spec"><span class="param">spec</span></a>:&nbsp;<a href="#model.SchemaSpec"><span class="type">SchemaSpec</span></a>&lt;<a href="#model.Schema^Nodes"><span class="type">Nodes</span></a>, <a href="#model.Schema^Marks"><span class="type">Marks</span></a>&gt;)</code></dt>

<dd><p data-x-en="Construct a schema from a schema specification.">从模式<a href="#model.SchemaSpec">规范</a>构建模式。</p>
</dd><dt id="model.Schema.spec">
  <code><strong><a href="#model.Schema.spec">spec</a></strong>: {<div class="breaktype"><span class="prop">nodes</span>:&nbsp;<a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.NodeSpec"><span class="type">NodeSpec</span></a>&gt;, </div><div class="breaktype"><span class="prop">marks</span>:&nbsp;<a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.MarkSpec"><span class="type">MarkSpec</span></a>&gt;, </div><div class="breaktype"><span class="prop">topNode</span>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></div>}</code></dt>

<dd><p data-x-en="The spec on which the schema is based, with the added guarantee that its nodes and marks properties are OrderedMap instances (not raw objects)."><a href="#model.SchemaSpec">规范</a>，其架构基于此规范，并且保证其<code>nodes</code>和<code>marks</code>属性是<a href="https://github.com/marijnh/orderedmap"><code>OrderedMap</code></a>实例（不是原始对象）。</p>
</dd><dt id="model.Schema.nodes">
  <code><strong><a href="#model.Schema.nodes">nodes</a></strong>: {[<a id="model.Schema.nodes^name" href="#model.Schema.nodes^name">name</a>&nbsp;in&nbsp;<a href="#model.Schema^Nodes"><span class="type">Nodes</span></a>]:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>} &amp; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.NodeType"><span class="type">NodeType</span></a>&gt;</code></dt>

<dd><p data-x-en="An object mapping the schema's node names to node type objects.">将架构的节点名称映射到节点类型对象的对象。</p>
</dd><dt id="model.Schema.marks">
  <code><strong><a href="#model.Schema.marks">marks</a></strong>: {[<a id="model.Schema.marks^name" href="#model.Schema.marks^name">name</a>&nbsp;in&nbsp;<a href="#model.Schema^Marks"><span class="type">Marks</span></a>]:&nbsp;<a href="#model.MarkType"><span class="type">MarkType</span></a>} &amp; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.MarkType"><span class="type">MarkType</span></a>&gt;</code></dt>

<dd><p data-x-en="A map from mark names to mark type objects.">从标记名称到标记类型对象的映射。</p>
</dd><dt id="model.Schema.linebreakReplacement">
  <code><strong><a href="#model.Schema.linebreakReplacement">linebreakReplacement</a></strong>: <a href="#model.NodeType"><span class="type">NodeType</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="The linebreak replacement node defined in this schema, if any."><a href="#model.NodeSpec.linebreakReplacement">换行符替换</a>节点在此模式中定义（如果有）。</p>
</dd><dt id="model.Schema.topNodeType">
  <code><strong><a href="#model.Schema.topNodeType">topNodeType</a></strong>: <a href="#model.NodeType"><span class="type">NodeType</span></a></code></dt>

<dd><p data-x-en="The type of the default top node for this schema.">该模式的<a href="#model.SchemaSpec.topNode">默认顶级节点</a>类型。</p>
</dd><dt id="model.Schema.cached">
  <code><strong><a href="#model.Schema.cached">cached</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<span class="type">any</span>&gt;</code></dt>

<dd><p data-x-en="An object for storing whatever values modules may want to compute and cache per schema. (If you want to store something in it, try to use property names unlikely to clash.)">一个用于存储模块可能希望计算和缓存每个模式的任何值的对象。（如果你想在其中存储某些内容，请尽量使用不太可能冲突的属性名称。）</p>
</dd><dt id="model.Schema.node">
  <code><strong><a href="#model.Schema.node">node</a></strong>(<div class="breaktype"><a id="model.Schema.node^type" href="#model.Schema.node^type"><span class="param">type</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="model.Schema.node^attrs" href="#model.Schema.node^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span>, </div><div class="breaktype"><a id="model.Schema.node^content" href="#model.Schema.node^content"><span class="param">content</span></a>⁠?:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | <span class="keyword">readonly</span>&nbsp;<a href="#model.Node"><span class="type">Node</span></a>[], </div><div class="breaktype"><a id="model.Schema.node^marks" href="#model.Schema.node^marks"><span class="param">marks</span></a>⁠?:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</div>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Create a node in this schema. The type may be a string or a NodeType instance. Attributes will be extended with defaults, content may be a Fragment, null, a Node, or an array of nodes.">在此模式中创建一个节点。<code>type</code>可以是一个字符串或一个<code>NodeType</code>实例。属性将与默认值一起扩展，<code>content</code>可以是一个<code>Fragment</code>、<code>null</code>、一个<code>Node</code>或一个节点数组。</p>
</dd><dt id="model.Schema.text">
  <code><strong><a href="#model.Schema.text">text</a></strong>(<a id="model.Schema.text^text" href="#model.Schema.text^text"><span class="param">text</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <a id="model.Schema.text^marks" href="#model.Schema.text^marks"><span class="param">marks</span></a>⁠?:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Create a text node in the schema. Empty text nodes are not allowed.">在架构中创建一个文本节点。不允许空文本节点。</p>
</dd><dt id="model.Schema.mark">
  <code><strong><a href="#model.Schema.mark">mark</a></strong>(<a id="model.Schema.mark^type" href="#model.Schema.mark^type"><span class="param">type</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="#model.MarkType"><span class="type">MarkType</span></a>, <a id="model.Schema.mark^attrs" href="#model.Schema.mark^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a>) →&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p data-x-en="Create a mark with the given type and attributes.">创建具有给定类型和属性的标记。</p>
</dd><dt id="model.Schema.nodeFromJSON">
  <code><strong><a href="#model.Schema.nodeFromJSON">nodeFromJSON</a></strong>(<a id="model.Schema.nodeFromJSON^json" href="#model.Schema.nodeFromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Deserialize a node from its JSON representation. This method is bound.">将节点从其JSON表示中反序列化。此方法是绑定的。</p>
</dd><dt id="model.Schema.markFromJSON">
  <code><strong><a href="#model.Schema.markFromJSON">markFromJSON</a></strong>(<a id="model.Schema.markFromJSON^json" href="#model.Schema.markFromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p data-x-en="Deserialize a mark from its JSON representation. This method is bound.">从其 JSON 表示中反序列化标记。此方法是绑定的。</p>
</dd></dl>

</dd>
<dt id="model.SchemaSpec">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#model.SchemaSpec">SchemaSpec</a><code>&lt;<a id="model.SchemaSpec^Nodes" href="#model.SchemaSpec^Nodes">Nodes</a> <span class="keyword">extends</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> = any, <a id="model.SchemaSpec^Marks" href="#model.SchemaSpec^Marks">Marks</a> <span class="keyword">extends</span> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> = any&gt;</code></h4>
</dt>

<dd><p data-x-en="An object describing a schema, as passed to the Schema constructor.">一个描述模式的对象，传递给<a href="#model.Schema"><code>Schema</code></a>构造函数。</p>
<dl><dt id="model.SchemaSpec.nodes">
  <code><strong><a href="#model.SchemaSpec.nodes">nodes</a></strong>: {[<a id="model.SchemaSpec.nodes^name" href="#model.SchemaSpec.nodes^name">name</a>&nbsp;in&nbsp;<a href="#model.SchemaSpec^Nodes"><span class="type">Nodes</span></a>]:&nbsp;<a href="#model.NodeSpec"><span class="type">NodeSpec</span></a>} | <a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.NodeSpec"><span class="type">NodeSpec</span></a>&gt;</code></dt>

<dd><p data-x-en="The node types in this schema. Maps names to NodeSpec objects that describe the node type associated with that name. Their order is significant—it determines which parse rules take precedence by default, and which nodes come first in a given group.">此模式中的节点类型。将名称映射到<a href="#model.NodeSpec"><code>NodeSpec</code></a>对象，这些对象描述与该名称关联的节点类型。它们的顺序很重要——它决定了哪些<a href="#model.NodeSpec.parseDOM">解析规则</a>默认优先，以及在给定<a href="#model.NodeSpec.group">组</a>中哪些节点优先。</p>
</dd><dt id="model.SchemaSpec.marks">
  <code><strong><a href="#model.SchemaSpec.marks">marks</a></strong>⁠?: {[<a id="model.SchemaSpec.marks^name" href="#model.SchemaSpec.marks^name">name</a>&nbsp;in&nbsp;<a href="#model.SchemaSpec^Marks"><span class="type">Marks</span></a>]:&nbsp;<a href="#model.MarkSpec"><span class="type">MarkSpec</span></a>} | <a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.MarkSpec"><span class="type">MarkSpec</span></a>&gt;</code></dt>

<dd><p data-x-en="The mark types that exist in this schema. The order in which they are provided determines the order in which mark sets are sorted and in which parse rules are tried.">该模式中存在的标记类型。它们提供的顺序决定了<a href="#model.Mark.addToSet">标记集</a>的排序顺序以及<a href="#model.MarkSpec.parseDOM">解析规则</a>的尝试顺序。</p>
</dd><dt id="model.SchemaSpec.topNode">
  <code><strong><a href="#model.SchemaSpec.topNode">topNode</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The name of the default top-level node for the schema. Defaults to &quot;doc&quot;.">默认顶级节点的名称。默认为<code>"doc"</code>。</p>
</dd></dl>

</dd>
<dt id="model.NodeSpec">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#model.NodeSpec">NodeSpec</a></h4>
</dt>

<dd><p data-x-en="A description of a node type, used when defining a schema.">节点类型的描述，用于定义模式时。</p>
<dl><dt id="model.NodeSpec.content">
  <code><strong><a href="#model.NodeSpec.content">content</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The content expression for this node, as described in the schema guide. When not given, the node does not allow any content.">该节点的内容表达式，如<a href="/docs/guide/#schema.content_expressions">模式指南</a>中所述。如果未给出，则该节点不允许任何内容。</p>
</dd><dt id="model.NodeSpec.marks">
  <code><strong><a href="#model.NodeSpec.marks">marks</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The marks that are allowed inside of this node. May be a space-separated string referring to mark names or groups, &quot;_&quot; to explicitly allow all marks, or &quot;&quot; to disallow marks. When not given, nodes with inline content default to allowing all marks, other nodes default to not allowing marks.">该节点内允许的标记。可以是一个以空格分隔的字符串，指代标记名称或组，<code>"_"</code> 明确允许所有标记，或 <code>""</code> 禁止标记。如果未指定，具有内联内容的节点默认允许所有标记，其他节点默认不允许标记。</p>
</dd><dt id="model.NodeSpec.group">
  <code><strong><a href="#model.NodeSpec.group">group</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The group or space-separated groups to which this node belongs, which can be referred to in the content expressions for the schema.">该节点所属的组或以空格分隔的组，可以在模式的内容表达式中引用。</p>
</dd><dt id="model.NodeSpec.inline">
  <code><strong><a href="#model.NodeSpec.inline">inline</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Should be set to true for inline nodes. (Implied for text nodes.)">对于内联节点应设置为 true。（对于文本节点则隐含为 true。）</p>
</dd><dt id="model.NodeSpec.atom">
  <code><strong><a href="#model.NodeSpec.atom">atom</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Can be set to true to indicate that, though this isn't a leaf node, it doesn't have directly editable content and should be treated as a single unit in the view.">可以设置为 true 以指示，尽管这不是一个 <a href="#model.NodeType.isLeaf">叶节点</a>，它没有直接可编辑的内容，并且在视图中应被视为一个单一单元。</p>
</dd><dt id="model.NodeSpec.attrs">
  <code><strong><a href="#model.NodeSpec.attrs">attrs</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.AttributeSpec"><span class="type">AttributeSpec</span></a>&gt;</code></dt>

<dd><p data-x-en="The attributes that nodes of this type get.">此类型节点获得的属性。</p>
</dd><dt id="model.NodeSpec.selectable">
  <code><strong><a href="#model.NodeSpec.selectable">selectable</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Controls whether nodes of this type can be selected as a node selection. Defaults to true for non-text nodes.">控制是否可以将此类型的节点选择为<a href="#state.NodeSelection">节点选择</a>。默认情况下，非文本节点为true。</p>
</dd><dt id="model.NodeSpec.draggable">
  <code><strong><a href="#model.NodeSpec.draggable">draggable</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Determines whether nodes of this type can be dragged without being selected. Defaults to false.">确定是否可以在未选择节点的情况下拖动此类型的节点。默认值为 false。</p>
</dd><dt id="model.NodeSpec.code">
  <code><strong><a href="#model.NodeSpec.code">code</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Can be used to indicate that this node contains code, which causes some commands to behave differently.">可用于指示此节点包含代码，这会导致某些命令的行为有所不同。</p>
</dd><dt id="model.NodeSpec.whitespace">
  <code><strong><a href="#model.NodeSpec.whitespace">whitespace</a></strong>⁠?: <span class="string">"pre"</span> | <span class="string">"normal"</span></code></dt>

<dd><p data-x-en="Controls way whitespace in this a node is parsed. The default is &quot;normal&quot;, which causes the DOM parser to collapse whitespace in normal mode, and normalize it (replacing newlines and such with spaces) otherwise. &quot;pre&quot; causes the parser to preserve spaces inside the node. When this option isn't given, but code is true, whitespace will default to &quot;pre&quot;. Note that this option doesn't influence the way the node is rendered—that should be handled by toDOM and/or styling.">控制此节点中的空白符解析方式。默认值是<code>"normal"</code>，这会导致<a href="#model.DOMParser">DOM 解析器</a>在正常模式下折叠空白符，并在其他情况下将其规范化（用空格替换换行符等）。<code>"pre"</code>会使解析器保留节点内的空白符。当未提供此选项但<a href="#model.NodeSpec.code"><code>code</code></a>为 true 时，<code>whitespace</code>将默认为<code>"pre"</code>。请注意，此选项不会影响节点的渲染方式——这应由<code>toDOM</code>和/或样式处理。</p>
</dd><dt id="model.NodeSpec.definingAsContext">
  <code><strong><a href="#model.NodeSpec.definingAsContext">definingAsContext</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Determines whether this node is considered an important parent node during replace operations (such as paste). Non-defining (the default) nodes get dropped when their entire content is replaced, whereas defining nodes persist and wrap the inserted content.">确定在替换操作（例如粘贴）期间此节点是否被视为重要的父节点。非定义（默认）节点在其全部内容被替换时会被删除，而定义节点则会保留并包裹插入的内容。</p>
</dd><dt id="model.NodeSpec.definingForContent">
  <code><strong><a href="#model.NodeSpec.definingForContent">definingForContent</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="In inserted content the defining parents of the content are preserved when possible. Typically, non-default-paragraph textblock types, and possibly list items, are marked as defining.">在插入的内容中，内容的定义父级在可能的情况下会被保留。通常，非默认段落文本块类型，可能还有列表项，会被标记为定义。</p>
</dd><dt id="model.NodeSpec.defining">
  <code><strong><a href="#model.NodeSpec.defining">defining</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When enabled, enables both definingAsContext and definingForContent.">启用后，启用
<a href="#model.NodeSpec.definingAsContext"><code>definingAsContext</code></a> 和
<a href="#model.NodeSpec.definingForContent"><code>definingForContent</code></a>。</p>
</dd><dt id="model.NodeSpec.isolating">
  <code><strong><a href="#model.NodeSpec.isolating">isolating</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When enabled (default is false), the sides of nodes of this type count as boundaries that regular editing operations, like backspacing or lifting, won't cross. An example of a node that should probably have this enabled is a table cell.">启用时（默认值为 false），此类型节点的边缘将被视为常规编辑操作（如退格或提升）不会跨越的边界。一个可能需要启用此功能的节点示例是表格单元格。</p>
</dd><dt id="model.NodeSpec.toDOM">
  <code><strong><a href="#model.NodeSpec.toDOM">toDOM</a></strong>⁠?: <span class="fn">fn</span>(<a id="model.NodeSpec.toDOM^node" href="#model.NodeSpec.toDOM^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a></code></dt>

<dd><p data-x-en="Defines the default way a node of this type should be serialized to DOM/HTML (as used by DOMSerializer.fromSchema). Should return a DOM node or an array structure that describes one, with an optional number zero (“hole”) in it to indicate where the node's content should be inserted.">定义此类型节点序列化为DOM/HTML的默认方式（由<a href="#model.DOMSerializer%5EfromSchema"><code>DOMSerializer.fromSchema</code></a>使用）。应返回一个DOM节点或描述一个节点的<a href="#model.DOMOutputSpec">数组结构</a>，其中可以包含一个可选的数字零（“孔”），以指示节点内容应插入的位置。</p>
<p data-x-en="For text nodes, the default is to create a text DOM node. Though it is possible to create a serializer where text is rendered differently, this is not supported inside the editor, so you shouldn't override that in your text node spec.">对于文本节点，默认是创建一个文本 DOM 节点。虽然可以创建一个以不同方式呈现文本的序列化器，但在编辑器内部不支持，因此不应在文本节点规范中覆盖这一点。</p>
</dd><dt id="model.NodeSpec.parseDOM">
  <code><strong><a href="#model.NodeSpec.parseDOM">parseDOM</a></strong>⁠?: <span class="keyword">readonly</span>&nbsp;<a href="#model.TagParseRule"><span class="type">TagParseRule</span></a>[]</code></dt>

<dd><p data-x-en="Associates DOM parser information with this node, which can be used by DOMParser.fromSchema to automatically derive a parser. The node field in the rules is implied (the name of this node will be filled in automatically). If you supply your own parser, you do not need to also specify parsing rules in your schema.">将 DOM 解析器信息与此节点关联，<a href="#model.DOMParser%5EfromSchema"><code>DOMParser.fromSchema</code></a> 可以用来自动派生解析器。规则中的 <code>node</code> 字段是隐含的（此节点的名称将自动填写）。如果您提供自己的解析器，则无需在架构中指定解析规则。</p>
</dd><dt id="model.NodeSpec.toDebugString">
  <code><strong><a href="#model.NodeSpec.toDebugString">toDebugString</a></strong>⁠?: <span class="fn">fn</span>(<a id="model.NodeSpec.toDebugString^node" href="#model.NodeSpec.toDebugString^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Defines the default way a node of this type should be serialized to a string representation for debugging (e.g. in error messages).">定义此类型节点序列化为字符串表示以进行调试（例如，在错误消息中）的默认方式。</p>
</dd><dt id="model.NodeSpec.leafText">
  <code><strong><a href="#model.NodeSpec.leafText">leafText</a></strong>⁠?: <span class="fn">fn</span>(<a id="model.NodeSpec.leafText^node" href="#model.NodeSpec.leafText^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Defines the default way a leaf node of this type should be serialized to a string (as used by Node.textBetween and Node.textContent).">定义了这种类型的<a href="#model.NodeType.isLeaf">叶节点</a>序列化为字符串的默认方式（由<a href="#model.Node%5EtextBetween"><code>Node.textBetween</code></a>和<a href="#model.Node%5EtextContent"><code>Node.textContent</code></a>使用）。</p>
</dd><dt id="model.NodeSpec.linebreakReplacement">
  <code><strong><a href="#model.NodeSpec.linebreakReplacement">linebreakReplacement</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="A single inline node in a schema can be set to be a linebreak equivalent. When converting between block types that support the node and block types that don't but have whitespace set to &quot;pre&quot;, setBlockType will convert between newline characters to or from linebreak nodes as appropriate.">在模式中，单个内联节点可以设置为换行符等效项。在支持该节点的块类型和不支持但具有<a href="#model.NodeSpec.whitespace"><code>whitespace</code></a>设置为<code>"pre"</code>的块类型之间进行转换时，<a href="#transform.Transform.setBlockType"><code>setBlockType</code></a>将适当地在换行符和换行节点之间进行转换。</p>
</dd><dt id="model.NodeSpec^string">
  <code><strong><a href="#model.NodeSpec^string">[string]</a></strong>: <span class="type">any</span></code></dt>

<dd><p data-x-en="Node specs may include arbitrary properties that can be read by other code via NodeType.spec.">节点规格可能包括任意属性，这些属性可以通过<a href="#model.NodeType.spec"><code>NodeType.spec</code></a>被其他代码读取。</p>
</dd></dl>

</dd>
<dt id="model.MarkSpec">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#model.MarkSpec">MarkSpec</a></h4>
</dt>

<dd><p data-x-en="Used to define marks when creating a schema.">用于在创建模式时定义标记。</p>
<dl><dt id="model.MarkSpec.attrs">
  <code><strong><a href="#model.MarkSpec.attrs">attrs</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#model.AttributeSpec"><span class="type">AttributeSpec</span></a>&gt;</code></dt>

<dd><p data-x-en="The attributes that marks of this type get.">这些类型的标记所获得的属性。</p>
</dd><dt id="model.MarkSpec.inclusive">
  <code><strong><a href="#model.MarkSpec.inclusive">inclusive</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Whether this mark should be active when the cursor is positioned at its end (or at its start when that is also the start of the parent node). Defaults to true.">无论光标位于标记的末尾时（或位于标记的开头且该开头也是父节点的开头时）该标记是否应处于活动状态。默认值为 true。</p>
</dd><dt id="model.MarkSpec.excludes">
  <code><strong><a href="#model.MarkSpec.excludes">excludes</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="Determines which other marks this mark can coexist with. Should be a space-separated strings naming other marks or groups of marks. When a mark is added to a set, all marks that it excludes are removed in the process. If the set contains any mark that excludes the new mark but is not, itself, excluded by the new mark, the mark can not be added an the set. You can use the value &quot;_&quot; to indicate that the mark excludes all marks in the schema.">确定此标记可以与哪些其他标记共存。应为以空格分隔的字符串，命名其他标记或标记组。当一个标记被<a href="#model.Mark.addToSet">添加</a>到一个集合时，所有被它排除的标记都会在此过程中被移除。如果集合中包含任何排除新标记但本身不被新标记排除的标记，则无法将该标记添加到集合中。您可以使用值<code>"_"</code>来表示该标记排除模式中的所有标记。</p>
<p data-x-en="Defaults to only being exclusive with marks of the same type. You can set it to an empty string (or any string not containing the mark's own name) to allow multiple marks of a given type to coexist (as long as they have different attributes).">默认为仅与相同类型的标记排他。您可以将其设置为空字符串（或任何不包含标记自身名称的字符串）以允许多个给定类型的标记共存（只要它们具有不同的属性）。</p>
</dd><dt id="model.MarkSpec.group">
  <code><strong><a href="#model.MarkSpec.group">group</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The group or space-separated groups to which this mark belongs.">该标记所属的组或以空格分隔的组。</p>
</dd><dt id="model.MarkSpec.spanning">
  <code><strong><a href="#model.MarkSpec.spanning">spanning</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Determines whether marks of this type can span multiple adjacent nodes when serialized to DOM/HTML. Defaults to true.">确定此类型的标记在序列化为DOM/HTML时是否可以跨越多个相邻节点。默认为true。</p>
</dd><dt id="model.MarkSpec.toDOM">
  <code><strong><a href="#model.MarkSpec.toDOM">toDOM</a></strong>⁠?: <span class="fn">fn</span>(<a id="model.MarkSpec.toDOM^mark" href="#model.MarkSpec.toDOM^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>, <a id="model.MarkSpec.toDOM^inline" href="#model.MarkSpec.toDOM^inline"><span class="param">inline</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a>) →&nbsp;<a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a></code></dt>

<dd><p data-x-en="Defines the default way marks of this type should be serialized to DOM/HTML. When the resulting spec contains a hole, that is where the marked content is placed. Otherwise, it is appended to the top node.">定义此类型标记应序列化为DOM/HTML的默认方式。当生成的规范包含一个空洞时，标记的内容将放置在该处。否则，它将附加到顶级节点。</p>
</dd><dt id="model.MarkSpec.parseDOM">
  <code><strong><a href="#model.MarkSpec.parseDOM">parseDOM</a></strong>⁠?: <span class="keyword">readonly</span>&nbsp;<a href="#model.ParseRule"><span class="type">ParseRule</span></a>[]</code></dt>

<dd><p data-x-en="Associates DOM parser information with this mark (see the corresponding node spec field). The mark field in the rules is implied.">将DOM解析器信息与此标记关联（请参阅相应的<a href="#model.NodeSpec.parseDOM">节点规范字段</a>）。规则中的<code>mark</code>字段是隐含的。</p>
</dd><dt id="model.MarkSpec^string">
  <code><strong><a href="#model.MarkSpec^string">[string]</a></strong>: <span class="type">any</span></code></dt>

<dd><p data-x-en="Mark specs can include additional properties that can be inspected through MarkType.spec when working with the mark.">Mark 规格可以包括其他属性，这些属性可以在使用标记时通过 <a href="#model.MarkType.spec"><code>MarkType.spec</code></a> 进行检查。</p>
</dd></dl>

</dd>
<dt id="model.AttributeSpec">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#model.AttributeSpec">AttributeSpec</a></h4>
</dt>

<dd><p data-x-en="Used to define attributes on nodes or marks.">用于<a href="#model.NodeSpec.attrs">定义</a>节点或标记上的属性。</p>
<dl><dt id="model.AttributeSpec.default">
  <code><strong><a href="#model.AttributeSpec.default">default</a></strong>⁠?: <span class="type">any</span></code></dt>

<dd><p data-x-en="The default value for this attribute, to use when no explicit value is provided. Attributes that have no default must be provided whenever a node or mark of a type that has them is created.">此属性的默认值，当未提供明确值时使用。没有默认值的属性必须在创建具有这些属性的节点或标记时提供。</p>
</dd><dt id="model.AttributeSpec.validate">
  <code><strong><a href="#model.AttributeSpec.validate">validate</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <span class="fn">fn</span>(<a id="model.AttributeSpec.validate^value" href="#model.AttributeSpec.validate^value"><span class="param">value</span></a>:&nbsp;<span class="type">any</span>)</code></dt>

<dd><p data-x-en="A function or type name used to validate values of this attribute. This will be used when deserializing the attribute from JSON, and when running Node.check. When a function, it should raise an exception if the value isn't of the expected type or shape. When a string, it should be a |-separated string of primitive types (&quot;number&quot;, &quot;string&quot;, &quot;boolean&quot;, &quot;null&quot;, and &quot;undefined&quot;), and the library will raise an error when the value is not one of those types.">用于验证此属性值的函数或类型名称。这将在从 JSON 反序列化属性时使用，并在运行 <a href="#model.Node.check"><code>Node.check</code></a> 时使用。当是一个函数时，如果值不是预期的类型或形状，则应引发异常。当是一个字符串时，它应该是一个由原始类型（<code>"number"</code>、<code>"string"</code>、<code>"boolean"</code>、<code>"null"</code> 和 <code>"undefined"</code>）组成的用 <code>|</code> 分隔的字符串，并且当值不是这些类型之一时，库将引发错误。</p>
</dd></dl>

</dd>
<dt id="model.NodeType">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.NodeType">NodeType</a></h4>
</dt>

<dd><p data-x-en="Node types are objects allocated once per Schema and used to tag Node instances. They contain information about the node type, such as its name and what kind of node it represents.">节点类型是每个<code>Schema</code>分配一次的对象，用于<a href="#model.Node.type">标记</a><code>Node</code>实例。它们包含有关节点类型的信息，例如其名称和它代表的节点类型。</p>
<dl><dt id="model.NodeType.name">
  <code><strong><a href="#model.NodeType.name">name</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The name the node type has in this schema.">该节点类型在此模式中的名称。</p>
</dd><dt id="model.NodeType.schema">
  <code><strong><a href="#model.NodeType.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p data-x-en="A link back to the Schema the node type belongs to.">指向节点类型所属的<code>Schema</code>的链接。</p>
</dd><dt id="model.NodeType.spec">
  <code><strong><a href="#model.NodeType.spec">spec</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="The spec that this type is based on">该类型基于的规范</p>
</dd><dt id="model.NodeType.inlineContent">
  <code><strong><a href="#model.NodeType.inlineContent">inlineContent</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True if this node type has inline content.">如果此节点类型具有内联内容，则为真。</p>
</dd><dt id="model.NodeType.isBlock">
  <code><strong><a href="#model.NodeType.isBlock">isBlock</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True if this is a block type">如果这是一个块类型，则为真</p>
</dd><dt id="model.NodeType.isText">
  <code><strong><a href="#model.NodeType.isText">isText</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True if this is the text node type.">如果这是文本节点类型，则为真。</p>
</dd><dt id="model.NodeType.isInline">
  <code><strong><a href="#model.NodeType.isInline">isInline</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True if this is an inline type.">如果这是内联类型，则为真。</p>
</dd><dt id="model.NodeType.isTextblock">
  <code><strong><a href="#model.NodeType.isTextblock">isTextblock</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True if this is a textblock type, a block that contains inline content.">如果这是一个文本块类型，一个包含内联内容的块，则为真。</p>
</dd><dt id="model.NodeType.isLeaf">
  <code><strong><a href="#model.NodeType.isLeaf">isLeaf</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True for node types that allow no content.">对不允许内容的节点类型为真。</p>
</dd><dt id="model.NodeType.isAtom">
  <code><strong><a href="#model.NodeType.isAtom">isAtom</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this node is an atom, i.e. when it does not have directly editable content.">当此节点是原子时为真，即当它没有直接可编辑的内容时。</p>
</dd><dt id="model.NodeType.isInGroup">
  <code><strong><a href="#model.NodeType.isInGroup">isInGroup</a></strong>(<a id="model.NodeType.isInGroup^group" href="#model.NodeType.isInGroup^group"><span class="param">group</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Return true when this node type is part of the given group.">当此节点类型是给定的<a href="#model.NodeSpec.group">组</a>的一部分时返回 true。</p>
</dd><dt id="model.NodeType.contentMatch">
  <code><strong><a href="#model.NodeType.contentMatch">contentMatch</a></strong>: <a href="#model.ContentMatch"><span class="type">ContentMatch</span></a></code></dt>

<dd><p data-x-en="The starting match of the node type's content expression.">节点类型内容表达式的起始匹配。</p>
</dd><dt id="model.NodeType.markSet">
  <code><strong><a href="#model.NodeType.markSet">markSet</a></strong>: <span class="keyword">readonly</span>&nbsp;<a href="#model.MarkType"><span class="type">MarkType</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="The set of marks allowed in this node. null means all marks are allowed.">该节点中允许的标记集。<code>null</code>表示允许所有标记。</p>
</dd><dt id="model.NodeType.whitespace">
  <code><strong><a href="#model.NodeType.whitespace">whitespace</a></strong>: <span class="string">"pre"</span> | <span class="string">"normal"</span></code></dt>

<dd><p data-x-en="The node type's whitespace option.">节点类型的<a href="#model.NodeSpec.whitespace">空白</a>选项。</p>
</dd><dt id="model.NodeType.hasRequiredAttrs">
  <code><strong><a href="#model.NodeType.hasRequiredAttrs">hasRequiredAttrs</a></strong>() →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Tells you whether this node type has any required attributes.">告诉你此节点类型是否有任何必需的属性。</p>
</dd><dt id="model.NodeType.compatibleContent">
  <code><strong><a href="#model.NodeType.compatibleContent">compatibleContent</a></strong>(<a id="model.NodeType.compatibleContent^other" href="#model.NodeType.compatibleContent^other"><span class="param">other</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Indicates whether this node allows some of the same content as the given node type.">指示此节点是否允许与给定节点类型相同的一些内容。</p>
</dd><dt id="model.NodeType.create">
  <code><strong><a href="#model.NodeType.create">create</a></strong>(<div class="breaktype"><a id="model.NodeType.create^attrs" href="#model.NodeType.create^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span>, </div><div class="breaktype"><a id="model.NodeType.create^content" href="#model.NodeType.create^content"><span class="param">content</span></a>⁠?:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | <span class="keyword">readonly</span>&nbsp;<a href="#model.Node"><span class="type">Node</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>, </div><div class="breaktype"><a id="model.NodeType.create^marks" href="#model.NodeType.create^marks"><span class="param">marks</span></a>⁠?:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</div>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Create a Node of this type. The given attributes are checked and defaulted (you can pass null to use the type's defaults entirely, if no required attributes exist). content may be a Fragment, a node, an array of nodes, or null. Similarly marks may be null to default to the empty set of marks.">创建此类型的<code>Node</code>。给定的属性会被检查并设置默认值（如果没有必需的属性存在，你可以传递<code>null</code>来完全使用该类型的默认值）。<code>content</code>可以是<code>Fragment</code>、一个节点、一组节点或<code>null</code>。同样地，<code>marks</code>可以是<code>null</code>，以默认为空的标记集。</p>
</dd><dt id="model.NodeType.createChecked">
  <code><strong><a href="#model.NodeType.createChecked">createChecked</a></strong>(<div class="breaktype"><a id="model.NodeType.createChecked^attrs" href="#model.NodeType.createChecked^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span>, </div><div class="breaktype"><a id="model.NodeType.createChecked^content" href="#model.NodeType.createChecked^content"><span class="param">content</span></a>⁠?:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | <span class="keyword">readonly</span>&nbsp;<a href="#model.Node"><span class="type">Node</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>, </div><div class="breaktype"><a id="model.NodeType.createChecked^marks" href="#model.NodeType.createChecked^marks"><span class="param">marks</span></a>⁠?:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</div>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Like create, but check the given content against the node type's content restrictions, and throw an error if it doesn't match.">像<a href="#model.NodeType.create"><code>create</code></a>，但检查给定内容是否符合节点类型的内容限制，如果不匹配则抛出错误。</p>
</dd><dt id="model.NodeType.createAndFill">
  <code><strong><a href="#model.NodeType.createAndFill">createAndFill</a></strong>(<div class="breaktype"><a id="model.NodeType.createAndFill^attrs" href="#model.NodeType.createAndFill^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span>, </div><div class="breaktype"><a id="model.NodeType.createAndFill^content" href="#model.NodeType.createAndFill^content"><span class="param">content</span></a>⁠?:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | <span class="keyword">readonly</span>&nbsp;<a href="#model.Node"><span class="type">Node</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>, </div><div class="breaktype"><a id="model.NodeType.createAndFill^marks" href="#model.NodeType.createAndFill^marks"><span class="param">marks</span></a>⁠?:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</div>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Like create, but see if it is necessary to add nodes to the start or end of the given fragment to make it fit the node. If no fitting wrapping can be found, return null. Note that, due to the fact that required nodes can always be created, this will always succeed if you pass null or Fragment.empty as content.">像 <a href="#model.NodeType.create"><code>create</code></a>，但看看是否有必要在给定片段的开头或结尾添加节点以使其适应节点。如果找不到合适的包装，则返回 null。请注意，由于所需的节点总是可以创建的，如果您传递 null 或 <code>Fragment.empty</code> 作为内容，这将始终成功。</p>
</dd><dt id="model.NodeType.validContent">
  <code><strong><a href="#model.NodeType.validContent">validContent</a></strong>(<a id="model.NodeType.validContent^content" href="#model.NodeType.validContent^content"><span class="param">content</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Returns true if the given fragment is valid content for this node type.">如果给定的片段是此节点类型的有效内容，则返回 true</p>
</dd><dt id="model.NodeType.allowsMarkType">
  <code><strong><a href="#model.NodeType.allowsMarkType">allowsMarkType</a></strong>(<a id="model.NodeType.allowsMarkType^markType" href="#model.NodeType.allowsMarkType^markType"><span class="param">markType</span></a>:&nbsp;<a href="#model.MarkType"><span class="type">MarkType</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Check whether the given mark type is allowed in this node.">检查此节点中是否允许给定的标记类型。</p>
</dd><dt id="model.NodeType.allowsMarks">
  <code><strong><a href="#model.NodeType.allowsMarks">allowsMarks</a></strong>(<a id="model.NodeType.allowsMarks^marks" href="#model.NodeType.allowsMarks^marks"><span class="param">marks</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether the given set of marks are allowed in this node.">测试此节点中是否允许给定的标记集。</p>
</dd><dt id="model.NodeType.allowedMarks">
  <code><strong><a href="#model.NodeType.allowedMarks">allowedMarks</a></strong>(<a id="model.NodeType.allowedMarks^marks" href="#model.NodeType.allowedMarks^marks"><span class="param">marks</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="Removes the marks that are not allowed in this node from the given set.">从给定的集合中删除此节点中不允许的标记。</p>
</dd></dl>

</dd>
<dt id="model.MarkType">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.MarkType">MarkType</a></h4>
</dt>

<dd><p data-x-en="Like nodes, marks (which are associated with nodes to signify things like emphasis or being part of a link) are tagged with type objects, which are instantiated once per Schema.">像节点一样，标记（与节点关联以表示强调或作为链接的一部分）用类型对象<a href="#model.Mark.type">标记</a>，每个<code>Schema</code>实例化一次。</p>
<dl><dt id="model.MarkType.name">
  <code><strong><a href="#model.MarkType.name">name</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The name of the mark type.">标记类型的名称。</p>
</dd><dt id="model.MarkType.schema">
  <code><strong><a href="#model.MarkType.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p data-x-en="The schema that this mark type instance is part of.">该标记类型实例所属的模式。</p>
</dd><dt id="model.MarkType.spec">
  <code><strong><a href="#model.MarkType.spec">spec</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p data-x-en="The spec on which the type is based.">类型所基于的规范。</p>
</dd><dt id="model.MarkType.create">
  <code><strong><a href="#model.MarkType.create">create</a></strong>(<a id="model.MarkType.create^attrs" href="#model.MarkType.create^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span>) →&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p data-x-en="Create a mark of this type. attrs may be null or an object containing only some of the mark's attributes. The others, if they have defaults, will be added.">创建此类型的标记。<code>attrs</code> 可以是 <code>null</code> 或仅包含部分标记属性的对象。其他属性（如果有默认值）将被添加。</p>
</dd><dt id="model.MarkType.removeFromSet">
  <code><strong><a href="#model.MarkType.removeFromSet">removeFromSet</a></strong>(<a id="model.MarkType.removeFromSet^set" href="#model.MarkType.removeFromSet^set"><span class="param">set</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</code></dt>

<dd><p data-x-en="When there is a mark of this type in the given set, a new set without it is returned. Otherwise, the input set is returned.">当给定集合中有这种类型的标记时，将返回一个没有它的新集合。否则，返回输入集合。</p>
</dd><dt id="model.MarkType.isInSet">
  <code><strong><a href="#model.MarkType.isInSet">isInSet</a></strong>(<a id="model.MarkType.isInSet^set" href="#model.MarkType.isInSet^set"><span class="param">set</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]) →&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Tests whether there is a mark of this type in the given set.">测试给定集合中是否存在此类型的标记。</p>
</dd><dt id="model.MarkType.excludes">
  <code><strong><a href="#model.MarkType.excludes">excludes</a></strong>(<a id="model.MarkType.excludes^other" href="#model.MarkType.excludes^other"><span class="param">other</span></a>:&nbsp;<a href="#model.MarkType"><span class="type">MarkType</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Queries whether a given mark type is excluded by this one.">查询给定的标记类型是否被此标记类型<a href="#model.MarkSpec.excludes">排除</a>。</p>
</dd></dl>

</dd>
<dt id="model.ContentMatch">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.ContentMatch">ContentMatch</a></h4>
</dt>

<dd><p data-x-en="Instances of this class represent a match state of a node type's content expression, and can be used to find out whether further content matches here, and whether a given position is a valid end of the node.">此类的实例表示节点类型的<a href="#model.NodeSpec.content">内容表达式</a>的匹配状态，并且可以用来判断此处是否有进一步的内容匹配，以及给定位置是否是节点的有效结束位置。</p>
<dl><dt id="model.ContentMatch.validEnd">
  <code><strong><a href="#model.ContentMatch.validEnd">validEnd</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when this match state represents a valid end of the node.">当此匹配状态表示节点的有效结束时为真。</p>
</dd><dt id="model.ContentMatch.matchType">
  <code><strong><a href="#model.ContentMatch.matchType">matchType</a></strong>(<a id="model.ContentMatch.matchType^type" href="#model.ContentMatch.matchType^type"><span class="param">type</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>) →&nbsp;<a href="#model.ContentMatch"><span class="type">ContentMatch</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Match a node type, returning a match after that node if successful.">匹配一个节点类型，如果成功则在该节点之后返回一个匹配。</p>
</dd><dt id="model.ContentMatch.matchFragment">
  <code><strong><a href="#model.ContentMatch.matchFragment">matchFragment</a></strong>(<div class="breaktype"><a id="model.ContentMatch.matchFragment^frag" href="#model.ContentMatch.matchFragment^frag"><span class="param">frag</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>, </div><div class="breaktype"><a id="model.ContentMatch.matchFragment^start" href="#model.ContentMatch.matchFragment^start"><span class="param">start</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 0</span>, </div><div class="breaktype"><a id="model.ContentMatch.matchFragment^end" href="#model.ContentMatch.matchFragment^end"><span class="param">end</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = frag.childCount</span></div>) →&nbsp;<a href="#model.ContentMatch"><span class="type">ContentMatch</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Try to match a fragment. Returns the resulting match when successful.">尝试匹配一个片段。成功时返回结果匹配。</p>
</dd><dt id="model.ContentMatch.defaultType">
  <code><strong><a href="#model.ContentMatch.defaultType">defaultType</a></strong>: <a href="#model.NodeType"><span class="type">NodeType</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Get the first matching node type at this match position that can be generated.">获取在此匹配位置可以生成的第一个匹配节点类型。</p>
</dd><dt id="model.ContentMatch.fillBefore">
  <code><strong><a href="#model.ContentMatch.fillBefore">fillBefore</a></strong>(<div class="breaktype"><a id="model.ContentMatch.fillBefore^after" href="#model.ContentMatch.fillBefore^after"><span class="param">after</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>, </div><div class="breaktype"><a id="model.ContentMatch.fillBefore^toEnd" href="#model.ContentMatch.fillBefore^toEnd"><span class="param">toEnd</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a><span class="defaultvalue"> = false</span>, </div><div class="breaktype"><a id="model.ContentMatch.fillBefore^startIndex" href="#model.ContentMatch.fillBefore^startIndex"><span class="param">startIndex</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 0</span></div>) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Try to match the given fragment, and if that fails, see if it can be made to match by inserting nodes in front of it. When successful, return a fragment of inserted nodes (which may be empty if nothing had to be inserted). When toEnd is true, only return a fragment if the resulting match goes to the end of the content expression.">尝试匹配给定的片段，如果失败，看看是否可以通过在其前面插入节点来使其匹配。成功时，返回插入节点的片段（如果不需要插入任何内容，则可能为空）。当<code>toEnd</code>为true时，仅在结果匹配到内容表达式的末尾时返回片段。</p>
</dd><dt id="model.ContentMatch.findWrapping">
  <code><strong><a href="#model.ContentMatch.findWrapping">findWrapping</a></strong>(<a id="model.ContentMatch.findWrapping^target" href="#model.ContentMatch.findWrapping^target"><span class="param">target</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>) →&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>[] | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Find a set of wrapping node types that would allow a node of the given type to appear at this position. The result may be empty (when it fits directly) and will be null when no such wrapping exists.">找到一组包装节点类型，允许给定类型的节点出现在此位置。结果可能为空（当它直接适合时），如果不存在这样的包装，则结果将为null。</p>
</dd><dt id="model.ContentMatch.edgeCount">
  <code><strong><a href="#model.ContentMatch.edgeCount">edgeCount</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The number of outgoing edges this node has in the finite automaton that describes the content expression.">该节点在描述内容表达式的有限自动机中具有的出边数。</p>
</dd><dt id="model.ContentMatch.edge">
  <code><strong><a href="#model.ContentMatch.edge">edge</a></strong>(<a id="model.ContentMatch.edge^n" href="#model.ContentMatch.edge^n"><span class="param">n</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;{<span class="prop">type</span>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class="prop">next</span>:&nbsp;<a href="#model.ContentMatch"><span class="type">ContentMatch</span></a>}</code></dt>

<dd><p data-x-en="Get the _n_​th outgoing edge from this node in the finite automaton that describes the content expression.">从描述内容表达式的有限自动机中获取该节点的第 _n_ 条出边。</p>
</dd></dl>

</dd>
</dl>
<h3 id="model.DOM_Representation"><a href="#model.DOM_Representation">DOM Representation</a></h3>
<p data-x-en="Because representing a document as a tree of DOM nodes is central to the way ProseMirror operates, DOM parsing and serializing is integrated with the model.">因为将文档表示为DOM节点树是ProseMirror操作的核心，DOM <a href="#model.DOMParser">解析</a>和<a href="#model.DOMSerializer">序列化</a>与模型集成在一起。</p>
<p data-x-en="(But note that you do not need to have a DOM implementation loaded to use this module.)">(但请注意，您<em>不</em>需要加载DOM实现来使用此模块。)</p>
<dl>
<dt id="model.DOMParser">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.DOMParser">DOMParser</a></h4>
</dt>

<dd><p data-x-en="A DOM parser represents a strategy for parsing DOM content into a ProseMirror document conforming to a given schema. Its behavior is defined by an array of rules.">DOM解析器表示一种将DOM内容解析为符合给定模式的ProseMirror文档的策略。其行为由一组<a href="#model.ParseRule">规则</a>定义。</p>
<dl><dt id="model.DOMParser.constructor">
  <code><span class="keyword">new</span> <strong><a href="#model.DOMParser.constructor">DOMParser</a></strong>(<div class="breaktype"><a id="model.DOMParser.constructor^schema" href="#model.DOMParser.constructor^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, </div><div class="breaktype"><a id="model.DOMParser.constructor^rules" href="#model.DOMParser.constructor^rules"><span class="param">rules</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.ParseRule"><span class="type">ParseRule</span></a>[]</div>)</code></dt>

<dd><p data-x-en="Create a parser that targets the given schema, using the given parsing rules.">创建一个针对给定模式的解析器，使用给定的解析规则。</p>
</dd><dt id="model.DOMParser.schema">
  <code><strong><a href="#model.DOMParser.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a></code></dt>

<dd><p data-x-en="The schema into which the parser parses.">解析器解析到的模式。</p>
</dd><dt id="model.DOMParser.rules">
  <code><strong><a href="#model.DOMParser.rules">rules</a></strong>: <span class="keyword">readonly</span>&nbsp;<a href="#model.ParseRule"><span class="type">ParseRule</span></a>[]</code></dt>

<dd><p data-x-en="The set of parse rules that the parser uses, in order of precedence.">解析器使用的<a href="#model.ParseRule">解析规则</a>集，按优先级顺序排列。</p>
</dd><dt id="model.DOMParser.parse">
  <code><strong><a href="#model.DOMParser.parse">parse</a></strong>(<a id="model.DOMParser.parse^dom" href="#model.DOMParser.parse^dom"><span class="param">dom</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>, <a id="model.DOMParser.parse^options" href="#model.DOMParser.parse^options"><span class="param">options</span></a>⁠?:&nbsp;<a href="#model.ParseOptions"><span class="type">ParseOptions</span></a><span class="defaultvalue"> = {}</span>) →&nbsp;<a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="Parse a document from the content of a DOM node.">从DOM节点的内容解析文档。</p>
</dd><dt id="model.DOMParser.parseSlice">
  <code><strong><a href="#model.DOMParser.parseSlice">parseSlice</a></strong>(<a id="model.DOMParser.parseSlice^dom" href="#model.DOMParser.parseSlice^dom"><span class="param">dom</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>, <a id="model.DOMParser.parseSlice^options" href="#model.DOMParser.parseSlice^options"><span class="param">options</span></a>⁠?:&nbsp;<a href="#model.ParseOptions"><span class="type">ParseOptions</span></a><span class="defaultvalue"> = {}</span>) →&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="Parses the content of the given DOM node, like parse, and takes the same set of options. But unlike that method, which produces a whole node, this one returns a slice that is open at the sides, meaning that the schema constraints aren't applied to the start of nodes to the left of the input and the end of nodes at the end.">解析给定DOM节点的内容，就像
<a href="#model.DOMParser.parse"><code>parse</code></a>，并采用相同的一组选项。但与生成整个节点的方法不同，这个方法返回一个两侧开放的切片，这意味着模式约束不会应用于输入左侧节点的开始和末端节点的结束。</p>
</dd><dt id="model.DOMParser^fromSchema">
  <code><span class="keyword">static</span> <strong><a href="#model.DOMParser^fromSchema">fromSchema</a></strong>(<a id="model.DOMParser^fromSchema^schema" href="#model.DOMParser^fromSchema^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>) →&nbsp;<a href="#model.DOMParser"><span class="type">DOMParser</span></a></code></dt>

<dd><p data-x-en="Construct a DOM parser using the parsing rules listed in a schema's node specs, reordered by priority.">使用架构的<a href="#model.NodeSpec.parseDOM">节点规范</a>中列出的解析规则构建一个DOM解析器，并按<a href="#model.ParseRule.priority">优先级</a>重新排序。</p>
</dd></dl>

</dd>
<dt id="model.ParseOptions">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#model.ParseOptions">ParseOptions</a></h4>
</dt>

<dd><p data-x-en="These are the options recognized by the parse and parseSlice methods.">这些是<a href="#model.DOMParser.parse"><code>parse</code></a>和<a href="#model.DOMParser.parseSlice"><code>parseSlice</code></a>方法所识别的选项。</p>
<dl><dt id="model.ParseOptions.preserveWhitespace">
  <code><strong><a href="#model.ParseOptions.preserveWhitespace">preserveWhitespace</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <span class="string">"full"</span></code></dt>

<dd><p data-x-en="By default, whitespace is collapsed as per HTML's rules. Pass true to preserve whitespace, but normalize newlines to spaces, and &quot;full&quot; to preserve whitespace entirely.">默认情况下，空白会根据HTML的规则被折叠。传递<code>true</code>以保留空白，但将换行符规范化为空格，并传递<code>"full"</code>以完全保留空白。</p>
</dd><dt id="model.ParseOptions.findPositions">
  <code><strong><a href="#model.ParseOptions.findPositions">findPositions</a></strong>⁠?: {<span class="prop">node</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>, <span class="prop">offset</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">pos</span>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>}[]</code></dt>

<dd><p data-x-en="When given, the parser will, beside parsing the content, record the document positions of the given DOM positions. It will do so by writing to the objects, adding a pos property that holds the document position. DOM positions that are not in the parsed content will not be written to.">当提供时，解析器除了解析内容外，还会记录给定DOM位置的文档位置。它会通过写入对象来实现这一点，添加一个<code>pos</code>属性来保存文档位置。不在解析内容中的DOM位置将不会被写入。</p>
</dd><dt id="model.ParseOptions.from">
  <code><strong><a href="#model.ParseOptions.from">from</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The child node index to start parsing from.">开始解析的子节点索引。</p>
</dd><dt id="model.ParseOptions.to">
  <code><strong><a href="#model.ParseOptions.to">to</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The child node index to stop parsing at.">停止解析的子节点索引。</p>
</dd><dt id="model.ParseOptions.topNode">
  <code><strong><a href="#model.ParseOptions.topNode">topNode</a></strong>⁠?: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="By default, the content is parsed into the schema's default top node type. You can pass this option to use the type and attributes from a different node as the top container.">默认情况下，内容会被解析为模式的默认<a href="#model.Schema.topNodeType">顶级节点类型</a>。您可以传递此选项以使用不同节点的类型和属性作为顶级容器。</p>
</dd><dt id="model.ParseOptions.topMatch">
  <code><strong><a href="#model.ParseOptions.topMatch">topMatch</a></strong>⁠?: <a href="#model.ContentMatch"><span class="type">ContentMatch</span></a></code></dt>

<dd><p data-x-en="Provide the starting content match that content parsed into the top node is matched against.">提供与解析到顶节点的内容匹配的起始内容。</p>
</dd><dt id="model.ParseOptions.context">
  <code><strong><a href="#model.ParseOptions.context">context</a></strong>⁠?: <a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></code></dt>

<dd><p data-x-en="A set of additional nodes to count as context when parsing, above the given top node.">一组额外的节点在解析时作为<a href="#model.ParseRule.context">上下文</a>，在给定的<a href="#model.ParseOptions.topNode">顶级节点</a>之上。</p>
</dd></dl>

</dd>
<dt id="model.GenericParseRule">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#model.GenericParseRule">GenericParseRule</a></h4>
</dt>

<dd><p data-x-en="Fields that may be present in both tag and style parse rules.">在<a href="#model.TagParseRule">标签</a>和<a href="#model.StyleParseRule">样式</a>解析规则中可能存在的字段。</p>
<dl><dt id="model.GenericParseRule.priority">
  <code><strong><a href="#model.GenericParseRule.priority">priority</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="Can be used to change the order in which the parse rules in a schema are tried. Those with higher priority come first. Rules without a priority are counted as having priority 50. This property is only meaningful in a schema—when directly constructing a parser, the order of the rule array is used.">可用于更改在模式中尝试解析规则的顺序。优先级较高的规则优先。没有优先级的规则被视为优先级50。此属性仅在模式中有意义——在直接构建解析器时，使用规则数组的顺序。</p>
</dd><dt id="model.GenericParseRule.consuming">
  <code><strong><a href="#model.GenericParseRule.consuming">consuming</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="By default, when a rule matches an element or style, no further rules get a chance to match it. By setting this to false, you indicate that even when this rule matches, other rules that come after it should also run.">默认情况下，当一个规则匹配一个元素或样式时，不会有进一步的规则有机会匹配它。通过将此设置为<code>false</code>，您表示即使此规则匹配，之后的其他规则也应运行。</p>
</dd><dt id="model.GenericParseRule.context">
  <code><strong><a href="#model.GenericParseRule.context">context</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="When given, restricts this rule to only match when the current context—the parent nodes into which the content is being parsed—matches this expression. Should contain one or more node names or node group names followed by single or double slashes. For example &quot;paragraph/&quot; means the rule only matches when the parent node is a paragraph, &quot;blockquote/paragraph/&quot; restricts it to be in a paragraph that is inside a blockquote, and &quot;section//&quot; matches any position inside a section—a double slash matches any sequence of ancestor nodes. To allow multiple different contexts, they can be separated by a pipe (|) character, as in &quot;blockquote/|list_item/&quot;.">当给定时，将此规则限制为仅在当前上下文（正在解析内容的父节点）与此表达式匹配时才匹配。应包含一个或多个节点名称或节点组名称，后跟单斜杠或双斜杠。例如，<code>"paragraph/"</code> 表示规则仅在父节点是段落时匹配，<code>"blockquote/paragraph/"</code> 将其限制在块引用内的段落中，而 <code>"section//"</code> 匹配节内的任何位置——双斜杠匹配任何祖先节点序列。要允许多个不同的上下文，可以用管道符号 (<code>|</code>) 分隔，如 <code>"blockquote/|list_item/"</code>。</p>
</dd><dt id="model.GenericParseRule.mark">
  <code><strong><a href="#model.GenericParseRule.mark">mark</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The name of the mark type to wrap the matched content in.">标记类型的名称，用于包裹匹配的内容。</p>
</dd><dt id="model.GenericParseRule.ignore">
  <code><strong><a href="#model.GenericParseRule.ignore">ignore</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When true, ignore content that matches this rule.">当为真时，忽略与此规则匹配的内容。</p>
</dd><dt id="model.GenericParseRule.closeParent">
  <code><strong><a href="#model.GenericParseRule.closeParent">closeParent</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When true, finding an element that matches this rule will close the current node.">当为 true 时，找到符合此规则的元素将关闭当前节点。</p>
</dd><dt id="model.GenericParseRule.skip">
  <code><strong><a href="#model.GenericParseRule.skip">skip</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When true, ignore the node that matches this rule, but do parse its content.">当为真时，忽略与此规则匹配的节点，但解析其内容。</p>
</dd><dt id="model.GenericParseRule.attrs">
  <code><strong><a href="#model.GenericParseRule.attrs">attrs</a></strong>⁠?: <a href="#model.Attrs"><span class="type">Attrs</span></a></code></dt>

<dd><p data-x-en="Attributes for the node or mark created by this rule. When getAttrs is provided, it takes precedence.">此规则创建的节点或标记的属性。当提供<code>getAttrs</code>时，它优先。</p>
</dd></dl>

</dd>
<dt id="model.TagParseRule">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#model.TagParseRule">TagParseRule</a> <code><span class="keyword">extends</span> <a href="#model.GenericParseRule"><span class="type">GenericParseRule</span></a></code></h4>
</dt>

<dd><p data-x-en="Parse rule targeting a DOM element.">解析规则定位一个DOM元素。</p>
<dl><dt id="model.TagParseRule.tag">
  <code><strong><a href="#model.TagParseRule.tag">tag</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="A CSS selector describing the kind of DOM elements to match.">描述要匹配的DOM元素类型的CSS选择器。</p>
</dd><dt id="model.TagParseRule.namespace">
  <code><strong><a href="#model.TagParseRule.namespace">namespace</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The namespace to match. Nodes are only matched when the namespace matches or this property is null.">要匹配的命名空间。仅当命名空间匹配或此属性为 null 时才匹配节点。</p>
</dd><dt id="model.TagParseRule.node">
  <code><strong><a href="#model.TagParseRule.node">node</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The name of the node type to create when this rule matches. Each rule should have either a node, mark, or ignore property (except when it appears in a node or mark spec, in which case the node or mark property will be derived from its position).">匹配此规则时要创建的节点类型的名称。每个规则应具有<code>node</code>、<code>mark</code>或<code>ignore</code>属性（除非它出现在<a href="#model.NodeSpec.parseDOM">node</a>或<a href="#model.MarkSpec.parseDOM">mark spec</a>中，在这种情况下，<code>node</code>或<code>mark</code>属性将从其位置派生）。</p>
</dd><dt id="model.TagParseRule.getAttrs">
  <code><strong><a href="#model.TagParseRule.getAttrs">getAttrs</a></strong>⁠?: <span class="fn">fn</span>(<a id="model.TagParseRule.getAttrs^node" href="#model.TagParseRule.getAttrs^node"><span class="param">node</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="type">false</span></a> | <a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="A function used to compute the attributes for the node or mark created by this rule. Can also be used to describe further conditions the DOM element or style must match. When it returns false, the rule won't match. When it returns null or undefined, that is interpreted as an empty/default set of attributes.">用于计算由此规则创建的节点或标记的属性的函数。也可以用于描述 DOM 元素或样式必须匹配的进一步条件。当返回<code>false</code>时，规则将不匹配。当返回 null 或 undefined 时，解释为一组空/默认属性。</p>
</dd><dt id="model.TagParseRule.contentElement">
  <code><strong><a href="#model.TagParseRule.contentElement">contentElement</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a> | </div><div class="breaktype"><span class="fn">fn</span>(<a id="model.TagParseRule.contentElement^node" href="#model.TagParseRule.contentElement^node"><span class="param">node</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a></div></code></dt>

<dd><p data-x-en="For rules that produce non-leaf nodes, by default the content of the DOM element is parsed as content of the node. If the child nodes are in a descendent node, this may be a CSS selector string that the parser must use to find the actual content element, or a function that returns the actual content element to the parser.">对于生成非叶节点的规则，默认情况下，DOM 元素的内容会被解析为节点的内容。如果子节点位于后代节点中，这可能是解析器必须使用的 CSS 选择器字符串，以找到实际的内容元素，或者是一个返回实际内容元素给解析器的函数。</p>
</dd><dt id="model.TagParseRule.getContent">
  <code><strong><a href="#model.TagParseRule.getContent">getContent</a></strong>⁠?: <span class="fn">fn</span>(<a id="model.TagParseRule.getContent^node" href="#model.TagParseRule.getContent^node"><span class="param">node</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>, <a id="model.TagParseRule.getContent^schema" href="#model.TagParseRule.getContent^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>) →&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a></code></dt>

<dd><p data-x-en="Can be used to override the content of a matched node. When present, instead of parsing the node's child nodes, the result of this function is used.">可用于覆盖匹配节点的内容。当存在时，不解析节点的子节点，而是使用此函数的结果。</p>
</dd><dt id="model.TagParseRule.preserveWhitespace">
  <code><strong><a href="#model.TagParseRule.preserveWhitespace">preserveWhitespace</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <span class="string">"full"</span></code></dt>

<dd><p data-x-en="Controls whether whitespace should be preserved when parsing the content inside the matched element. false means whitespace may be collapsed, true means that whitespace should be preserved but newlines normalized to spaces, and &quot;full&quot; means that newlines should also be preserved.">控制在解析匹配元素内部内容时是否应保留空白。<code>false</code>表示空白可能会被折叠，<code>true</code>表示应保留空白但将换行符规范化为空格，<code>"full"</code>表示也应保留换行符。</p>
</dd></dl>

</dd>
<dt id="model.StyleParseRule">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#model.StyleParseRule">StyleParseRule</a> <code><span class="keyword">extends</span> <a href="#model.GenericParseRule"><span class="type">GenericParseRule</span></a></code></h4>
</dt>

<dd><p data-x-en="A parse rule targeting a style property.">一个解析规则，目标是一个样式属性。</p>
<dl><dt id="model.StyleParseRule.style">
  <code><strong><a href="#model.StyleParseRule.style">style</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="A CSS property name to match. This rule will match inline styles that list that property. May also have the form &quot;property=value&quot;, in which case the rule only matches if the property's value exactly matches the given value. (For more complicated filters, use getAttrs and return false to indicate that the match failed.) Rules matching styles may only produce marks, not nodes.">一个要匹配的CSS属性名称。此规则将匹配列出该属性的内联样式。也可以采用<code>"property=value"</code>的形式，在这种情况下，只有当属性的值完全匹配给定值时，规则才会匹配。（对于更复杂的过滤器，请使用<a href="#model.ParseRule.getAttrs"><code>getAttrs</code></a>并返回false以指示匹配失败。）匹配样式的规则只能生成<a href="#model.ParseRule.mark">marks</a>，而不是节点。</p>
</dd><dt id="model.StyleParseRule.clearMark">
  <code><strong><a href="#model.StyleParseRule.clearMark">clearMark</a></strong>⁠?: <span class="fn">fn</span>(<a id="model.StyleParseRule.clearMark^mark" href="#model.StyleParseRule.clearMark^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Style rules can remove marks from the set of active marks.">样式规则可以从活动标记集中移除标记。</p>
</dd><dt id="model.StyleParseRule.getAttrs">
  <code><strong><a href="#model.StyleParseRule.getAttrs">getAttrs</a></strong>⁠?: <span class="fn">fn</span>(<a id="model.StyleParseRule.getAttrs^node" href="#model.StyleParseRule.getAttrs^node"><span class="param">node</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="type">false</span></a> | <a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="A function used to compute the attributes for the node or mark created by this rule. Called with the style's value.">用于计算由此规则创建的节点或标记属性的函数。使用样式的值调用。</p>
</dd></dl>

</dd>
<dt id="model.ParseRule">
  <code>
    <span class="keyword">type</span>
    <strong><a href="#model.ParseRule">ParseRule</a></strong> = <a href="#model.TagParseRule"><span class="type">TagParseRule</span></a> | <a href="#model.StyleParseRule"><span class="type">StyleParseRule</span></a></code>
</dt>

<dd><p data-x-en="A value that describes how to parse a given DOM node or inline style as a ProseMirror node or mark.">一个描述如何将给定的DOM节点或内联样式解析为ProseMirror节点或标记的值。</p>
</dd>
<dt id="model.DOMSerializer">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#model.DOMSerializer">DOMSerializer</a></h4>
</dt>

<dd><p data-x-en="A DOM serializer knows how to convert ProseMirror nodes and marks of various types to DOM nodes.">一个DOM序列化器知道如何将各种类型的ProseMirror节点和标记转换为DOM节点。</p>
<dl><dt id="model.DOMSerializer.constructor">
  <code><span class="keyword">new</span> <strong><a href="#model.DOMSerializer.constructor">DOMSerializer</a></strong>(<div class="breaktype"><a id="model.DOMSerializer.constructor^nodes" href="#model.DOMSerializer.constructor^nodes"><span class="param">nodes</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<span class="fn">fn</span>(<a id="model.DOMSerializer.constructor^nodes^node" href="#model.DOMSerializer.constructor^nodes^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a>&gt;, </div><div class="breaktype"><a id="model.DOMSerializer.constructor^marks" href="#model.DOMSerializer.constructor^marks"><span class="param">marks</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<div class="breaktype"><span class="fn">fn</span>(<a id="model.DOMSerializer.constructor^marks^mark" href="#model.DOMSerializer.constructor^marks^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>, <a id="model.DOMSerializer.constructor^marks^inline" href="#model.DOMSerializer.constructor^marks^inline"><span class="param">inline</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a>) →&nbsp;<a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a></div>&gt;</div>)</code></dt>

<dd><p data-x-en="Create a serializer. nodes should map node names to functions that take a node and return a description of the corresponding DOM. marks does the same for mark names, but also gets an argument that tells it whether the mark's content is block or inline content (for typical use, it'll always be inline). A mark serializer may be null to indicate that marks of that type should not be serialized.">创建一个序列化器。<code>nodes</code> 应该将节点名称映射到接受一个节点并返回相应 DOM 描述的函数。<code>marks</code> 对标记名称执行相同操作，但还会获取一个参数，该参数指示标记的内容是块内容还是内联内容（对于典型用法，它将始终是内联内容）。标记序列化器可以是 <code>null</code>，以指示不应序列化该类型的标记。</p>
</dd><dt id="model.DOMSerializer.nodes">
  <code><strong><a href="#model.DOMSerializer.nodes">nodes</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<span class="fn">fn</span>(<a id="model.DOMSerializer.nodes^node" href="#model.DOMSerializer.nodes^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a>&gt;</code></dt>

<dd><p data-x-en="The node serialization functions.">节点序列化函数。</p>
</dd><dt id="model.DOMSerializer.marks">
  <code><strong><a href="#model.DOMSerializer.marks">marks</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<div class="breaktype"><span class="fn">fn</span>(<a id="model.DOMSerializer.marks^mark" href="#model.DOMSerializer.marks^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>, <a id="model.DOMSerializer.marks^inline" href="#model.DOMSerializer.marks^inline"><span class="param">inline</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a>) →&nbsp;<a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a></div>&gt;</code></dt>

<dd><p data-x-en="The mark serialization functions.">标记序列化函数。</p>
</dd><dt id="model.DOMSerializer.serializeFragment">
  <code><strong><a href="#model.DOMSerializer.serializeFragment">serializeFragment</a></strong>(<div class="breaktype"><a id="model.DOMSerializer.serializeFragment^fragment" href="#model.DOMSerializer.serializeFragment^fragment"><span class="param">fragment</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a>, </div><div class="breaktype"><a id="model.DOMSerializer.serializeFragment^options" href="#model.DOMSerializer.serializeFragment^options"><span class="param">options</span></a>⁠?:&nbsp;{<span class="prop">document</span>⁠?:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/document"><span class="type">Document</span></a>}<span class="defaultvalue"> = {}</span>, </div><div class="breaktype"><a id="model.DOMSerializer.serializeFragment^target" href="#model.DOMSerializer.serializeFragment^target"><span class="param">target</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a> | <a href="https://developer.mozilla.org/en/docs/DOM/document.createDocumentFragment"><span class="type">DocumentFragment</span></a></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a> | <a href="https://developer.mozilla.org/en/docs/DOM/document.createDocumentFragment"><span class="type">DocumentFragment</span></a></code></dt>

<dd><p data-x-en="Serialize the content of this fragment to a DOM fragment. When not in the browser, the document option, containing a DOM document, should be passed so that the serializer can create nodes.">将此片段的内容序列化为一个DOM片段。当不在浏览器中时，应传递包含DOM文档的<code>document</code>选项，以便序列化器可以创建节点。</p>
</dd><dt id="model.DOMSerializer.serializeNode">
  <code><strong><a href="#model.DOMSerializer.serializeNode">serializeNode</a></strong>(<div class="breaktype"><a id="model.DOMSerializer.serializeNode^node" href="#model.DOMSerializer.serializeNode^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="model.DOMSerializer.serializeNode^options" href="#model.DOMSerializer.serializeNode^options"><span class="param">options</span></a>⁠?:&nbsp;{<span class="prop">document</span>⁠?:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/document"><span class="type">Document</span></a>}<span class="defaultvalue"> = {}</span></div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a></code></dt>

<dd><p data-x-en="Serialize this node to a DOM node. This can be useful when you need to serialize a part of a document, as opposed to the whole document. To serialize a whole document, use serializeFragment on its content.">将此节点序列化为一个DOM节点。当你需要序列化文档的一部分而不是整个文档时，这会很有用。要序列化整个文档，请在其<a href="#model.Node.content">内容</a>上使用<a href="#model.DOMSerializer.serializeFragment"><code>serializeFragment</code></a>。</p>
</dd><dt id="model.DOMSerializer^renderSpec">
  <code><span class="keyword">static</span> <strong><a href="#model.DOMSerializer^renderSpec">renderSpec</a></strong>(<div class="breaktype"><a id="model.DOMSerializer^renderSpec^doc" href="#model.DOMSerializer^renderSpec^doc"><span class="param">doc</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/document"><span class="type">Document</span></a>, </div><div class="breaktype"><a id="model.DOMSerializer^renderSpec^structure" href="#model.DOMSerializer^renderSpec^structure"><span class="param">structure</span></a>:&nbsp;<a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a>, </div><div class="breaktype"><a id="model.DOMSerializer^renderSpec^xmlNS" href="#model.DOMSerializer^renderSpec^xmlNS"><span class="param">xmlNS</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></div>) →&nbsp;{<span class="prop">dom</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>, <span class="prop">contentDOM</span>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a>}</code></dt>

<dd><p data-x-en="Render an output spec to a DOM node. If the spec has a hole (zero) in it, contentDOM will point at the node with the hole.">将<a href="#model.DOMOutputSpec">输出规范</a>渲染到一个DOM节点。如果规范中有一个空洞（零），<code>contentDOM</code>将指向带有空洞的节点。</p>
</dd><dt id="model.DOMSerializer^fromSchema">
  <code><span class="keyword">static</span> <strong><a href="#model.DOMSerializer^fromSchema">fromSchema</a></strong>(<a id="model.DOMSerializer^fromSchema^schema" href="#model.DOMSerializer^fromSchema^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>) →&nbsp;<a href="#model.DOMSerializer"><span class="type">DOMSerializer</span></a></code></dt>

<dd><p data-x-en="Build a serializer using the toDOM properties in a schema's node and mark specs.">构建一个序列化器，使用模式节点和标记规范中的<a href="#model.NodeSpec.toDOM"><code>toDOM</code></a>属性。</p>
</dd><dt id="model.DOMSerializer^nodesFromSchema">
  <code><span class="keyword">static</span> <strong><a href="#model.DOMSerializer^nodesFromSchema">nodesFromSchema</a></strong>(<a id="model.DOMSerializer^nodesFromSchema^schema" href="#model.DOMSerializer^nodesFromSchema^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<span class="fn">fn</span>(<a id="model.DOMSerializer^nodesFromSchema^returns^node" href="#model.DOMSerializer^nodesFromSchema^returns^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a>&gt;</code></dt>

<dd><p data-x-en="Gather the serializers in a schema's node specs into an object. This can be useful as a base to build a custom serializer from.">将模式的节点规范中的序列化器收集到一个对象中。
这可以作为构建自定义序列化器的基础。</p>
</dd><dt id="model.DOMSerializer^marksFromSchema">
  <code><span class="keyword">static</span> <strong><a href="#model.DOMSerializer^marksFromSchema">marksFromSchema</a></strong>(<a id="model.DOMSerializer^marksFromSchema^schema" href="#model.DOMSerializer^marksFromSchema^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<div class="breaktype"><span class="fn">fn</span>(<a id="model.DOMSerializer^marksFromSchema^returns^mark" href="#model.DOMSerializer^marksFromSchema^returns^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>, <a id="model.DOMSerializer^marksFromSchema^returns^inline" href="#model.DOMSerializer^marksFromSchema^returns^inline"><span class="param">inline</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a>) →&nbsp;<a href="#model.DOMOutputSpec"><span class="type">DOMOutputSpec</span></a></div>&gt;</code></dt>

<dd><p data-x-en="Gather the serializers in a schema's mark specs into an object.">将模式的标记规范中的序列化器收集到一个对象中。</p>
</dd></dl>

</dd>
<dt id="model.DOMOutputSpec">
  <code>
    <span class="keyword">type</span>
    <strong><a href="#model.DOMOutputSpec">DOMOutputSpec</a></strong> = <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a> | </div><div class="breaktype">{<span class="prop">dom</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/Node"><span class="type">DOMNode</span></a>, <span class="prop">contentDOM</span>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement"><span class="type">HTMLElement</span></a>} | </div><div class="breaktype">[<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <span class="type">any</span>]</div></code>
</dt>

<dd><p data-x-en="A description of a DOM structure. Can be either a string, which is interpreted as a text node, a DOM node, which is interpreted as itself, a {dom, contentDOM} object, or an array.">对DOM结构的描述。可以是一个字符串，它被解释为一个文本节点，一个DOM节点，它被解释为自身，一个<code>{dom, contentDOM}</code>对象，或一个数组。</p>
<p data-x-en="An array describes a DOM element. The first value in the array should be a string—the name of the DOM element, optionally prefixed by a namespace URL and a space. If the second element is plain object, it is interpreted as a set of attributes for the element. Any elements after that (including the 2nd if it's not an attribute object) are interpreted as children of the DOM elements, and must either be valid DOMOutputSpec values, or the number zero.">一个数组描述了一个DOM元素。数组中的第一个值应该是一个字符串——DOM元素的名称，可以选择性地以命名空间URL和空格作为前缀。如果第二个元素是普通对象，则将其解释为元素的属性集。之后的任何元素（包括第二个，如果它不是属性对象）都被解释为DOM元素的子元素，并且必须是有效的<code>DOMOutputSpec</code>值，或者是数字零。</p>
<p data-x-en="The number zero (pronounced “hole”) is used to indicate the place where a node's child nodes should be inserted. If it occurs in an output spec, it should be the only child element in its parent node.">数字零（发音为“洞”）用于指示应插入节点的子节点的位置。如果它出现在输出规范中，它应该是其父节点中的唯一子元素。</p>
</dd>
</dl>
</section><section id="part_transform">
    <h2 class="module" id="transform">
      <a href="#transform">prosemirror-transform <span class="kind">module</span></a>
    </h2><p data-x-en="This module defines a way of modifying documents that allows changes to be recorded, replayed, and reordered. You can read more about transformations in the guide.">此模块定义了一种修改文档的方法，允许记录、更改和重新排序更改。您可以在<a href="/docs/guide/#transform">指南</a>中阅读更多关于转换的信息。</p>
<h3 id="transform.Steps"><a href="#transform.Steps">Steps</a></h3>
<p data-x-en="Transforming happens in Steps, which are atomic, well-defined modifications to a document. Applying a step produces a new document.">转换发生在<code>Step</code>中，这是对文档的原子性、定义明确的修改。<a href="#transform.Step.apply">应用</a>一个步骤会生成一个新文档。</p>
<p data-x-en="Each step provides a change map that maps positions in the old document to position in the transformed document. Steps can be inverted to create a step that undoes their effect, and chained together in a convenience object called a Transform.">每个步骤提供一个<a href="#transform.StepMap">更改映射</a>，将旧文档中的位置映射到转换后文档中的位置。步骤可以<a href="#transform.Step.invert">反转</a>以创建一个撤销其效果的步骤，并在一个称为<a href="#transform.Transform"><code>Transform</code></a>的便利对象中链接在一起。</p>
<dl>
<dt id="transform.Step">
  <h4>
    <code><span class="keyword"><span class="keyword">abstract</span> class</span></code>
    <a href="#transform.Step">Step</a></h4>
</dt>

<dd><p data-x-en="A step object represents an atomic change. It generally applies only to the document it was created for, since the positions stored in it will only make sense for that document.">一个步骤对象表示一个原子变化。它通常只适用于为其创建的文档，因为存储在其中的位置仅对该文档有意义。</p>
<p data-x-en="New steps are defined by creating classes that extend Step, overriding the apply, invert, map, getMap and fromJSON methods, and registering your class with a unique JSON-serialization identifier using Step.jsonID.">通过创建扩展<code>Step</code>的类来定义新的步骤，重写<code>apply</code>、<code>invert</code>、<code>map</code>、<code>getMap</code>和<code>fromJSON</code>方法，并使用<a href="#transform.Step%5EjsonID"><code>Step.jsonID</code></a>注册具有唯一JSON序列化标识符的类。</p>
<dl><dt id="transform.Step.apply">
  <code><span class="keyword">abstract</span> <strong><a href="#transform.Step.apply">apply</a></strong>(<a id="transform.Step.apply^doc" href="#transform.Step.apply^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p data-x-en="Applies this step to the given document, returning a result object that either indicates failure, if the step can not be applied to this document, or indicates success by containing a transformed document.">将此步骤应用于给定文档，返回一个结果对象，如果无法将步骤应用于此文档，则指示失败，或者通过包含转换后的文档来指示成功。</p>
</dd><dt id="transform.Step.getMap">
  <code><strong><a href="#transform.Step.getMap">getMap</a></strong>() →&nbsp;<a href="#transform.StepMap"><span class="type">StepMap</span></a></code></dt>

<dd><p data-x-en="Get the step map that represents the changes made by this step, and which can be used to transform between positions in the old and the new document.">获取表示此步骤所做更改的步骤映射，并可用于在旧文档和新文档之间进行位置转换。</p>
</dd><dt id="transform.Step.invert">
  <code><span class="keyword">abstract</span> <strong><a href="#transform.Step.invert">invert</a></strong>(<a id="transform.Step.invert^doc" href="#transform.Step.invert^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#transform.Step"><span class="type">Step</span></a></code></dt>

<dd><p data-x-en="Create an inverted version of this step. Needs the document as it was before the step as argument.">创建此步骤的反向版本。需要在此步骤之前的文档作为参数。</p>
</dd><dt id="transform.Step.map">
  <code><span class="keyword">abstract</span> <strong><a href="#transform.Step.map">map</a></strong>(<a id="transform.Step.map^mapping" href="#transform.Step.map^mapping"><span class="param">mapping</span></a>:&nbsp;<a href="#transform.Mappable"><span class="type">Mappable</span></a>) →&nbsp;<a href="#transform.Step"><span class="type">Step</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Map this step through a mappable thing, returning either a version of that step with its positions adjusted, or null if the step was entirely deleted by the mapping.">通过可映射的事物映射此步骤，返回调整了位置的该步骤的版本，或者如果该步骤被映射完全删除，则返回<code>null</code>。</p>
</dd><dt id="transform.Step.merge">
  <code><strong><a href="#transform.Step.merge">merge</a></strong>(<a id="transform.Step.merge^other" href="#transform.Step.merge^other"><span class="param">other</span></a>:&nbsp;<a href="#transform.Step"><span class="type">Step</span></a>) →&nbsp;<a href="#transform.Step"><span class="type">Step</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Try to merge this step with another one, to be applied directly after it. Returns the merged step when possible, null if the steps can't be merged.">尝试将此步骤与另一个步骤合并，以便在其后直接应用。返回合并后的步骤（如果可能），如果无法合并则返回null。</p>
</dd><dt id="transform.Step.toJSON">
  <code><span class="keyword">abstract</span> <strong><a href="#transform.Step.toJSON">toJSON</a></strong>() →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="Create a JSON-serializeable representation of this step. When defining this for a custom subclass, make sure the result object includes the step type's JSON id under the stepType property.">创建此步骤的 JSON 可序列化表示。当为自定义子类定义此表示时，请确保结果对象在 <code>stepType</code> 属性下包含步骤类型的 <a href="#transform.Step%5EjsonID">JSON id</a>。</p>
</dd><dt id="transform.Step^fromJSON">
  <code><span class="keyword">static</span> <strong><a href="#transform.Step^fromJSON">fromJSON</a></strong>(<a id="transform.Step^fromJSON^schema" href="#transform.Step^fromJSON^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, <a id="transform.Step^fromJSON^json" href="#transform.Step^fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#transform.Step"><span class="type">Step</span></a></code></dt>

<dd><p data-x-en="Deserialize a step from its JSON representation. Will call through to the step class' own implementation of this method.">从其 JSON 表示中反序列化一个步骤。将调用步骤类自身实现的此方法。</p>
</dd><dt id="transform.Step^jsonID">
  <code><span class="keyword">static</span> <strong><a href="#transform.Step^jsonID">jsonID</a></strong>(<div class="breaktype"><a id="transform.Step^jsonID^id" href="#transform.Step^jsonID^id"><span class="param">id</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, </div><div class="breaktype"><a id="transform.Step^jsonID^stepClass" href="#transform.Step^jsonID^stepClass"><span class="param">stepClass</span></a>:&nbsp;{<span class="prop">fromJSON</span>:&nbsp;<span class="fn">fn</span>(<a id="transform.Step^jsonID^stepClass.fromJSON^schema" href="#transform.Step^jsonID^stepClass.fromJSON^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, <a id="transform.Step^jsonID^stepClass.fromJSON^json" href="#transform.Step^jsonID^stepClass.fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#transform.Step"><span class="type">Step</span></a>}</div>) →&nbsp;{<span class="prop">fromJSON</span>:&nbsp;<span class="fn">fn</span>(<a id="transform.Step^jsonID^returns.fromJSON^schema" href="#transform.Step^jsonID^returns.fromJSON^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, <a id="transform.Step^jsonID^returns.fromJSON^json" href="#transform.Step^jsonID^returns.fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#transform.Step"><span class="type">Step</span></a>}</code></dt>

<dd><p data-x-en="To be able to serialize steps to JSON, each step needs a string ID to attach to its JSON representation. Use this method to register an ID for your step classes. Try to pick something that's unlikely to clash with steps from other modules.">为了能够将步骤序列化为JSON，每个步骤都需要一个字符串ID来附加到其JSON表示中。使用此方法为您的步骤类注册一个ID。尽量选择不太可能与其他模块的步骤冲突的ID。</p>
</dd></dl>

</dd>
<dt id="transform.StepResult">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.StepResult">StepResult</a></h4>
</dt>

<dd><p data-x-en="The result of applying a step. Contains either a new document or a failure value.">结果 <a href="#transform.Step.apply">应用</a> 一个步骤。包含一个新文档或一个失败值。</p>
<dl><dt id="transform.StepResult.doc">
  <code><strong><a href="#transform.StepResult.doc">doc</a></strong>: <a href="#model.Node"><span class="type">Node</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="The transformed document, if successful.">如果成功，转换后的文档。</p>
</dd><dt id="transform.StepResult.failed">
  <code><strong><a href="#transform.StepResult.failed">failed</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="The failure message, if unsuccessful.">失败消息，如果不成功。</p>
</dd><dt id="transform.StepResult^ok">
  <code><span class="keyword">static</span> <strong><a href="#transform.StepResult^ok">ok</a></strong>(<a id="transform.StepResult^ok^doc" href="#transform.StepResult^ok^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p data-x-en="Create a successful step result.">创建一个成功的步骤结果。</p>
</dd><dt id="transform.StepResult^fail">
  <code><span class="keyword">static</span> <strong><a href="#transform.StepResult^fail">fail</a></strong>(<a id="transform.StepResult^fail^message" href="#transform.StepResult^fail^message"><span class="param">message</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>) →&nbsp;<a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p data-x-en="Create a failed step result.">创建一个失败的步骤结果。</p>
</dd><dt id="transform.StepResult^fromReplace">
  <code><span class="keyword">static</span> <strong><a href="#transform.StepResult^fromReplace">fromReplace</a></strong>(<div class="breaktype"><a id="transform.StepResult^fromReplace^doc" href="#transform.StepResult^fromReplace^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="transform.StepResult^fromReplace^from" href="#transform.StepResult^fromReplace^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.StepResult^fromReplace^to" href="#transform.StepResult^fromReplace^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.StepResult^fromReplace^slice" href="#transform.StepResult^fromReplace^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a></div>) →&nbsp;<a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p data-x-en="Call Node.replace with the given arguments. Create a successful result if it succeeds, and a failed one if it throws a ReplaceError.">调用<a href="#model.Node.replace"><code>Node.replace</code></a>并传入给定的参数。如果成功则创建一个成功的结果，如果抛出<code>ReplaceError</code>则创建一个失败的结果。</p>
</dd></dl>

</dd>
<dt id="transform.ReplaceStep">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.ReplaceStep">ReplaceStep</a> <code><span class="keyword">extends</span> <a href="#transform.Step"><span class="type">Step</span></a></code></h4>
</dt>

<dd><p data-x-en="Replace a part of the document with a slice of new content.">将文档的一部分替换为一段新的内容。</p>
<dl><dt id="transform.ReplaceStep.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.ReplaceStep.constructor">ReplaceStep</a></strong>(<div class="breaktype"><a id="transform.ReplaceStep.constructor^from" href="#transform.ReplaceStep.constructor^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.ReplaceStep.constructor^to" href="#transform.ReplaceStep.constructor^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.ReplaceStep.constructor^slice" href="#transform.ReplaceStep.constructor^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>, </div><div class="breaktype"><a id="transform.ReplaceStep.constructor^structure" href="#transform.ReplaceStep.constructor^structure"><span class="param">structure</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a><span class="defaultvalue"> = false</span></div>)</code></dt>

<dd><p data-x-en="The given slice should fit the 'gap' between from and to—the depths must line up, and the surrounding nodes must be able to be joined with the open sides of the slice. When structure is true, the step will fail if the content between from and to is not just a sequence of closing and then opening tokens (this is to guard against rebased replace steps overwriting something they weren't supposed to).">给定的<code>slice</code>应适合<code>from</code>和<code>to</code>之间的“间隙”——深度必须对齐，并且周围的节点必须能够与slice的开放侧连接。当<code>structure</code>为true时，如果from和to之间的内容不仅仅是关闭然后打开的标记序列，则步骤将失败（这是为了防止重新基于的替换步骤覆盖它们不应该覆盖的内容）。</p>
</dd><dt id="transform.ReplaceStep.from">
  <code><strong><a href="#transform.ReplaceStep.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The start position of the replaced range.">替换范围的起始位置。</p>
</dd><dt id="transform.ReplaceStep.to">
  <code><strong><a href="#transform.ReplaceStep.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The end position of the replaced range.">替换范围的结束位置。</p>
</dd><dt id="transform.ReplaceStep.slice">
  <code><strong><a href="#transform.ReplaceStep.slice">slice</a></strong>: <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="The slice to insert.">要插入的切片。</p>
</dd></dl>

</dd>
<dt id="transform.ReplaceAroundStep">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.ReplaceAroundStep">ReplaceAroundStep</a> <code><span class="keyword">extends</span> <a href="#transform.Step"><span class="type">Step</span></a></code></h4>
</dt>

<dd><p data-x-en="Replace a part of the document with a slice of content, but preserve a range of the replaced content by moving it into the slice.">将文档的一部分替换为内容片段，但通过将其移动到片段中来保留被替换内容的范围。</p>
<dl><dt id="transform.ReplaceAroundStep.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.ReplaceAroundStep.constructor">ReplaceAroundStep</a></strong>(<div class="breaktype"><a id="transform.ReplaceAroundStep.constructor^from" href="#transform.ReplaceAroundStep.constructor^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.ReplaceAroundStep.constructor^to" href="#transform.ReplaceAroundStep.constructor^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.ReplaceAroundStep.constructor^gapFrom" href="#transform.ReplaceAroundStep.constructor^gapFrom"><span class="param">gapFrom</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.ReplaceAroundStep.constructor^gapTo" href="#transform.ReplaceAroundStep.constructor^gapTo"><span class="param">gapTo</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.ReplaceAroundStep.constructor^slice" href="#transform.ReplaceAroundStep.constructor^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>, </div><div class="breaktype"><a id="transform.ReplaceAroundStep.constructor^insert" href="#transform.ReplaceAroundStep.constructor^insert"><span class="param">insert</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.ReplaceAroundStep.constructor^structure" href="#transform.ReplaceAroundStep.constructor^structure"><span class="param">structure</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a><span class="defaultvalue"> = false</span></div>)</code></dt>

<dd><p data-x-en="Create a replace-around step with the given range and gap. insert should be the point in the slice into which the content of the gap should be moved. structure has the same meaning as it has in the ReplaceStep class.">创建一个具有给定范围和间隙的替换步骤。<code>insert</code> 应该是切片中间隙内容应移动到的点。<code>structure</code> 的含义与 <a href="#transform.ReplaceStep"><code>ReplaceStep</code></a> 类中的含义相同。</p>
</dd><dt id="transform.ReplaceAroundStep.from">
  <code><strong><a href="#transform.ReplaceAroundStep.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The start position of the replaced range.">替换范围的起始位置。</p>
</dd><dt id="transform.ReplaceAroundStep.to">
  <code><strong><a href="#transform.ReplaceAroundStep.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The end position of the replaced range.">替换范围的结束位置。</p>
</dd><dt id="transform.ReplaceAroundStep.gapFrom">
  <code><strong><a href="#transform.ReplaceAroundStep.gapFrom">gapFrom</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The start of preserved range.">保存范围的开始。</p>
</dd><dt id="transform.ReplaceAroundStep.gapTo">
  <code><strong><a href="#transform.ReplaceAroundStep.gapTo">gapTo</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The end of preserved range.">保存范围的结束。</p>
</dd><dt id="transform.ReplaceAroundStep.slice">
  <code><strong><a href="#transform.ReplaceAroundStep.slice">slice</a></strong>: <a href="#model.Slice"><span class="type">Slice</span></a></code></dt>

<dd><p data-x-en="The slice to insert.">要插入的切片。</p>
</dd><dt id="transform.ReplaceAroundStep.insert">
  <code><strong><a href="#transform.ReplaceAroundStep.insert">insert</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The position in the slice where the preserved range should be inserted.">在切片中应插入保留范围的位置。</p>
</dd></dl>

</dd>
<dt id="transform.AddMarkStep">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.AddMarkStep">AddMarkStep</a> <code><span class="keyword">extends</span> <a href="#transform.Step"><span class="type">Step</span></a></code></h4>
</dt>

<dd><p data-x-en="Add a mark to all inline content between two positions.">在两个位置之间的所有内联内容添加标记。</p>
<dl><dt id="transform.AddMarkStep.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.AddMarkStep.constructor">AddMarkStep</a></strong>(<a id="transform.AddMarkStep.constructor^from" href="#transform.AddMarkStep.constructor^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.AddMarkStep.constructor^to" href="#transform.AddMarkStep.constructor^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.AddMarkStep.constructor^mark" href="#transform.AddMarkStep.constructor^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>)</code></dt>

<dd><p data-x-en="Create a mark step.">创建标记步骤。</p>
</dd><dt id="transform.AddMarkStep.from">
  <code><strong><a href="#transform.AddMarkStep.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The start of the marked range.">标记范围的开始。</p>
</dd><dt id="transform.AddMarkStep.to">
  <code><strong><a href="#transform.AddMarkStep.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The end of the marked range.">标记范围的结束。</p>
</dd><dt id="transform.AddMarkStep.mark">
  <code><strong><a href="#transform.AddMarkStep.mark">mark</a></strong>: <a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p data-x-en="The mark to add.">添加标记。</p>
</dd></dl>

</dd>
<dt id="transform.RemoveMarkStep">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.RemoveMarkStep">RemoveMarkStep</a> <code><span class="keyword">extends</span> <a href="#transform.Step"><span class="type">Step</span></a></code></h4>
</dt>

<dd><p data-x-en="Remove a mark from all inline content between two positions.">从两个位置之间的所有内联内容中删除标记。</p>
<dl><dt id="transform.RemoveMarkStep.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.RemoveMarkStep.constructor">RemoveMarkStep</a></strong>(<a id="transform.RemoveMarkStep.constructor^from" href="#transform.RemoveMarkStep.constructor^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.RemoveMarkStep.constructor^to" href="#transform.RemoveMarkStep.constructor^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.RemoveMarkStep.constructor^mark" href="#transform.RemoveMarkStep.constructor^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>)</code></dt>

<dd><p data-x-en="Create a mark-removing step.">创建一个去除标记的步骤。</p>
</dd><dt id="transform.RemoveMarkStep.from">
  <code><strong><a href="#transform.RemoveMarkStep.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The start of the unmarked range.">未标记范围的开始。</p>
</dd><dt id="transform.RemoveMarkStep.to">
  <code><strong><a href="#transform.RemoveMarkStep.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The end of the unmarked range.">未标记范围的结束。</p>
</dd><dt id="transform.RemoveMarkStep.mark">
  <code><strong><a href="#transform.RemoveMarkStep.mark">mark</a></strong>: <a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p data-x-en="The mark to remove.">要删除的标记。</p>
</dd></dl>

</dd>
<dt id="transform.AddNodeMarkStep">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.AddNodeMarkStep">AddNodeMarkStep</a> <code><span class="keyword">extends</span> <a href="#transform.Step"><span class="type">Step</span></a></code></h4>
</dt>

<dd><p data-x-en="Add a mark to a specific node.">在特定节点添加标记。</p>
<dl><dt id="transform.AddNodeMarkStep.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.AddNodeMarkStep.constructor">AddNodeMarkStep</a></strong>(<a id="transform.AddNodeMarkStep.constructor^pos" href="#transform.AddNodeMarkStep.constructor^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.AddNodeMarkStep.constructor^mark" href="#transform.AddNodeMarkStep.constructor^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>)</code></dt>

<dd><p data-x-en="Create a node mark step.">创建一个节点标记步骤。</p>
</dd><dt id="transform.AddNodeMarkStep.pos">
  <code><strong><a href="#transform.AddNodeMarkStep.pos">pos</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The position of the target node.">目标节点的位置。</p>
</dd><dt id="transform.AddNodeMarkStep.mark">
  <code><strong><a href="#transform.AddNodeMarkStep.mark">mark</a></strong>: <a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p data-x-en="The mark to add.">添加标记。</p>
</dd></dl>

</dd>
<dt id="transform.RemoveNodeMarkStep">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.RemoveNodeMarkStep">RemoveNodeMarkStep</a> <code><span class="keyword">extends</span> <a href="#transform.Step"><span class="type">Step</span></a></code></h4>
</dt>

<dd><p data-x-en="Remove a mark from a specific node.">从特定节点移除标记。</p>
<dl><dt id="transform.RemoveNodeMarkStep.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.RemoveNodeMarkStep.constructor">RemoveNodeMarkStep</a></strong>(<a id="transform.RemoveNodeMarkStep.constructor^pos" href="#transform.RemoveNodeMarkStep.constructor^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.RemoveNodeMarkStep.constructor^mark" href="#transform.RemoveNodeMarkStep.constructor^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>)</code></dt>

<dd><p data-x-en="Create a mark-removing step.">创建一个去除标记的步骤。</p>
</dd><dt id="transform.RemoveNodeMarkStep.pos">
  <code><strong><a href="#transform.RemoveNodeMarkStep.pos">pos</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The position of the target node.">目标节点的位置。</p>
</dd><dt id="transform.RemoveNodeMarkStep.mark">
  <code><strong><a href="#transform.RemoveNodeMarkStep.mark">mark</a></strong>: <a href="#model.Mark"><span class="type">Mark</span></a></code></dt>

<dd><p data-x-en="The mark to remove.">要删除的标记。</p>
</dd></dl>

</dd>
<dt id="transform.AttrStep">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.AttrStep">AttrStep</a> <code><span class="keyword">extends</span> <a href="#transform.Step"><span class="type">Step</span></a></code></h4>
</dt>

<dd><p data-x-en="Update an attribute in a specific node.">更新特定节点中的属性。</p>
<dl><dt id="transform.AttrStep.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.AttrStep.constructor">AttrStep</a></strong>(<a id="transform.AttrStep.constructor^pos" href="#transform.AttrStep.constructor^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.AttrStep.constructor^attr" href="#transform.AttrStep.constructor^attr"><span class="param">attr</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <a id="transform.AttrStep.constructor^value" href="#transform.AttrStep.constructor^value"><span class="param">value</span></a>:&nbsp;<span class="type">any</span>)</code></dt>

<dd><p data-x-en="Construct an attribute step.">构建属性步骤。</p>
</dd><dt id="transform.AttrStep.pos">
  <code><strong><a href="#transform.AttrStep.pos">pos</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The position of the target node.">目标节点的位置。</p>
</dd><dt id="transform.AttrStep.attr">
  <code><strong><a href="#transform.AttrStep.attr">attr</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The attribute to set.">要设置的属性。</p>
</dd><dt id="transform.AttrStep.value">
  <code><strong><a href="#transform.AttrStep.value">value</a></strong>: <span class="type">any</span></code></dt>

<dd></dd><dt id="transform.AttrStep^fromJSON">
  <code><span class="keyword">static</span> <strong><a href="#transform.AttrStep^fromJSON">fromJSON</a></strong>(<a id="transform.AttrStep^fromJSON^schema" href="#transform.AttrStep^fromJSON^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, <a id="transform.AttrStep^fromJSON^json" href="#transform.AttrStep^fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#transform.AttrStep"><span class="type">AttrStep</span></a></code></dt>

<dd></dd></dl>

</dd>
<dt id="transform.DocAttrStep">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.DocAttrStep">DocAttrStep</a> <code><span class="keyword">extends</span> <a href="#transform.Step"><span class="type">Step</span></a></code></h4>
</dt>

<dd><p data-x-en="Update an attribute in the doc node.">更新文档节点中的属性。</p>
<dl><dt id="transform.DocAttrStep.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.DocAttrStep.constructor">DocAttrStep</a></strong>(<a id="transform.DocAttrStep.constructor^attr" href="#transform.DocAttrStep.constructor^attr"><span class="param">attr</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <a id="transform.DocAttrStep.constructor^value" href="#transform.DocAttrStep.constructor^value"><span class="param">value</span></a>:&nbsp;<span class="type">any</span>)</code></dt>

<dd><p data-x-en="Construct an attribute step.">构建属性步骤。</p>
</dd><dt id="transform.DocAttrStep.attr">
  <code><strong><a href="#transform.DocAttrStep.attr">attr</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="The attribute to set.">要设置的属性。</p>
</dd><dt id="transform.DocAttrStep.value">
  <code><strong><a href="#transform.DocAttrStep.value">value</a></strong>: <span class="type">any</span></code></dt>

<dd></dd><dt id="transform.DocAttrStep^fromJSON">
  <code><span class="keyword">static</span> <strong><a href="#transform.DocAttrStep^fromJSON">fromJSON</a></strong>(<a id="transform.DocAttrStep^fromJSON^schema" href="#transform.DocAttrStep^fromJSON^schema"><span class="param">schema</span></a>:&nbsp;<a href="#model.Schema"><span class="type">Schema</span></a>, <a id="transform.DocAttrStep^fromJSON^json" href="#transform.DocAttrStep^fromJSON^json"><span class="param">json</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#transform.DocAttrStep"><span class="type">DocAttrStep</span></a></code></dt>

<dd></dd></dl>

</dd>
</dl>
<h3 id="transform.Position_Mapping"><a href="#transform.Position_Mapping">Position Mapping</a></h3>
<p data-x-en="Mapping positions from one document to another by running through the step maps produced by steps is an important operation in ProseMirror. It is used, for example, for updating the selection when the document changes.">通过运行由步骤生成的<a href="#transform.StepMap">步骤映射</a>，将一个文档中的位置映射到另一个文档是ProseMirror中的一项重要操作。例如，它用于在文档更改时更新选择。</p>
<dl>
<dt id="transform.Mappable">
  <h4>
    <code><span class="keyword">interface</span></code>
    <a href="#transform.Mappable">Mappable</a></h4>
</dt>

<dd><p data-x-en="There are several things that positions can be mapped through. Such objects conform to this interface.">有几件事可以通过这些位置进行映射。
这些对象符合此接口。</p>
<dl><dt id="transform.Mappable.map">
  <code><strong><a href="#transform.Mappable.map">map</a></strong>(<a id="transform.Mappable.map^pos" href="#transform.Mappable.map^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Mappable.map^assoc" href="#transform.Mappable.map^assoc"><span class="param">assoc</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="Map a position through this object. When given, assoc (should be -1 or 1, defaults to 1) determines with which side the position is associated, which determines in which direction to move when a chunk of content is inserted at the mapped position.">通过此对象映射一个位置。给定时，<code>assoc</code>（应为-1或1，默认为1）确定位置与哪一侧关联，这决定了在映射位置插入一块内容时移动的方向。</p>
</dd><dt id="transform.Mappable.mapResult">
  <code><strong><a href="#transform.Mappable.mapResult">mapResult</a></strong>(<a id="transform.Mappable.mapResult^pos" href="#transform.Mappable.mapResult^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Mappable.mapResult^assoc" href="#transform.Mappable.mapResult^assoc"><span class="param">assoc</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#transform.MapResult"><span class="type">MapResult</span></a></code></dt>

<dd><p data-x-en="Map a position, and return an object containing additional information about the mapping. The result's deleted field tells you whether the position was deleted (completely enclosed in a replaced range) during the mapping. When content on only one side is deleted, the position itself is only considered deleted when assoc points in the direction of the deleted content.">映射一个位置，并返回一个包含有关映射的附加信息的对象。结果的<code>deleted</code>字段告诉您该位置在映射过程中是否被删除（完全包含在替换范围内）。当只有一侧的内容被删除时，只有当<code>assoc</code>指向被删除内容的方向时，位置本身才被视为已删除。</p>
</dd></dl>

</dd>
<dt id="transform.MapResult">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.MapResult">MapResult</a></h4>
</dt>

<dd><p data-x-en="An object representing a mapped position with extra information.">表示映射位置及附加信息的对象。</p>
<dl><dt id="transform.MapResult.pos">
  <code><strong><a href="#transform.MapResult.pos">pos</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The mapped version of the position.">位置的映射版本。</p>
</dd><dt id="transform.MapResult.deleted">
  <code><strong><a href="#transform.MapResult.deleted">deleted</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Tells you whether the position was deleted, that is, whether the step removed the token on the side queried (via the assoc) argument from the document.">告诉您该位置是否已删除，即该步骤是否从文档中删除了通过<code>assoc</code>参数查询的一侧的标记。</p>
</dd><dt id="transform.MapResult.deletedBefore">
  <code><strong><a href="#transform.MapResult.deletedBefore">deletedBefore</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Tells you whether the token before the mapped position was deleted.">告诉您映射位置之前的标记是否被删除。</p>
</dd><dt id="transform.MapResult.deletedAfter">
  <code><strong><a href="#transform.MapResult.deletedAfter">deletedAfter</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when the token after the mapped position was deleted.">当映射位置后的标记被删除时为真。</p>
</dd><dt id="transform.MapResult.deletedAcross">
  <code><strong><a href="#transform.MapResult.deletedAcross">deletedAcross</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Tells whether any of the steps mapped through deletes across the position (including both the token before and after the position).">告知是否有任何步骤通过删除跨越位置（包括位置前后的标记）。</p>
</dd></dl>

</dd>
<dt id="transform.StepMap">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.StepMap">StepMap</a> <code><span class="keyword">implements</span> <a href="#transform.Mappable"><span class="type">Mappable</span></a></code></h4>
</dt>

<dd><p data-x-en="A map describing the deletions and insertions made by a step, which can be used to find the correspondence between positions in the pre-step version of a document and the same position in the post-step version.">描述步骤所做删除和插入的地图，可以用来找到文档步骤前版本中的位置与步骤后版本中相同位置之间的对应关系。</p>
<dl><dt id="transform.StepMap.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.StepMap.constructor">StepMap</a></strong>(<div class="breaktype"><a id="transform.StepMap.constructor^ranges" href="#transform.StepMap.constructor^ranges"><span class="param">ranges</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>[], </div><div class="breaktype"><a id="transform.StepMap.constructor^inverted" href="#transform.StepMap.constructor^inverted"><span class="param">inverted</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a><span class="defaultvalue"> = false</span></div>)</code></dt>

<dd><p data-x-en="Create a position map. The modifications to the document are represented as an array of numbers, in which each group of three represents a modified chunk as [start, oldSize, newSize].">创建一个位置图。文档的修改表示为一个数字数组，其中每组三个数字表示一个修改的块，如<code>[start, oldSize, newSize]</code>。</p>
</dd><dt id="transform.StepMap.forEach">
  <code><strong><a href="#transform.StepMap.forEach">forEach</a></strong>(<div class="breaktype"><a id="transform.StepMap.forEach^f" href="#transform.StepMap.forEach^f"><span class="param">f</span></a>:&nbsp;<span class="fn">fn</span>(<div class="breaktype"><a id="transform.StepMap.forEach^f^oldStart" href="#transform.StepMap.forEach^f^oldStart"><span class="param">oldStart</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.StepMap.forEach^f^oldEnd" href="#transform.StepMap.forEach^f^oldEnd"><span class="param">oldEnd</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.StepMap.forEach^f^newStart" href="#transform.StepMap.forEach^f^newStart"><span class="param">newStart</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.StepMap.forEach^f^newEnd" href="#transform.StepMap.forEach^f^newEnd"><span class="param">newEnd</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></div>)</div>)</code></dt>

<dd><p data-x-en="Calls the given function on each of the changed ranges included in this map.">对该映射中包含的每个更改范围调用给定函数。</p>
</dd><dt id="transform.StepMap.invert">
  <code><strong><a href="#transform.StepMap.invert">invert</a></strong>() →&nbsp;<a href="#transform.StepMap"><span class="type">StepMap</span></a></code></dt>

<dd><p data-x-en="Create an inverted version of this map. The result can be used to map positions in the post-step document to the pre-step document.">创建此地图的反向版本。结果可以用于将后步骤文档中的位置映射到前步骤文档。</p>
</dd><dt id="transform.StepMap^offset">
  <code><span class="keyword">static</span> <strong><a href="#transform.StepMap^offset">offset</a></strong>(<a id="transform.StepMap^offset^n" href="#transform.StepMap^offset^n"><span class="param">n</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#transform.StepMap"><span class="type">StepMap</span></a></code></dt>

<dd><p data-x-en="Create a map that moves all positions by offset n (which may be negative). This can be useful when applying steps meant for a sub-document to a larger document, or vice-versa.">创建一个将所有位置按偏移量<code>n</code>（可能为负数）移动的映射。这在将适用于子文档的步骤应用于较大文档或反之亦然时非常有用。</p>
</dd><dt id="transform.StepMap^empty">
  <code><span class="keyword">static</span> <strong><a href="#transform.StepMap^empty">empty</a></strong>: <a href="#transform.StepMap"><span class="type">StepMap</span></a></code></dt>

<dd><p data-x-en="A StepMap that contains no changed ranges.">一个不包含更改范围的StepMap。</p>
</dd></dl>

</dd>
<dt id="transform.Mapping">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.Mapping">Mapping</a> <code><span class="keyword">implements</span> <a href="#transform.Mappable"><span class="type">Mappable</span></a></code></h4>
</dt>

<dd><p data-x-en="A mapping represents a pipeline of zero or more step maps. It has special provisions for losslessly handling mapping positions through a series of steps in which some steps are inverted versions of earlier steps. (This comes up when ‘rebasing’ steps for collaboration or history management.)">映射表示零个或多个<a href="#transform.StepMap">步骤映射</a>的管道。它有特殊的规定，可以无损地处理通过一系列步骤的映射位置，其中一些步骤是早期步骤的反向版本。（当‘<a href="/docs/guide/#transform.rebasing">重新基准化</a>’步骤用于协作或历史管理时，会出现这种情况。）</p>
<dl><dt id="transform.Mapping.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.Mapping.constructor">Mapping</a></strong>(<div class="breaktype"><a id="transform.Mapping.constructor^maps" href="#transform.Mapping.constructor^maps"><span class="param">maps</span></a>⁠?:&nbsp;<a href="#transform.StepMap"><span class="type">StepMap</span></a>[]<span class="defaultvalue"> = []</span>, </div><div class="breaktype"><a id="transform.Mapping.constructor^mirror" href="#transform.Mapping.constructor^mirror"><span class="param">mirror</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>[], </div><div class="breaktype"><a id="transform.Mapping.constructor^from" href="#transform.Mapping.constructor^from"><span class="param">from</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 0</span>, </div><div class="breaktype"><a id="transform.Mapping.constructor^to" href="#transform.Mapping.constructor^to"><span class="param">to</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = maps.length</span></div>)</code></dt>

<dd><p data-x-en="Create a new mapping with the given position maps.">创建一个新的映射与给定的位置映射。</p>
</dd><dt id="transform.Mapping.maps">
  <code><strong><a href="#transform.Mapping.maps">maps</a></strong>: <a href="#transform.StepMap"><span class="type">StepMap</span></a>[]</code></dt>

<dd><p data-x-en="The step maps in this mapping.">步骤图在此映射中。</p>
</dd><dt id="transform.Mapping.from">
  <code><strong><a href="#transform.Mapping.from">from</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The starting position in the maps array, used when map or mapResult is called."><code>map</code> 或 <code>mapResult</code> 被调用时使用的 <code>maps</code> 数组中的起始位置。</p>
</dd><dt id="transform.Mapping.to">
  <code><strong><a href="#transform.Mapping.to">to</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The end position in the maps array."><code>maps</code> 数组中的结束位置。</p>
</dd><dt id="transform.Mapping.slice">
  <code><strong><a href="#transform.Mapping.slice">slice</a></strong>(<div class="breaktype"><a id="transform.Mapping.slice^from" href="#transform.Mapping.slice^from"><span class="param">from</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 0</span>, </div><div class="breaktype"><a id="transform.Mapping.slice^to" href="#transform.Mapping.slice^to"><span class="param">to</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = this.maps.length</span></div>) →&nbsp;<a href="#transform.Mapping"><span class="type">Mapping</span></a></code></dt>

<dd><p data-x-en="Create a mapping that maps only through a part of this one.">创建一个仅通过其中一部分进行映射的映射。</p>
</dd><dt id="transform.Mapping.appendMap">
  <code><strong><a href="#transform.Mapping.appendMap">appendMap</a></strong>(<a id="transform.Mapping.appendMap^map" href="#transform.Mapping.appendMap^map"><span class="param">map</span></a>:&nbsp;<a href="#transform.StepMap"><span class="type">StepMap</span></a>, <a id="transform.Mapping.appendMap^mirrors" href="#transform.Mapping.appendMap^mirrors"><span class="param">mirrors</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>)</code></dt>

<dd><p data-x-en="Add a step map to the end of this mapping. If mirrors is given, it should be the index of the step map that is the mirror image of this one.">在此映射的末尾添加一个步骤映射。如果给定<code>mirrors</code>，它应该是此步骤映射的镜像的索引。</p>
</dd><dt id="transform.Mapping.appendMapping">
  <code><strong><a href="#transform.Mapping.appendMapping">appendMapping</a></strong>(<a id="transform.Mapping.appendMapping^mapping" href="#transform.Mapping.appendMapping^mapping"><span class="param">mapping</span></a>:&nbsp;<a href="#transform.Mapping"><span class="type">Mapping</span></a>)</code></dt>

<dd><p data-x-en="Add all the step maps in a given mapping to this one (preserving mirroring information).">将给定映射中的所有步骤映射添加到此映射中（保留镜像信息）。</p>
</dd><dt id="transform.Mapping.getMirror">
  <code><strong><a href="#transform.Mapping.getMirror">getMirror</a></strong>(<a id="transform.Mapping.getMirror^n" href="#transform.Mapping.getMirror^n"><span class="param">n</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Finds the offset of the step map that mirrors the map at the given offset, in this mapping (as per the second argument to appendMap).">找到在此映射中镜像给定偏移量的步骤映射的偏移量（根据<code>appendMap</code>的第二个参数）。</p>
</dd><dt id="transform.Mapping.appendMappingInverted">
  <code><strong><a href="#transform.Mapping.appendMappingInverted">appendMappingInverted</a></strong>(<a id="transform.Mapping.appendMappingInverted^mapping" href="#transform.Mapping.appendMappingInverted^mapping"><span class="param">mapping</span></a>:&nbsp;<a href="#transform.Mapping"><span class="type">Mapping</span></a>)</code></dt>

<dd><p data-x-en="Append the inverse of the given mapping to this one.">将给定映射的逆附加到此映射。</p>
</dd><dt id="transform.Mapping.invert">
  <code><strong><a href="#transform.Mapping.invert">invert</a></strong>() →&nbsp;<a href="#transform.Mapping"><span class="type">Mapping</span></a></code></dt>

<dd><p data-x-en="Create an inverted version of this mapping.">创建此映射的反向版本。</p>
</dd><dt id="transform.Mapping.map">
  <code><strong><a href="#transform.Mapping.map">map</a></strong>(<a id="transform.Mapping.map^pos" href="#transform.Mapping.map^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Mapping.map^assoc" href="#transform.Mapping.map^assoc"><span class="param">assoc</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 1</span>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="Map a position through this mapping.">通过此映射映射一个位置。</p>
</dd><dt id="transform.Mapping.mapResult">
  <code><strong><a href="#transform.Mapping.mapResult">mapResult</a></strong>(<a id="transform.Mapping.mapResult^pos" href="#transform.Mapping.mapResult^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Mapping.mapResult^assoc" href="#transform.Mapping.mapResult^assoc"><span class="param">assoc</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 1</span>) →&nbsp;<a href="#transform.MapResult"><span class="type">MapResult</span></a></code></dt>

<dd><p data-x-en="Map a position through this mapping, returning a mapping result.">通过此映射映射一个位置，返回一个映射结果。</p>
</dd></dl>

</dd>
</dl>
<h3 id="transform.Document_transforms"><a href="#transform.Document_transforms">Document transforms</a></h3>
<p data-x-en="Because you often need to collect a number of steps together to effect a composite change, ProseMirror provides an abstraction to make this easy. State transactions are a subclass of transforms.">因为您经常需要将多个步骤组合在一起以实现复合更改，ProseMirror 提供了一种抽象来使这变得容易。<a href="#state.Transaction">状态事务</a>是变换的一个子类。</p>
<dl>
<dt id="transform.Transform">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#transform.Transform">Transform</a></h4>
</dt>

<dd><p data-x-en="Abstraction to build up and track an array of steps representing a document transformation.">构建和跟踪表示文档转换的<a href="#transform.Step">步骤</a>的数组的抽象。</p>
<p data-x-en="Most transforming methods return the Transform object itself, so that they can be chained.">大多数转换方法返回<code>Transform</code>对象本身，以便它们可以被链接。</p>
<dl><dt id="transform.Transform.constructor">
  <code><span class="keyword">new</span> <strong><a href="#transform.Transform.constructor">Transform</a></strong>(<a id="transform.Transform.constructor^doc" href="#transform.Transform.constructor^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>)</code></dt>

<dd><p data-x-en="Create a transform that starts with the given document.">创建一个以给定文档开始的转换。</p>
</dd><dt id="transform.Transform.steps">
  <code><strong><a href="#transform.Transform.steps">steps</a></strong>: <a href="#transform.Step"><span class="type">Step</span></a>[]</code></dt>

<dd><p data-x-en="The steps in this transform.">此转换中的步骤。</p>
</dd><dt id="transform.Transform.docs">
  <code><strong><a href="#transform.Transform.docs">docs</a></strong>: <a href="#model.Node"><span class="type">Node</span></a>[]</code></dt>

<dd><p data-x-en="The documents before each of the steps.">每个步骤之前的文件。</p>
</dd><dt id="transform.Transform.mapping">
  <code><strong><a href="#transform.Transform.mapping">mapping</a></strong>: <a href="#transform.Mapping"><span class="type">Mapping</span></a></code></dt>

<dd><p data-x-en="A mapping with the maps for each of the steps in this transform.">一个映射，其中包含此转换中每个步骤的地图。</p>
</dd><dt id="transform.Transform.doc">
  <code><strong><a href="#transform.Transform.doc">doc</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="The current document (the result of applying the steps in the transform).">当前文档（应用转换步骤的结果）。</p>
</dd><dt id="transform.Transform.before">
  <code><strong><a href="#transform.Transform.before">before</a></strong>: <a href="#model.Node"><span class="type">Node</span></a></code></dt>

<dd><p data-x-en="The starting document.">起始文档。</p>
</dd><dt id="transform.Transform.step">
  <code><strong><a href="#transform.Transform.step">step</a></strong>(<a id="transform.Transform.step^step" href="#transform.Transform.step^step"><span class="param">step</span></a>:&nbsp;<a href="#transform.Step"><span class="type">Step</span></a>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Apply a new step in this transform, saving the result. Throws an error when the step fails.">应用此转换中的新步骤，保存结果。当步骤失败时抛出错误。</p>
</dd><dt id="transform.Transform.maybeStep">
  <code><strong><a href="#transform.Transform.maybeStep">maybeStep</a></strong>(<a id="transform.Transform.maybeStep^step" href="#transform.Transform.maybeStep^step"><span class="param">step</span></a>:&nbsp;<a href="#transform.Step"><span class="type">Step</span></a>) →&nbsp;<a href="#transform.StepResult"><span class="type">StepResult</span></a></code></dt>

<dd><p data-x-en="Try to apply a step in this transformation, ignoring it if it fails. Returns the step result.">尝试在此转换中应用一个步骤，如果失败则忽略它。返回步骤结果。</p>
</dd><dt id="transform.Transform.docChanged">
  <code><strong><a href="#transform.Transform.docChanged">docChanged</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="True when the document has been changed (when there are any steps).">当文档被更改时（当有任何步骤时）为真。</p>
</dd><dt id="transform.Transform.replace">
  <code><strong><a href="#transform.Transform.replace">replace</a></strong>(<div class="breaktype"><a id="transform.Transform.replace^from" href="#transform.Transform.replace^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.replace^to" href="#transform.Transform.replace^to"><span class="param">to</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = from</span>, </div><div class="breaktype"><a id="transform.Transform.replace^slice" href="#transform.Transform.replace^slice"><span class="param">slice</span></a>⁠?:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a><span class="defaultvalue"> = Slice.empty</span></div>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Replace the part of the document between from and to with the given slice.">将文档中<code>from</code>和<code>to</code>之间的部分替换为给定的<code>slice</code>。</p>
</dd><dt id="transform.Transform.replaceWith">
  <code><strong><a href="#transform.Transform.replaceWith">replaceWith</a></strong>(<div class="breaktype"><a id="transform.Transform.replaceWith^from" href="#transform.Transform.replaceWith^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.replaceWith^to" href="#transform.Transform.replaceWith^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.replaceWith^content" href="#transform.Transform.replaceWith^content"><span class="param">content</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | <span class="keyword">readonly</span>&nbsp;<a href="#model.Node"><span class="type">Node</span></a>[]</div>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Replace the given range with the given content, which may be a fragment, node, or array of nodes.">将给定范围替换为给定内容，该内容可以是片段、节点或节点数组。</p>
</dd><dt id="transform.Transform.delete">
  <code><strong><a href="#transform.Transform.delete">delete</a></strong>(<a id="transform.Transform.delete^from" href="#transform.Transform.delete^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.delete^to" href="#transform.Transform.delete^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Delete the content between the given positions.">删除给定位置之间的内容。</p>
</dd><dt id="transform.Transform.insert">
  <code><strong><a href="#transform.Transform.insert">insert</a></strong>(<div class="breaktype"><a id="transform.Transform.insert^pos" href="#transform.Transform.insert^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.insert^content" href="#transform.Transform.insert^content"><span class="param">content</span></a>:&nbsp;<a href="#model.Fragment"><span class="type">Fragment</span></a> | <a href="#model.Node"><span class="type">Node</span></a> | <span class="keyword">readonly</span>&nbsp;<a href="#model.Node"><span class="type">Node</span></a>[]</div>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Insert the given content at the given position.">在给定位置插入给定内容。</p>
</dd><dt id="transform.Transform.replaceRange">
  <code><strong><a href="#transform.Transform.replaceRange">replaceRange</a></strong>(<a id="transform.Transform.replaceRange^from" href="#transform.Transform.replaceRange^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.replaceRange^to" href="#transform.Transform.replaceRange^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.replaceRange^slice" href="#transform.Transform.replaceRange^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Replace a range of the document with a given slice, using from, to, and the slice's openStart property as hints, rather than fixed start and end points. This method may grow the replaced area or close open nodes in the slice in order to get a fit that is more in line with WYSIWYG expectations, by dropping fully covered parent nodes of the replaced region when they are marked non-defining as context, or including an open parent node from the slice that is marked as defining its content.">用<code>from</code>、<code>to</code>和切片的<a href="#model.Slice.openStart"><code>openStart</code></a>属性作为提示来替换文档的一个范围，而不是固定的起点和终点。此方法可能会通过删除被标记为<a href="#model.NodeSpec.definingAsContext">非定义上下文</a>的替换区域的完全覆盖的父节点，或包含切片中标记为<a href="#model.NodeSpec.definingForContent">定义其内容</a>的开放父节点，以更符合所见即所得的期望，从而扩展替换区域或关闭切片中的开放节点。</p>
<p data-x-en="This is the method, for example, to handle paste. The similar replace method is a more primitive tool which will not move the start and end of its given range, and is useful in situations where you need more precise control over what happens.">这是处理粘贴的方法。例如，类似的<a href="#transform.Transform.replace"><code>replace</code></a>方法是一个更原始的工具，它<em>不会</em>移动其给定范围的开始和结束，在需要更精确控制的情况下非常有用。</p>
</dd><dt id="transform.Transform.replaceRangeWith">
  <code><strong><a href="#transform.Transform.replaceRangeWith">replaceRangeWith</a></strong>(<a id="transform.Transform.replaceRangeWith^from" href="#transform.Transform.replaceRangeWith^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.replaceRangeWith^to" href="#transform.Transform.replaceRangeWith^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.replaceRangeWith^node" href="#transform.Transform.replaceRangeWith^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Replace the given range with a node, but use from and to as hints, rather than precise positions. When from and to are the same and are at the start or end of a parent node in which the given node doesn't fit, this method may move them out towards a parent that does allow the given node to be placed. When the given range completely covers a parent node, this method may completely replace that parent node.">用一个节点替换给定的范围，但使用<code>from</code>和<code>to</code>作为提示，而不是精确的位置。当from和to相同时，并且位于父节点的开始或结束位置，而给定节点不适合时，此方法可能会<em>移动</em>它们到允许放置给定节点的父节点。当给定范围完全覆盖父节点时，此方法可能会完全替换该父节点。</p>
</dd><dt id="transform.Transform.deleteRange">
  <code><strong><a href="#transform.Transform.deleteRange">deleteRange</a></strong>(<a id="transform.Transform.deleteRange^from" href="#transform.Transform.deleteRange^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.deleteRange^to" href="#transform.Transform.deleteRange^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Delete the given range, expanding it to cover fully covered parent nodes until a valid replace is found.">删除给定范围，扩展它以覆盖完全覆盖的父节点，直到找到有效的替换。</p>
</dd><dt id="transform.Transform.lift">
  <code><strong><a href="#transform.Transform.lift">lift</a></strong>(<a id="transform.Transform.lift^range" href="#transform.Transform.lift^range"><span class="param">range</span></a>:&nbsp;<a href="#model.NodeRange"><span class="type">NodeRange</span></a>, <a id="transform.Transform.lift^target" href="#transform.Transform.lift^target"><span class="param">target</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Split the content in the given range off from its parent, if there is sibling content before or after it, and move it up the tree to the depth specified by target. You'll probably want to use liftTarget to compute target, to make sure the lift is valid.">将给定范围内的内容从其父级中分离出来，如果其前后有兄弟内容，则将其向上移动到由<code>target</code>指定的深度。您可能需要使用<a href="#transform.liftTarget"><code>liftTarget</code></a>来计算<code>target</code>，以确保提升是有效的。</p>
</dd><dt id="transform.Transform.join">
  <code><strong><a href="#transform.Transform.join">join</a></strong>(<a id="transform.Transform.join^pos" href="#transform.Transform.join^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.join^depth" href="#transform.Transform.join^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 1</span>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Join the blocks around the given position. If depth is 2, their last and first siblings are also joined, and so on.">将给定位置周围的块连接起来。如果深度为2，它们的最后一个和第一个兄弟姐妹也会被连接，依此类推。</p>
</dd><dt id="transform.Transform.wrap">
  <code><strong><a href="#transform.Transform.wrap">wrap</a></strong>(<div class="breaktype"><a id="transform.Transform.wrap^range" href="#transform.Transform.wrap^range"><span class="param">range</span></a>:&nbsp;<a href="#model.NodeRange"><span class="type">NodeRange</span></a>, </div><div class="breaktype"><a id="transform.Transform.wrap^wrappers" href="#transform.Transform.wrap^wrappers"><span class="param">wrappers</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;{<span class="prop">type</span>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class="prop">attrs</span>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a>}[]</div>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Wrap the given range in the given set of wrappers. The wrappers are assumed to be valid in this position, and should probably be computed with findWrapping.">将给定的<a href="#model.NodeRange">范围</a>包裹在给定的包装器中。
假定这些包装器在此位置是有效的，并且可能应该使用<a href="#transform.findWrapping"><code>findWrapping</code></a>进行计算。</p>
</dd><dt id="transform.Transform.setBlockType">
  <code><strong><a href="#transform.Transform.setBlockType">setBlockType</a></strong>(<div class="breaktype"><a id="transform.Transform.setBlockType^from" href="#transform.Transform.setBlockType^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.setBlockType^to" href="#transform.Transform.setBlockType^to"><span class="param">to</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = from</span>, </div><div class="breaktype"><a id="transform.Transform.setBlockType^type" href="#transform.Transform.setBlockType^type"><span class="param">type</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="transform.Transform.setBlockType^attrs" href="#transform.Transform.setBlockType^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <span class="fn">fn</span>(<a id="transform.Transform.setBlockType^attrs^oldNode" href="#transform.Transform.setBlockType^attrs^oldNode"><span class="param">oldNode</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span></div>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Set the type of all textblocks (partly) between from and to to the given node type with the given attributes.">将所有在<code>from</code>和<code>to</code>之间的文本块（部分）设置为给定的节点类型，并带有给定的属性。</p>
</dd><dt id="transform.Transform.setNodeMarkup">
  <code><strong><a href="#transform.Transform.setNodeMarkup">setNodeMarkup</a></strong>(<div class="breaktype"><a id="transform.Transform.setNodeMarkup^pos" href="#transform.Transform.setNodeMarkup^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.setNodeMarkup^type" href="#transform.Transform.setNodeMarkup^type"><span class="param">type</span></a>⁠?:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="transform.Transform.setNodeMarkup^attrs" href="#transform.Transform.setNodeMarkup^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span>, </div><div class="breaktype"><a id="transform.Transform.setNodeMarkup^marks" href="#transform.Transform.setNodeMarkup^marks"><span class="param">marks</span></a>⁠?:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>[]</div>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Change the type, attributes, and/or marks of the node at pos. When type isn't given, the existing node type is preserved,">更改位于<code>pos</code>的节点的类型、属性和/或标记。当未提供<code>type</code>时，保留现有的节点类型。</p>
</dd><dt id="transform.Transform.setNodeAttribute">
  <code><strong><a href="#transform.Transform.setNodeAttribute">setNodeAttribute</a></strong>(<a id="transform.Transform.setNodeAttribute^pos" href="#transform.Transform.setNodeAttribute^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.setNodeAttribute^attr" href="#transform.Transform.setNodeAttribute^attr"><span class="param">attr</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <a id="transform.Transform.setNodeAttribute^value" href="#transform.Transform.setNodeAttribute^value"><span class="param">value</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Set a single attribute on a given node to a new value. The pos addresses the document content. Use setDocAttribute to set attributes on the document itself.">将给定节点的单个属性设置为新值。
<code>pos</code> 地址文档内容。使用 <code>setDocAttribute</code> 设置文档本身的属性。</p>
</dd><dt id="transform.Transform.setDocAttribute">
  <code><strong><a href="#transform.Transform.setDocAttribute">setDocAttribute</a></strong>(<a id="transform.Transform.setDocAttribute^attr" href="#transform.Transform.setDocAttribute^attr"><span class="param">attr</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, <a id="transform.Transform.setDocAttribute^value" href="#transform.Transform.setDocAttribute^value"><span class="param">value</span></a>:&nbsp;<span class="type">any</span>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Set a single attribute on the document to a new value.">将文档上的单个属性设置为新值。</p>
</dd><dt id="transform.Transform.addNodeMark">
  <code><strong><a href="#transform.Transform.addNodeMark">addNodeMark</a></strong>(<a id="transform.Transform.addNodeMark^pos" href="#transform.Transform.addNodeMark^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.addNodeMark^mark" href="#transform.Transform.addNodeMark^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Add a mark to the node at position pos.">在位置<code>pos</code>的节点添加一个标记。</p>
</dd><dt id="transform.Transform.removeNodeMark">
  <code><strong><a href="#transform.Transform.removeNodeMark">removeNodeMark</a></strong>(<a id="transform.Transform.removeNodeMark^pos" href="#transform.Transform.removeNodeMark^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.removeNodeMark^mark" href="#transform.Transform.removeNodeMark^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a> | <a href="#model.MarkType"><span class="type">MarkType</span></a>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Remove a mark (or a mark of the given type) from the node at position pos.">从位置<code>pos</code>的节点中移除标记（或给定类型的标记）。</p>
</dd><dt id="transform.Transform.split">
  <code><strong><a href="#transform.Transform.split">split</a></strong>(<div class="breaktype"><a id="transform.Transform.split^pos" href="#transform.Transform.split^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.split^depth" href="#transform.Transform.split^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 1</span>, </div><div class="breaktype"><a id="transform.Transform.split^typesAfter" href="#transform.Transform.split^typesAfter"><span class="param">typesAfter</span></a>⁠?:&nbsp;({<span class="prop">type</span>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class="prop">attrs</span>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a>} | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>)[]</div>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Split the node at the given position, and optionally, if depth is greater than one, any number of nodes above that. By default, the parts split off will inherit the node type of the original node. This can be changed by passing an array of types and attributes to use after the split.">在给定位置拆分节点，并且如果<code>depth</code>大于1，还可以选择拆分其上方的任意数量的节点。默认情况下，拆分出来的部分将继承原始节点的节点类型。可以通过传递一个类型和属性的数组来更改拆分后的使用类型。</p>
</dd><dt id="transform.Transform.addMark">
  <code><strong><a href="#transform.Transform.addMark">addMark</a></strong>(<a id="transform.Transform.addMark^from" href="#transform.Transform.addMark^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.addMark^to" href="#transform.Transform.addMark^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.Transform.addMark^mark" href="#transform.Transform.addMark^mark"><span class="param">mark</span></a>:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Add the given mark to the inline content between from and to.">将给定的标记添加到<code>from</code>和<code>to</code>之间的内联内容。</p>
</dd><dt id="transform.Transform.removeMark">
  <code><strong><a href="#transform.Transform.removeMark">removeMark</a></strong>(<div class="breaktype"><a id="transform.Transform.removeMark^from" href="#transform.Transform.removeMark^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.removeMark^to" href="#transform.Transform.removeMark^to"><span class="param">to</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.removeMark^mark" href="#transform.Transform.removeMark^mark"><span class="param">mark</span></a>⁠?:&nbsp;<a href="#model.Mark"><span class="type">Mark</span></a> | <a href="#model.MarkType"><span class="type">MarkType</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Remove marks from inline nodes between from and to. When mark is a single mark, remove precisely that mark. When it is a mark type, remove all marks of that type. When it is null, remove all marks of any type.">在<code>from</code>和<code>to</code>之间从内联节点中移除标记。当<code>mark</code>是单个标记时，精确移除该标记。当它是一个标记类型时，移除所有该类型的标记。当它为null时，移除所有类型的标记。</p>
</dd><dt id="transform.Transform.clearIncompatible">
  <code><strong><a href="#transform.Transform.clearIncompatible">clearIncompatible</a></strong>(<div class="breaktype"><a id="transform.Transform.clearIncompatible^pos" href="#transform.Transform.clearIncompatible^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.Transform.clearIncompatible^parentType" href="#transform.Transform.clearIncompatible^parentType"><span class="param">parentType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="transform.Transform.clearIncompatible^match" href="#transform.Transform.clearIncompatible^match"><span class="param">match</span></a>⁠?:&nbsp;<a href="#model.ContentMatch"><span class="type">ContentMatch</span></a></div>) →&nbsp;<a href="#transform.Transform"><span class="type">Transform</span></a></code></dt>

<dd><p data-x-en="Removes all marks and nodes from the content of the node at pos that don't match the given new parent node type. Accepts an optional starting content match as third argument.">从<code>pos</code>处的节点内容中移除所有不符合给定新父节点类型的标记和节点。接受一个可选的起始<a href="#model.ContentMatch">内容匹配</a>作为第三个参数。</p>
</dd></dl>

</dd>
</dl>
<p data-x-en="The following helper functions can be useful when creating transformations or determining whether they are even possible.">以下辅助函数在创建转换或确定它们是否可行时可能会很有用。</p>
<dl>
<dt id="transform.replaceStep">
  <code><strong><a href="#transform.replaceStep">replaceStep</a></strong>(<div class="breaktype"><a id="transform.replaceStep^doc" href="#transform.replaceStep^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="transform.replaceStep^from" href="#transform.replaceStep^from"><span class="param">from</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.replaceStep^to" href="#transform.replaceStep^to"><span class="param">to</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = from</span>, </div><div class="breaktype"><a id="transform.replaceStep^slice" href="#transform.replaceStep^slice"><span class="param">slice</span></a>⁠?:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a><span class="defaultvalue"> = Slice.empty</span></div>) →&nbsp;<a href="#transform.Step"><span class="type">Step</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="‘Fit’ a slice into a given position in the document, producing a step that inserts it. Will return null if there's no meaningful way to insert the slice here, or inserting it would be a no-op (an empty slice over an empty range).">将一个切片“适配”到文档中的给定位置，生成一个<a href="#transform.Step">步骤</a>来插入它。如果没有有意义的方式在此处插入切片，或者插入它将是无操作（在空范围内的空切片），将返回null。</p>
</dd>
<dt id="transform.liftTarget">
  <code><strong><a href="#transform.liftTarget">liftTarget</a></strong>(<a id="transform.liftTarget^range" href="#transform.liftTarget^range"><span class="param">range</span></a>:&nbsp;<a href="#model.NodeRange"><span class="type">NodeRange</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Try to find a target depth to which the content in the given range can be lifted. Will not go across isolating parent nodes.">尝试找到一个目标深度，将给定范围内的内容提升到该深度。不会跨越<a href="#model.NodeSpec.isolating">隔离</a>父节点。</p>
</dd>
<dt id="transform.findWrapping">
  <code><strong><a href="#transform.findWrapping">findWrapping</a></strong>(<div class="breaktype"><a id="transform.findWrapping^range" href="#transform.findWrapping^range"><span class="param">range</span></a>:&nbsp;<a href="#model.NodeRange"><span class="type">NodeRange</span></a>, </div><div class="breaktype"><a id="transform.findWrapping^nodeType" href="#transform.findWrapping^nodeType"><span class="param">nodeType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="transform.findWrapping^attrs" href="#transform.findWrapping^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span>, </div><div class="breaktype"><a id="transform.findWrapping^innerRange" href="#transform.findWrapping^innerRange"><span class="param">innerRange</span></a>⁠?:&nbsp;<a href="#model.NodeRange"><span class="type">NodeRange</span></a><span class="defaultvalue"> = range</span></div>) →&nbsp;{<span class="prop">type</span>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class="prop">attrs</span>:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>}[] | <div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div></code></dt>

<dd><p data-x-en="Try to find a valid way to wrap the content in the given range in a node of the given type. May introduce extra nodes around and inside the wrapper node, if necessary. Returns null if no valid wrapping could be found. When innerRange is given, that range's content is used as the content to fit into the wrapping, instead of the content of range.">尝试找到一种有效的方法在给定范围内将内容包装在给定类型的节点中。如果有必要，可能会在包装节点的周围和内部引入额外的节点。如果找不到有效的包装，则返回null。当给定<code>innerRange</code>时，使用该范围的内容作为要包装的内容，而不是<code>range</code>的内容。</p>
</dd>
<dt id="transform.canSplit">
  <code><strong><a href="#transform.canSplit">canSplit</a></strong>(<div class="breaktype"><a id="transform.canSplit^doc" href="#transform.canSplit^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="transform.canSplit^pos" href="#transform.canSplit^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="transform.canSplit^depth" href="#transform.canSplit^depth"><span class="param">depth</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = 1</span>, </div><div class="breaktype"><a id="transform.canSplit^typesAfter" href="#transform.canSplit^typesAfter"><span class="param">typesAfter</span></a>⁠?:&nbsp;({<span class="prop">type</span>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class="prop">attrs</span>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a>} | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a>)[]</div>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Check whether splitting at the given position is allowed.">检查是否允许在给定位置拆分。</p>
</dd>
<dt id="transform.canJoin">
  <code><strong><a href="#transform.canJoin">canJoin</a></strong>(<a id="transform.canJoin^doc" href="#transform.canJoin^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="transform.canJoin^pos" href="#transform.canJoin^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Test whether the blocks before and after a given position can be joined.">测试给定位置前后的块是否可以连接。</p>
</dd>
<dt id="transform.joinPoint">
  <code><strong><a href="#transform.joinPoint">joinPoint</a></strong>(<a id="transform.joinPoint^doc" href="#transform.joinPoint^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="transform.joinPoint^pos" href="#transform.joinPoint^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.joinPoint^dir" href="#transform.joinPoint^dir"><span class="param">dir</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a><span class="defaultvalue"> = -1</span>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><span class="prim">undefined</span></a></code></dt>

<dd><p data-x-en="Find an ancestor of the given position that can be joined to the block before (or after if dir is positive). Returns the joinable point, if any.">找到给定位置的一个祖先，可以与之前的块（或之后的块，如果<code>dir</code>为正）。返回可连接的点（如果有）。</p>
</dd>
<dt id="transform.insertPoint">
  <code><strong><a href="#transform.insertPoint">insertPoint</a></strong>(<a id="transform.insertPoint^doc" href="#transform.insertPoint^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="transform.insertPoint^pos" href="#transform.insertPoint^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.insertPoint^nodeType" href="#transform.insertPoint^nodeType"><span class="param">nodeType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Try to find a point where a node of the given type can be inserted near pos, by searching up the node hierarchy when pos itself isn't a valid place but is at the start or end of a node. Return null if no position was found.">尝试在<code>pos</code>附近找到一个可以插入给定类型节点的位置，通过在<code>pos</code>本身不是有效位置但位于节点的开始或结束时向上搜索节点层次结构。如果没有找到位置，则返回null。</p>
</dd>
<dt id="transform.dropPoint">
  <code><strong><a href="#transform.dropPoint">dropPoint</a></strong>(<a id="transform.dropPoint^doc" href="#transform.dropPoint^doc"><span class="param">doc</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="transform.dropPoint^pos" href="#transform.dropPoint^pos"><span class="param">pos</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <a id="transform.dropPoint^slice" href="#transform.dropPoint^slice"><span class="param">slice</span></a>:&nbsp;<a href="#model.Slice"><span class="type">Slice</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></code></dt>

<dd><p data-x-en="Finds a position at or around the given position where the given slice can be inserted. Will look at parent nodes' nearest boundary and try there, even if the original position wasn't directly at the start or end of that node. Returns null when no position was found.">在给定位置或其周围找到可以插入给定切片的位置。即使原始位置不直接在该节点的开始或结束，也会查看父节点的最近边界并尝试在那里插入。如果未找到位置，则返回 null。</p>
</dd>
</dl>
</section><section id="part_commands">
    <h2 class="module" id="commands">
      <a href="#commands">prosemirror-commands <span class="kind">module</span></a>
    </h2><p data-x-en="This module exports a number of commands, which are building block functions that encapsulate an editing action. A command function takes an editor state, optionally a dispatch function that it can use to dispatch a transaction and optionally an EditorView instance. It should return a boolean that indicates whether it could perform any action. When no dispatch callback is passed, the command should do a 'dry run', determining whether it is applicable, but not actually doing anything.">此模块导出许多<em>命令</em>，这些命令是封装编辑操作的构建块函数。命令函数接受一个编辑器状态，<em>可选地</em>接受一个<code>dispatch</code>函数，该函数可用于分发事务，<em>可选地</em>接受一个<code>EditorView</code>实例。它应返回一个布尔值，指示是否可以执行任何操作。当没有传递<code>dispatch</code>回调时，命令应进行“干运行”，确定其是否适用，但实际上不执行任何操作。</p>
<p data-x-en="These are mostly used to bind keys and define menu items.">这些主要用于绑定键和定义菜单项。</p>
<dl>
<dt id="commands.chainCommands">
  <code><strong><a href="#commands.chainCommands">chainCommands</a></strong>(...<a id="commands.chainCommands^commands" href="#commands.chainCommands^commands"><span class="param">commands</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#state.Command"><span class="type">Command</span></a>[]) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Combine a number of command functions into a single function (which calls them one by one until one returns true).">将多个命令函数组合成一个函数（依次调用它们，直到其中一个返回 true）。</p>
</dd>
<dt id="commands.deleteSelection">
  <code><strong><a href="#commands.deleteSelection">deleteSelection</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Delete the selection, if there is one.">删除选择内容（如果有）。</p>
</dd>
<dt id="commands.joinBackward">
  <code><strong><a href="#commands.joinBackward">joinBackward</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="If the selection is empty and at the start of a textblock, try to reduce the distance between that block and the one before it—if there's a block directly before it that can be joined, join them. If not, try to move the selected block closer to the next one in the document structure by lifting it out of its parent or moving it into a parent of the previous block. Will use the view for accurate (bidi-aware) start-of-textblock detection if given.">如果选择为空且位于文本块的开头，请尝试减少该块与前一个块之间的距离——如果前面有一个可以合并的块，则将它们合并。如果没有，请尝试通过将选定的块从其父块中提取出来或将其移动到前一个块的父块中，从而在文档结构中将选定的块移得更靠近下一个块。如果给定，将使用视图进行准确的（双向感知的）文本块开头检测。</p>
</dd>
<dt id="commands.selectNodeBackward">
  <code><strong><a href="#commands.selectNodeBackward">selectNodeBackward</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="When the selection is empty and at the start of a textblock, select the node before that textblock, if possible. This is intended to be bound to keys like backspace, after joinBackward or other deleting commands, as a fall-back behavior when the schema doesn't allow deletion at the selected point.">当选择为空且位于文本块的开头时，如果可能，选择该文本块之前的节点。这旨在绑定到像退格键这样的键，在<a href="#commands.joinBackward"><code>joinBackward</code></a>或其他删除命令之后，作为当模式不允许在选定点删除时的后备行为。</p>
</dd>
<dt id="commands.joinTextblockBackward">
  <code><strong><a href="#commands.joinTextblockBackward">joinTextblockBackward</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="A more limited form of joinBackward that only tries to join the current textblock to the one before it, if the cursor is at the start of a textblock.">一种更有限的<a href="$commands.joinBackward"><code>joinBackward</code></a>形式，仅在光标位于文本块开头时，尝试将当前文本块与之前的文本块连接起来。</p>
</dd>
<dt id="commands.joinForward">
  <code><strong><a href="#commands.joinForward">joinForward</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="If the selection is empty and the cursor is at the end of a textblock, try to reduce or remove the boundary between that block and the one after it, either by joining them or by moving the other block closer to this one in the tree structure. Will use the view for accurate start-of-textblock detection if given.">如果选择为空且光标位于文本块的末尾，请尝试减少或删除该块与其后的块之间的边界，可以通过将它们合并或在树结构中将另一个块移近此块来实现。如果提供，将使用视图进行准确的文本块起始检测。</p>
</dd>
<dt id="commands.selectNodeForward">
  <code><strong><a href="#commands.selectNodeForward">selectNodeForward</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="When the selection is empty and at the end of a textblock, select the node coming after that textblock, if possible. This is intended to be bound to keys like delete, after joinForward and similar deleting commands, to provide a fall-back behavior when the schema doesn't allow deletion at the selected point.">当选择为空且位于文本块末尾时，选择该文本块之后的节点（如果可能）。这旨在绑定到删除键之类的键之后
<a href="#commands.joinForward"><code>joinForward</code></a>和类似的删除命令，以在模式不允许在选定点删除时提供后备行为。</p>
</dd>
<dt id="commands.joinTextblockForward">
  <code><strong><a href="#commands.joinTextblockForward">joinTextblockForward</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="A more limited form of joinForward that only tries to join the current textblock to the one after it, if the cursor is at the end of a textblock.">一种更有限的<a href="$commands.joinForward"><code>joinForward</code></a>形式，仅在光标位于文本块末尾时尝试将当前文本块与后面的文本块连接起来。</p>
</dd>
<dt id="commands.joinUp">
  <code><strong><a href="#commands.joinUp">joinUp</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Join the selected block or, if there is a text selection, the closest ancestor block of the selection that can be joined, with the sibling above it.">加入所选块，或者如果有文本选择，则加入选择的最近祖先块与其上方的兄弟块。</p>
</dd>
<dt id="commands.joinDown">
  <code><strong><a href="#commands.joinDown">joinDown</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Join the selected block, or the closest ancestor of the selection that can be joined, with the sibling after it.">加入选定的块，或可以加入的选定块的最近祖先，与其后的兄弟节点。</p>
</dd>
<dt id="commands.lift">
  <code><strong><a href="#commands.lift">lift</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Lift the selected block, or the closest ancestor block of the selection that can be lifted, out of its parent node.">将选定的块或可以提升的最近的祖先块从其父节点中提升出来。</p>
</dd>
<dt id="commands.newlineInCode">
  <code><strong><a href="#commands.newlineInCode">newlineInCode</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="If the selection is in a node whose type has a truthy code property in its spec, replace the selection with a newline character.">如果选区位于其规范中具有真值<a href="#model.NodeSpec.code"><code>code</code></a>属性的节点中，则用换行符替换选区。</p>
</dd>
<dt id="commands.exitCode">
  <code><strong><a href="#commands.exitCode">exitCode</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="When the selection is in a node with a truthy code property in its spec, create a default block after the code block, and move the cursor there.">当选区位于其规范中具有真值<a href="#model.NodeSpec.code"><code>code</code></a>属性的节点时，在代码块后创建一个默认块，并将光标移到那里。</p>
</dd>
<dt id="commands.createParagraphNear">
  <code><strong><a href="#commands.createParagraphNear">createParagraphNear</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="If a block node is selected, create an empty paragraph before (if it is its parent's first child) or after it.">如果选择了一个块节点，则在其前面（如果它是其父节点的第一个子节点）或后面创建一个空段落。</p>
</dd>
<dt id="commands.liftEmptyBlock">
  <code><strong><a href="#commands.liftEmptyBlock">liftEmptyBlock</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="If the cursor is in an empty textblock that can be lifted, lift the block.">如果光标在可以提升的空文本块中，请提升该块。</p>
</dd>
<dt id="commands.splitBlock">
  <code><strong><a href="#commands.splitBlock">splitBlock</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Split the parent block of the selection. If the selection is a text selection, also delete its content.">拆分所选内容的父块。如果所选内容是文本选择，还要删除其内容。</p>
</dd>
<dt id="commands.splitBlockAs">
  <code><strong><a href="#commands.splitBlockAs">splitBlockAs</a></strong>(<div class="breaktype"><a id="commands.splitBlockAs^splitNode" href="#commands.splitBlockAs^splitNode"><span class="param">splitNode</span></a>⁠?:&nbsp;<span class="fn">fn</span>(<div class="breaktype"><a id="commands.splitBlockAs^splitNode^node" href="#commands.splitBlockAs^splitNode^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, </div><div class="breaktype"><a id="commands.splitBlockAs^splitNode^atEnd" href="#commands.splitBlockAs^splitNode^atEnd"><span class="param">atEnd</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a>, </div><div class="breaktype"><a id="commands.splitBlockAs^splitNode^$from" href="#commands.splitBlockAs^splitNode^$from"><span class="param">$from</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a></div>) →&nbsp;{<span class="prop">type</span>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, <span class="prop">attrs</span>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a>} | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Create a variant of splitBlock that uses a custom function to determine the type of the newly split off block.">创建一个<a href="#commands.splitBlock"><code>splitBlock</code></a>的变体，使用自定义函数来确定新分离块的类型。</p>
</dd>
<dt id="commands.splitBlockKeepMarks">
  <code><strong><a href="#commands.splitBlockKeepMarks">splitBlockKeepMarks</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Acts like splitBlock, but without resetting the set of active marks at the cursor.">像 <a href="#commands.splitBlock"><code>splitBlock</code></a>，但不会重置光标处的活动标记集。</p>
</dd>
<dt id="commands.selectParentNode">
  <code><strong><a href="#commands.selectParentNode">selectParentNode</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Move the selection to the node wrapping the current selection, if any. (Will not select the document node.)">将选择移动到包裹当前选择的节点（如果有）。(不会选择文档节点。)</p>
</dd>
<dt id="commands.selectAll">
  <code><strong><a href="#commands.selectAll">selectAll</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Select the whole document.">选择整个文档。</p>
</dd>
<dt id="commands.selectTextblockStart">
  <code><strong><a href="#commands.selectTextblockStart">selectTextblockStart</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Moves the cursor to the start of current text block.">将光标移动到当前文本块的开头。</p>
</dd>
<dt id="commands.selectTextblockEnd">
  <code><strong><a href="#commands.selectTextblockEnd">selectTextblockEnd</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Moves the cursor to the end of current text block.">将光标移动到当前文本块的末尾。</p>
</dd>
<dt id="commands.wrapIn">
  <code><strong><a href="#commands.wrapIn">wrapIn</a></strong>(<div class="breaktype"><a id="commands.wrapIn^nodeType" href="#commands.wrapIn^nodeType"><span class="param">nodeType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="commands.wrapIn^attrs" href="#commands.wrapIn^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span></div>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Wrap the selection in a node of the given type with the given attributes.">将选定内容包裹在具有给定属性的给定类型的节点中。</p>
</dd>
<dt id="commands.setBlockType">
  <code><strong><a href="#commands.setBlockType">setBlockType</a></strong>(<div class="breaktype"><a id="commands.setBlockType^nodeType" href="#commands.setBlockType^nodeType"><span class="param">nodeType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="commands.setBlockType^attrs" href="#commands.setBlockType^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span></div>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Returns a command that tries to set the selected textblocks to the given node type with the given attributes.">返回一个命令，尝试将选定的文本块设置为给定节点类型，并带有给定的属性。</p>
</dd>
<dt id="commands.toggleMark">
  <code><strong><a href="#commands.toggleMark">toggleMark</a></strong>(<div class="breaktype"><a id="commands.toggleMark^markType" href="#commands.toggleMark^markType"><span class="param">markType</span></a>:&nbsp;<a href="#model.MarkType"><span class="type">MarkType</span></a>, </div><div class="breaktype"><a id="commands.toggleMark^attrs" href="#commands.toggleMark^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span>, </div><div class="breaktype"><a id="commands.toggleMark^options" href="#commands.toggleMark^options"><span class="param">options</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></div>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Create a command function that toggles the given mark with the given attributes. Will return false when the current selection doesn't support that mark. This will remove the mark if any marks of that type exist in the selection, or add it otherwise. If the selection is empty, this applies to the stored marks instead of a range of the document.">创建一个命令函数，用于切换给定标记及其属性。当当前选择不支持该标记时，将返回<code>false</code>。如果选择中存在该类型的任何标记，则将其移除，否则添加它。如果选择为空，则应用于<a href="#state.EditorState.storedMarks">存储的标记</a>而不是文档的某个范围。</p>
<dl><dt id="commands.toggleMark^options">
  <code><strong><a href="#commands.toggleMark^options">options</a></strong></code></dt>

<dd><dl><dt id="commands.toggleMark^options.removeWhenPresent">
  <code><strong><a href="#commands.toggleMark^options.removeWhenPresent">removeWhenPresent</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Controls whether, when part of the selected range has the mark already and part doesn't, the mark is removed (true, the default) or added (false).">控制当所选范围的一部分已经有标记而另一部分没有时，标记是被移除（<code>true</code>，默认）还是被添加（<code>false</code>）。</p>
</dd><dt id="commands.toggleMark^options.enterInlineAtoms">
  <code><strong><a href="#commands.toggleMark^options.enterInlineAtoms">enterInlineAtoms</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When set to false, this will prevent the command from acting on the content of inline nodes marked as atoms that are completely covered by a selection range.">当设置为 false 时，这将阻止命令对标记为<a href="#model.NodeSpec.atom">原子</a>的内联节点的内容进行操作，这些节点完全被选区范围覆盖。</p>
</dd></dl></dd></dl></dd>
<dt id="commands.autoJoin">
  <code><strong><a href="#commands.autoJoin">autoJoin</a></strong>(<div class="breaktype"><a id="commands.autoJoin^command" href="#commands.autoJoin^command"><span class="param">command</span></a>:&nbsp;<a href="#state.Command"><span class="type">Command</span></a>, </div><div class="breaktype"><a id="commands.autoJoin^isJoinable" href="#commands.autoJoin^isJoinable"><span class="param">isJoinable</span></a>:&nbsp;<span class="fn">fn</span>(<a id="commands.autoJoin^isJoinable^before" href="#commands.autoJoin^isJoinable^before"><span class="param">before</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>, <a id="commands.autoJoin^isJoinable^after" href="#commands.autoJoin^isJoinable^after"><span class="param">after</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <div class="breaktype"><span class="keyword">readonly</span>&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>[]</div></div>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Wrap a command so that, when it produces a transform that causes two joinable nodes to end up next to each other, those are joined. Nodes are considered joinable when they are of the same type and when the isJoinable predicate returns true for them or, if an array of strings was passed, if their node type name is in that array.">将命令包装起来，以便当它产生一个变换导致两个可连接的节点最终相邻时，这些节点会被连接。当节点类型相同时，并且<code>isJoinable</code>谓词对它们返回true时，或者如果传递了一个字符串数组，如果它们的节点类型名称在该数组中，则认为这些节点是可连接的。</p>
</dd>
<dt id="commands.baseKeymap">
  <code><strong><a href="#commands.baseKeymap">baseKeymap</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#state.Command"><span class="type">Command</span></a>&gt;</code></dt>

<dd><p data-x-en="Depending on the detected platform, this will hold pcBasekeymap or macBaseKeymap.">根据检测到的平台，这将包含
<a href="#commands.pcBaseKeymap"><code>pcBasekeymap</code></a> 或
<a href="#commands.macBaseKeymap"><code>macBaseKeymap</code></a>。</p>
</dd>
<dt id="commands.pcBaseKeymap">
  <code><strong><a href="#commands.pcBaseKeymap">pcBaseKeymap</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#state.Command"><span class="type">Command</span></a>&gt;</code></dt>

<dd><p data-x-en="A basic keymap containing bindings not specific to any schema. Binds the following keys (when multiple commands are listed, they are chained with chainCommands):">一个基本的键映射，包含不特定于任何模式的绑定。
绑定以下键（当列出多个命令时，它们通过<a href="#commands.chainCommands"><code>chainCommands</code></a>链接）：</p>
<ul>
<li data-x-en="Enter to newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock"><strong>输入</strong>到<code>newlineInCode</code>，<code>createParagraphNear</code>，<code>liftEmptyBlock</code>，<code>splitBlock</code></li>
<li data-x-en="Mod-Enter to exitCode"><strong>Mod-Enter</strong> 到 <code>exitCode</code></li>
<li data-x-en="Backspace and Mod-Backspace to deleteSelection, joinBackward, selectNodeBackward"><strong>退格键</strong> 和 <strong>Mod-退格键</strong> 到 <code>deleteSelection</code>，<code>joinBackward</code>，<code>selectNodeBackward</code></li>
<li data-x-en="Delete and Mod-Delete to deleteSelection, joinForward, selectNodeForward"><strong>删除</strong> 和 <strong>Mod-删除</strong> 到 <code>deleteSelection</code>，<code>joinForward</code>，<code>selectNodeForward</code></li>
<li data-x-en="Mod-Delete to deleteSelection, joinForward, selectNodeForward"><strong>Mod-删除</strong> 到 <code>deleteSelection</code>，<code>joinForward</code>，<code>selectNodeForward</code></li>
<li data-x-en="Mod-a to selectAll"><strong>Mod-a</strong> 到 <code>selectAll</code></li>
</ul>
</dd>
<dt id="commands.macBaseKeymap">
  <code><strong><a href="#commands.macBaseKeymap">macBaseKeymap</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#state.Command"><span class="type">Command</span></a>&gt;</code></dt>

<dd><p data-x-en="A copy of pcBaseKeymap that also binds Ctrl-h like Backspace, Ctrl-d like Delete, Alt-Backspace like Ctrl-Backspace, and Ctrl-Alt-Backspace, Alt-Delete, and Alt-d like Ctrl-Delete."><code>pcBaseKeymap</code> 的副本，还将 <strong>Ctrl-h</strong> 绑定为退格键，<strong>Ctrl-d</strong> 绑定为删除键，<strong>Alt-Backspace</strong> 绑定为 Ctrl-退格键，<strong>Ctrl-Alt-Backspace</strong>、<strong>Alt-Delete</strong> 和 <strong>Alt-d</strong> 绑定为 Ctrl-删除键。</p>
</dd>
</dl>
</section><section id="part_history">
    <h2 class="module" id="history">
      <a href="#history">prosemirror-history <span class="kind">module</span></a>
    </h2><p data-x-en="An implementation of an undo/redo history for ProseMirror. This history is selective, meaning it does not just roll back to a previous state but can undo some changes while keeping other, later changes intact. (This is necessary for collaborative editing, and comes up in other situations as well.)">实现ProseMirror的撤销/重做历史。这个历史是<em>选择性</em>的，这意味着它不仅仅是回滚到以前的状态，而是可以撤销一些更改，同时保留其他更晚的更改。（这是协作编辑所必需的，并且在其他情况下也会出现。）</p>
<dl>
<dt id="history.history">
  <code><strong><a href="#history.history">history</a></strong>(<a id="history.history^config" href="#history.history^config"><span class="param">config</span></a>⁠?:&nbsp;<span class="type">Object</span><span class="defaultvalue"> = {}</span>) →&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p data-x-en="Returns a plugin that enables the undo history for an editor. The plugin will track undo and redo stacks, which can be used with the undo and redo commands.">返回一个启用编辑器撤销历史的插件。该插件将跟踪撤销和重做堆栈，可以与<a href="#history.undo"><code>undo</code></a>和<a href="#history.redo"><code>redo</code></a>命令一起使用。</p>
<p data-x-en="You can set an &quot;addToHistory&quot; metadata property of false on a transaction to prevent it from being rolled back by undo.">你可以在事务上设置<code>"addToHistory"</code> <a href="#state.Transaction.setMeta">元数据属性</a>为<code>false</code>，以防止它被撤销操作回滚。</p>
<dl><dt id="history.history^config">
  <code><strong><a href="#history.history^config">config</a></strong></code></dt>

<dd><dl><dt id="history.history^config.depth">
  <code><strong><a href="#history.history^config.depth">depth</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The amount of history events that are collected before the oldest events are discarded. Defaults to 100.">收集的历史事件数量，在最早的事件被丢弃之前。默认值为100。</p>
</dd><dt id="history.history^config.newGroupDelay">
  <code><strong><a href="#history.history^config.newGroupDelay">newGroupDelay</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The delay between changes after which a new group should be started. Defaults to 500 (milliseconds). Note that when changes aren't adjacent, a new group is always started.">更改之间的延迟时间之后应启动一个新组。默认值为500（毫秒）。请注意，当更改不相邻时，总是会启动一个新组。</p>
</dd></dl></dd></dl></dd>
<dt id="history.undo">
  <code><strong><a href="#history.undo">undo</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="A command function that undoes the last change, if any.">一个撤销上次更改（如果有）的命令功能。</p>
</dd>
<dt id="history.redo">
  <code><strong><a href="#history.redo">redo</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="A command function that redoes the last undone change, if any.">一个重做上次撤销更改的命令功能（如果有的话）。</p>
</dd>
<dt id="history.undoNoScroll">
  <code><strong><a href="#history.undoNoScroll">undoNoScroll</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="A command function that undoes the last change. Don't scroll the selection into view.">一个撤销上次更改的命令功能。不要滚动选择到视图中。</p>
</dd>
<dt id="history.redoNoScroll">
  <code><strong><a href="#history.redoNoScroll">redoNoScroll</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="A command function that redoes the last undone change. Don't scroll the selection into view.">一个重做上次撤销更改的命令功能。不要滚动选择到视图中。</p>
</dd>
<dt id="history.undoDepth">
  <code><strong><a href="#history.undoDepth">undoDepth</a></strong>(<a id="history.undoDepth^state" href="#history.undoDepth^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="The amount of undoable events available in a given state.">在给定状态下可撤销事件的数量。</p>
</dd>
<dt id="history.redoDepth">
  <code><strong><a href="#history.redoDepth">redoDepth</a></strong>(<a id="history.redoDepth^state" href="#history.redoDepth^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<span class="type">any</span></code></dt>

<dd><p data-x-en="The amount of redoable events available in a given editor state.">给定编辑器状态下可重做事件的数量。</p>
</dd>
<dt id="history.closeHistory">
  <code><strong><a href="#history.closeHistory">closeHistory</a></strong>(<a id="history.closeHistory^tr" href="#history.closeHistory^tr"><span class="param">tr</span></a>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Set a flag on the given transaction that will prevent further steps from being appended to an existing history event (so that they require a separate undo command to undo).">在给定的事务上设置一个标志，以防止进一步的步骤被附加到现有的历史事件中（这样它们需要单独的撤销命令来撤销）。</p>
</dd>
</dl>
</section><section id="part_collab">
    <h2 class="module" id="collab">
      <a href="#collab">prosemirror-collab <span class="kind">module</span></a>
    </h2><p data-x-en="This module implements an API into which a communication channel for collaborative editing can be hooked. See the guide for more details and an example.">该模块实现了一个API，可以挂接用于协作编辑的通信通道。有关更多详细信息和示例，请参见<a href="/docs/guide/#collab">指南</a>。</p>
<dl>
<dt id="collab.collab">
  <code><strong><a href="#collab.collab">collab</a></strong>(<a id="collab.collab^config" href="#collab.collab^config"><span class="param">config</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a><span class="defaultvalue"> = {}</span>) →&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p data-x-en="Creates a plugin that enables the collaborative editing framework for the editor.">创建一个插件，使编辑器的协作编辑框架成为可能。</p>
<dl><dt id="collab.collab^config">
  <code><strong><a href="#collab.collab^config">config</a></strong></code></dt>

<dd><dl><dt id="collab.collab^config.version">
  <code><strong><a href="#collab.collab^config.version">version</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="The starting version number of the collaborative editing. Defaults to 0.">协同编辑的起始版本号。默认为 0。</p>
</dd><dt id="collab.collab^config.clientID">
  <code><strong><a href="#collab.collab^config.clientID">clientID</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></code></dt>

<dd><p data-x-en="This client's ID, used to distinguish its changes from those of other clients. Defaults to a random 32-bit number.">此客户端的ID，用于将其更改与其他客户端的更改区分开来。默认值为一个随机的32位数字。</p>
</dd></dl></dd></dl></dd>
<dt id="collab.getVersion">
  <code><strong><a href="#collab.getVersion">getVersion</a></strong>(<a id="collab.getVersion^state" href="#collab.getVersion^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></code></dt>

<dd><p data-x-en="Get the version up to which the collab plugin has synced with the central authority.">获取collab插件已与中央权限同步的版本。</p>
</dd>
<dt id="collab.receiveTransaction">
  <code><strong><a href="#collab.receiveTransaction">receiveTransaction</a></strong>(<div class="breaktype"><a id="collab.receiveTransaction^state" href="#collab.receiveTransaction^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>, </div><div class="breaktype"><a id="collab.receiveTransaction^steps" href="#collab.receiveTransaction^steps"><span class="param">steps</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#transform.Step"><span class="type">Step</span></a>[], </div><div class="breaktype"><a id="collab.receiveTransaction^clientIDs" href="#collab.receiveTransaction^clientIDs"><span class="param">clientIDs</span></a>:&nbsp;<span class="keyword">readonly</span>&nbsp;(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>)[], </div><div class="breaktype"><a id="collab.receiveTransaction^options" href="#collab.receiveTransaction^options"><span class="param">options</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a><span class="defaultvalue"> = {}</span></div>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a></code></dt>

<dd><p data-x-en="Create a transaction that represents a set of new steps received from the authority. Applying this transaction moves the state forward to adjust to the authority's view of the document.">创建一个表示从权威接收到的一组新步骤的事务。应用此事务将使状态前进，以调整到权威对文档的视图。</p>
<dl><dt id="collab.receiveTransaction^options">
  <code><strong><a href="#collab.receiveTransaction^options">options</a></strong></code></dt>

<dd><dl><dt id="collab.receiveTransaction^options.mapSelectionBackward">
  <code><strong><a href="#collab.receiveTransaction^options.mapSelectionBackward">mapSelectionBackward</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When enabled (the default is false), if the current selection is a text selection, its sides are mapped with a negative bias for this transaction, so that content inserted at the cursor ends up after the cursor. Users usually prefer this, but it isn't done by default for reasons of backwards compatibility.">启用时（默认值为<code>false</code>），如果当前选择是<a href="#state.TextSelection">文本选择</a>，则在此事务中其两侧将映射为负偏差，以便在光标处插入的内容最终位于光标之后。用户通常更喜欢这样，但由于向后兼容性原因，默认情况下不会这样做。</p>
</dd></dl></dd></dl></dd>
<dt id="collab.sendableSteps">
  <code><strong><a href="#collab.sendableSteps">sendableSteps</a></strong>(<a id="collab.sendableSteps^state" href="#collab.sendableSteps^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>) →&nbsp;{<div class="breaktype"><span class="prop">version</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><span class="prop">steps</span>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#transform.Step"><span class="type">Step</span></a>[], </div><div class="breaktype"><span class="prop">clientID</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, </div><div class="breaktype"><span class="prop">origins</span>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>[]</div>} | <div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div></code></dt>

<dd><p data-x-en="Provides data describing the editor's unconfirmed steps, which need to be sent to the central authority. Returns null when there is nothing to send.">提供描述编辑器未确认步骤的数据，这些数据需要发送到中央机构。当没有要发送的内容时，返回null。</p>
<p data-x-en="origins holds the original transactions that produced each steps. This can be useful for looking up time stamps and other metadata for the steps, but note that the steps may have been rebased, whereas the origin transactions are still the old, unchanged objects."><code>origins</code> 保存了产生每个步骤的<em>原始</em>交易。这对于查找步骤的时间戳和其他元数据很有用，但请注意，步骤可能已经被重新定位，而原始交易仍然是旧的、未更改的对象。</p>
</dd>
</dl>
</section><section id="part_keymap">
    <h2 class="module" id="keymap">
      <a href="#keymap">prosemirror-keymap <span class="kind">module</span></a>
    </h2><p data-x-en="A plugin for conveniently defining key bindings.">一个方便定义键绑定的插件。</p>
<dl>
<dt id="keymap.keymap">
  <code><strong><a href="#keymap.keymap">keymap</a></strong>(<a id="keymap.keymap^bindings" href="#keymap.keymap^bindings"><span class="param">bindings</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#state.Command"><span class="type">Command</span></a>&gt;) →&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p data-x-en="Create a keymap plugin for the given set of bindings.">为给定的绑定集创建一个键映射插件。</p>
<p data-x-en="Bindings should map key names to command-style functions, which will be called with (EditorState, dispatch, EditorView) arguments, and should return true when they've handled the key. Note that the view argument isn't part of the command protocol, but can be used as an escape hatch if a binding needs to directly interact with the UI.">绑定应将键名映射到<a href="#commands">命令</a>样式的函数，这些函数将使用<code>(EditorState, dispatch, EditorView)</code>参数调用，并且在处理键时应返回true。请注意，view参数不是命令协议的一部分，但如果绑定需要直接与UI交互，可以用作逃生舱口。</p>
<p data-x-en="Key names may be strings like &quot;Shift-Ctrl-Enter&quot;—a key identifier prefixed with zero or more modifiers. Key identifiers are based on the strings that can appear in KeyEvent.key. Use lowercase letters to refer to letter keys (or uppercase letters if you want shift to be held). You may use &quot;Space&quot; as an alias for the &quot; &quot; name.">键名可以是像 <code>"Shift-Ctrl-Enter"</code> 这样的字符串——一个键标识符前缀加上零个或多个修饰符。键标识符基于可以出现在 <a href="https:///developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key"><code>KeyEvent.key</code></a> 中的字符串。使用小写字母来表示字母键（如果希望按住 shift 键，则使用大写字母）。你可以使用 <code>"Space"</code> 作为 <code>" "</code> 名称的别名。</p>
<p data-x-en="Modifiers can be given in any order. Shift- (or s-), Alt- (or a-), Ctrl- (or c- or Control-) and Cmd- (or m- or Meta-) are recognized. For characters that are created by holding shift, the Shift- prefix is implied, and should not be added explicitly.">修饰符可以以任何顺序给出。<code>Shift-</code>（或<code>s-</code>）、<code>Alt-</code>（或<code>a-</code>）、<code>Ctrl-</code>（或<code>c-</code>或<code>Control-</code>）和<code>Cmd-</code>（或<code>m-</code>或<code>Meta-</code>）是被识别的。对于通过按住 shift 创建的字符，<code>Shift-</code>前缀是隐含的，不应明确添加。</p>
<p data-x-en="You can use Mod- as a shorthand for Cmd- on Mac and Ctrl- on other platforms.">你可以使用<code>Mod-</code>作为Mac上的<code>Cmd-</code>和其他平台上的<code>Ctrl-</code>的简写。</p>
<p data-x-en="You can add multiple keymap plugins to an editor. The order in which they appear determines their precedence (the ones early in the array get to dispatch first).">您可以向编辑器添加多个键映射插件。它们出现的顺序决定了它们的优先级（数组中靠前的插件优先分派）。</p>
</dd>
<dt id="keymap.keydownHandler">
  <code><strong><a href="#keymap.keydownHandler">keydownHandler</a></strong>(<a id="keymap.keydownHandler^bindings" href="#keymap.keydownHandler^bindings"><span class="param">bindings</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a>&lt;<a href="#state.Command"><span class="type">Command</span></a>&gt;) →&nbsp;<span class="fn">fn</span>(<a id="keymap.keydownHandler^returns^view" href="#keymap.keydownHandler^returns^view"><span class="param">view</span></a>:&nbsp;<a href="#view.EditorView"><span class="type">EditorView</span></a>, <a id="keymap.keydownHandler^returns^event" href="#keymap.keydownHandler^returns^event"><span class="param">event</span></a>:&nbsp;<a href="https://developer.mozilla.org/en/docs/DOM/KeyboardEvent"><span class="type">KeyboardEvent</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="Given a set of bindings (using the same format as keymap), return a keydown handler that handles them.">给定一组绑定（使用与<a href="#keymap.keymap"><code>keymap</code></a>相同的格式），返回一个处理它们的<a href="#view.EditorProps.handleKeyDown">keydown处理程序</a>。</p>
</dd>
</dl>
</section><section id="part_inputrules">
    <h2 class="module" id="inputrules">
      <a href="#inputrules">prosemirror-inputrules <span class="kind">module</span></a>
    </h2><p data-x-en="This module defines a plugin for attaching input rules to an editor, which can react to or transform text typed by the user. It also comes with a bunch of default rules that can be enabled in this plugin.">此模块定义了一个插件，用于将<em>输入规则</em>附加到编辑器，可以对用户输入的文本做出反应或进行转换。它还附带了一些可以在此插件中启用的默认规则。</p>
<dl>
<dt id="inputrules.InputRule">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#inputrules.InputRule">InputRule</a></h4>
</dt>

<dd><p data-x-en="Input rules are regular expressions describing a piece of text that, when typed, causes something to happen. This might be changing two dashes into an emdash, wrapping a paragraph starting with &quot;> &quot; into a blockquote, or something entirely different.">输入规则是描述一段文本的正则表达式，当输入时，会引发某些事情的发生。这可能是将两个破折号变成一个长破折号，将以<code>"&gt; "</code>开头的段落包裹成一个引用块，或者是完全不同的事情。</p>
<dl><dt id="inputrules.InputRule.constructor">
  <code><span class="keyword">new</span> <strong><a href="#inputrules.InputRule.constructor">InputRule</a></strong>(<div class="breaktype"><a id="inputrules.InputRule.constructor^match" href="#inputrules.InputRule.constructor^match"><span class="param">match</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><span class="type">RegExp</span></a>, </div><div class="breaktype"><a id="inputrules.InputRule.constructor^handler" href="#inputrules.InputRule.constructor^handler"><span class="param">handler</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a> | <div class="breaktype"><span class="fn">fn</span>(<div class="breaktype"><a id="inputrules.InputRule.constructor^handler^state" href="#inputrules.InputRule.constructor^handler^state"><span class="param">state</span></a>:&nbsp;<a href="#state.EditorState"><span class="type">EditorState</span></a>, </div><div class="breaktype"><a id="inputrules.InputRule.constructor^handler^match" href="#inputrules.InputRule.constructor^handler^match"><span class="param">match</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match#Return_value"><span class="type">RegExpMatchArray</span></a>, </div><div class="breaktype"><a id="inputrules.InputRule.constructor^handler^start" href="#inputrules.InputRule.constructor^handler^start"><span class="param">start</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, </div><div class="breaktype"><a id="inputrules.InputRule.constructor^handler^end" href="#inputrules.InputRule.constructor^handler^end"><span class="param">end</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a></div>) →&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div>, </div><div class="breaktype"><a id="inputrules.InputRule.constructor^options" href="#inputrules.InputRule.constructor^options"><span class="param">options</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a><span class="defaultvalue"> = {}</span></div>)</code></dt>

<dd><p data-x-en="Create an input rule. The rule applies when the user typed something and the text directly in front of the cursor matches match, which should end with $.">创建输入规则。当用户输入内容且光标前的文本匹配<code>match</code>时，该规则适用，匹配内容应以<code>$</code>结尾。</p>
<p data-x-en="The handler can be a string, in which case the matched text, or the first matched group in the regexp, is replaced by that string."><code>handler</code> 可以是一个字符串，在这种情况下，匹配的文本或正则表达式中的第一个匹配组将被该字符串替换。</p>
<p data-x-en="Or a it can be a function, which will be called with the match array produced by RegExp.exec, as well as the start and end of the matched range, and which can return a transaction that describes the rule's effect, or null to indicate the input was not handled.">或者它可以是一个函数，该函数将使用由<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec"><code>RegExp.exec</code></a>生成的匹配数组，以及匹配范围的开始和结束，并且可以返回描述规则效果的<a href="#state.Transaction">事务</a>，或者返回null以表示未处理输入。</p>
<dl><dt id="inputrules.InputRule.constructor^options">
  <code><strong><a href="#inputrules.InputRule.constructor^options">options</a></strong></code></dt>

<dd><dl><dt id="inputrules.InputRule.constructor^options.undoable">
  <code><strong><a href="#inputrules.InputRule.constructor^options.undoable">undoable</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></code></dt>

<dd><p data-x-en="When set to false, undoInputRule doesn't work on this rule.">当设置为 false 时，<a href="#inputrules.undoInputRule"><code>undoInputRule</code></a> 不适用于此规则。</p>
</dd><dt id="inputrules.InputRule.constructor^options.inCode">
  <code><strong><a href="#inputrules.InputRule.constructor^options.inCode">inCode</a></strong>⁠?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <span class="string">"only"</span></code></dt>

<dd><p data-x-en="By default, input rules will not apply inside nodes marked as code. Set this to true to change that, or to &quot;only&quot; to only match in such nodes.">默认情况下，输入规则不会应用于标记为<a href="#model.NodeSpec.code">code</a>的节点。将其设置为true以更改此设置，或设置为<code>"only"</code>以<em>仅</em>在此类节点中匹配。</p>
</dd></dl></dd></dl></dd><dt id="inputrules.InputRule.inCode">
  <code><strong><a href="#inputrules.InputRule.inCode">inCode</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a> | <span class="string">"only"</span></code></dt>

<dd></dd></dl>

</dd>
<dt id="inputrules.inputRules">
  <code><strong><a href="#inputrules.inputRules">inputRules</a></strong>({<span class="prop">rules</span>:&nbsp;<span class="keyword">readonly</span>&nbsp;<a href="#inputrules.InputRule"><span class="type">InputRule</span></a>[]}) →&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a>&lt;<div class="breaktype">{<span class="prop">transform</span>:&nbsp;<a href="#state.Transaction"><span class="type">Transaction</span></a>, <span class="prop">from</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">to</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><span class="prim">number</span></a>, <span class="prop">text</span>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>} | <div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div></div>&gt;</code></dt>

<dd><p data-x-en="Create an input rules plugin. When enabled, it will cause text input that matches any of the given rules to trigger the rule's action.">创建一个输入规则插件。启用后，它将导致与任何给定规则匹配的文本输入触发该规则的操作。</p>
</dd>
<dt id="inputrules.undoInputRule">
  <code><strong><a href="#inputrules.undoInputRule">undoInputRule</a></strong>: <a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="This is a command that will undo an input rule, if applying such a rule was the last thing that the user did.">这是一个命令，将撤销输入规则，如果应用这样的规则是用户最后做的事情。</p>
</dd>
</dl>
<p data-x-en="The module comes with a number of predefined rules:">该模块附带许多预定义规则：</p>
<dl>
<dt id="inputrules.emDash">
  <code><strong><a href="#inputrules.emDash">emDash</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p data-x-en="Converts double dashes to an emdash.">将双破折号转换为长破折号。</p>
</dd>
<dt id="inputrules.ellipsis">
  <code><strong><a href="#inputrules.ellipsis">ellipsis</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p data-x-en="Converts three dots to an ellipsis character.">将三个点转换为省略号字符。</p>
</dd>
<dt id="inputrules.openDoubleQuote">
  <code><strong><a href="#inputrules.openDoubleQuote">openDoubleQuote</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p data-x-en="“Smart” opening double quotes.">“智能”开放双引号。</p>
</dd>
<dt id="inputrules.closeDoubleQuote">
  <code><strong><a href="#inputrules.closeDoubleQuote">closeDoubleQuote</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p data-x-en="“Smart” closing double quotes.">“Smart” 关闭双引号。</p>
</dd>
<dt id="inputrules.openSingleQuote">
  <code><strong><a href="#inputrules.openSingleQuote">openSingleQuote</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p data-x-en="“Smart” opening single quotes.">“智能”开放单引号。</p>
</dd>
<dt id="inputrules.closeSingleQuote">
  <code><strong><a href="#inputrules.closeSingleQuote">closeSingleQuote</a></strong>: <a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p data-x-en="“Smart” closing single quotes.">“智能”关闭单引号。</p>
</dd>
<dt id="inputrules.smartQuotes">
  <code><strong><a href="#inputrules.smartQuotes">smartQuotes</a></strong>: <span class="keyword">readonly</span>&nbsp;<a href="#inputrules.InputRule"><span class="type">InputRule</span></a>[]</code></dt>

<dd><p data-x-en="Smart-quote related input rules.">智能引号相关输入规则。</p>
</dd>
</dl>
<p data-x-en="These utility functions take schema-specific parameters and create input rules specific to that schema.">这些实用函数采用特定于模式的参数并创建特定于该模式的输入规则。</p>
<dl>
<dt id="inputrules.wrappingInputRule">
  <code><strong><a href="#inputrules.wrappingInputRule">wrappingInputRule</a></strong>(<div class="breaktype"><a id="inputrules.wrappingInputRule^regexp" href="#inputrules.wrappingInputRule^regexp"><span class="param">regexp</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><span class="type">RegExp</span></a>, </div><div class="breaktype"><a id="inputrules.wrappingInputRule^nodeType" href="#inputrules.wrappingInputRule^nodeType"><span class="param">nodeType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="inputrules.wrappingInputRule^getAttrs" href="#inputrules.wrappingInputRule^getAttrs"><span class="param">getAttrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <div class="breaktype"><span class="fn">fn</span>(<a id="inputrules.wrappingInputRule^getAttrs^matches" href="#inputrules.wrappingInputRule^getAttrs^matches"><span class="param">matches</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match#Return_value"><span class="type">RegExpMatchArray</span></a>) →&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a> | </div><div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div><span class="defaultvalue"> = null</span>, </div><div class="breaktype"><a id="inputrules.wrappingInputRule^joinPredicate" href="#inputrules.wrappingInputRule^joinPredicate"><span class="param">joinPredicate</span></a>⁠?:&nbsp;<span class="fn">fn</span>(<a id="inputrules.wrappingInputRule^joinPredicate^match" href="#inputrules.wrappingInputRule^joinPredicate^match"><span class="param">match</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match#Return_value"><span class="type">RegExpMatchArray</span></a>, <a id="inputrules.wrappingInputRule^joinPredicate^node" href="#inputrules.wrappingInputRule^joinPredicate^node"><span class="param">node</span></a>:&nbsp;<a href="#model.Node"><span class="type">Node</span></a>) →&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><span class="prim">boolean</span></a></div>) →&nbsp;<a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p data-x-en="Build an input rule for automatically wrapping a textblock when a given string is typed. The regexp argument is directly passed through to the InputRule constructor. You'll probably want the regexp to start with ^, so that the pattern can only occur at the start of a textblock.">为在输入特定字符串时自动包装文本块构建输入规则。<code>regexp</code> 参数直接传递给 <code>InputRule</code> 构造函数。你可能希望正则表达式以 <code>^</code> 开头，这样模式只能出现在文本块的开头。</p>
<p data-x-en="nodeType is the type of node to wrap in. If it needs attributes, you can either pass them directly, or pass a function that will compute them from the regular expression match."><code>nodeType</code> 是要包装的节点类型。如果它需要属性，你可以直接传递它们，或者传递一个函数，该函数将从正则表达式匹配中计算它们。</p>
<p data-x-en="By default, if there's a node with the same type above the newly wrapped node, the rule will try to join those two nodes. You can pass a join predicate, which takes a regular expression match and the node before the wrapped node, and can return a boolean to indicate whether a join should happen.">默认情况下，如果在新包装的节点上方有一个相同类型的节点，规则将尝试<a href="#transform.Transform.join">合并</a>这两个节点。您可以传递一个合并谓词，该谓词接受一个正则表达式匹配和包装节点之前的节点，并可以返回一个布尔值以指示是否应进行合并。</p>
</dd>
<dt id="inputrules.textblockTypeInputRule">
  <code><strong><a href="#inputrules.textblockTypeInputRule">textblockTypeInputRule</a></strong>(<div class="breaktype"><a id="inputrules.textblockTypeInputRule^regexp" href="#inputrules.textblockTypeInputRule^regexp"><span class="param">regexp</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><span class="type">RegExp</span></a>, </div><div class="breaktype"><a id="inputrules.textblockTypeInputRule^nodeType" href="#inputrules.textblockTypeInputRule^nodeType"><span class="param">nodeType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="inputrules.textblockTypeInputRule^getAttrs" href="#inputrules.textblockTypeInputRule^getAttrs"><span class="param">getAttrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <div class="breaktype"><span class="fn">fn</span>(<a id="inputrules.textblockTypeInputRule^getAttrs^match" href="#inputrules.textblockTypeInputRule^getAttrs^match"><span class="param">match</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match#Return_value"><span class="type">RegExpMatchArray</span></a>) →&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a> | </div><div class="breaktype"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a></div><span class="defaultvalue"> = null</span></div>) →&nbsp;<a href="#inputrules.InputRule"><span class="type">InputRule</span></a></code></dt>

<dd><p data-x-en="Build an input rule that changes the type of a textblock when the matched text is typed into it. You'll usually want to start your regexp with ^ to that it is only matched at the start of a textblock. The optional getAttrs parameter can be used to compute the new node's attributes, and works the same as in the wrappingInputRule function.">构建一个输入规则，当匹配的文本被输入到文本块中时，改变文本块的类型。你通常会希望以<code>^</code>开始你的正则表达式，这样它只会在文本块的开头匹配。可选的<code>getAttrs</code>参数可以用来计算新节点的属性，并且与<code>wrappingInputRule</code>函数中的用法相同。</p>
</dd>
</dl>
</section><section id="part_gapcursor">
    <h2 class="module" id="gapcursor">
      <a href="#gapcursor">prosemirror-gapcursor <span class="kind">module</span></a>
    </h2><p data-x-en="This is a plugin that adds a type of selection for focusing places that don't allow regular selection (such as positions that have a leaf block node, table, or the end of the document both before and after them).">这是一个插件，添加了一种选择类型，用于聚焦不允许常规选择的位置（例如，具有叶块节点、表格或文档前后都有的结束位置）。</p>
<p data-x-en="You'll probably want to load style/gapcursor.css, which contains basic styling for the simulated cursor (as a short, blinking horizontal stripe).">您可能需要加载<code>style/gapcursor.css</code>，其中包含模拟光标的基本样式（作为一个短的、闪烁的水平条纹）。</p>
<p data-x-en="By default, gap cursor are only allowed in places where the default content node (in the schema content constraints) is a textblock node. You can customize this by adding an allowGapCursor property to your node specs—if it's true, gap cursor are allowed everywhere in that node, if it's false they are never allowed.">默认情况下，间隙光标只允许在默认内容节点（在模式内容约束中）是文本块节点的地方。您可以通过在节点规范中添加一个<code>allowGapCursor</code>属性来自定义此设置——如果为true，则在该节点中的任何地方都允许间隙光标，如果为<code>false</code>，则永远不允许。</p>
<dl>
<dt id="gapcursor.gapCursor">
  <code><strong><a href="#gapcursor.gapCursor">gapCursor</a></strong>() →&nbsp;<a href="#state.Plugin"><span class="type">Plugin</span></a></code></dt>

<dd><p data-x-en="Create a gap cursor plugin. When enabled, this will capture clicks near and arrow-key-motion past places that don't have a normally selectable position nearby, and create a gap cursor selection for them. The cursor is drawn as an element with class ProseMirror-gapcursor. You can either include style/gapcursor.css from the package's directory or add your own styles to make it visible.">创建一个间隙光标插件。启用后，它将捕获点击
靠近和箭头键移动经过的地方，这些地方附近没有通常
可选择的位置，并为它们创建一个间隙光标选择。光标绘制为一个带有类
<code>ProseMirror-gapcursor</code>的元素。你可以从包的目录中包含
<code>style/gapcursor.css</code>，或者添加你自己的样式使其可见。</p>
</dd>
<dt id="gapcursor.GapCursor">
  <h4>
    <code><span class="keyword">class</span></code>
    <a href="#gapcursor.GapCursor">GapCursor</a> <code><span class="keyword">extends</span> <a href="#state.Selection"><span class="type">Selection</span></a></code></h4>
</dt>

<dd><p data-x-en="Gap cursor selections are represented using this class. Its $anchor and $head properties both point at the cursor position.">使用此类表示间隙光标选择。其<code>$anchor</code>和<code>$head</code>属性都指向光标位置。</p>
<dl><dt id="gapcursor.GapCursor.constructor">
  <code><span class="keyword">new</span> <strong><a href="#gapcursor.GapCursor.constructor">GapCursor</a></strong>(<a id="gapcursor.GapCursor.constructor^$pos" href="#gapcursor.GapCursor.constructor^$pos"><span class="param">$pos</span></a>:&nbsp;<a href="#model.ResolvedPos"><span class="type">ResolvedPos</span></a>)</code></dt>

<dd><p data-x-en="Create a gap cursor.">创建一个间隙光标。</p>
</dd></dl>

</dd>
</dl>
</section><section id="part_schema-basic">
    <h2 class="module" id="schema-basic">
      <a href="#schema-basic">prosemirror-schema-basic <span class="kind">module</span></a>
    </h2><p data-x-en="This module defines a simple schema. You can use it directly, extend it, or just pick out a few node and mark specs to use in a new schema.">此模块定义了一个简单的模式。您可以直接使用它，扩展它，或者只选择一些节点和标记规范在一个新模式中使用。</p>
<dl>
<dt id="schema-basic.schema">
  <code><strong><a href="#schema-basic.schema">schema</a></strong>: <a href="#model.Schema"><span class="type">Schema</span></a>&lt;<div class="breaktype"><span class="string">"blockquote"</span> | <div class="breaktype"><span class="string">"doc"</span> | </div><div class="breaktype"><span class="string">"paragraph"</span> | </div><div class="breaktype"><span class="string">"horizontal_rule"</span> | </div><div class="breaktype"><span class="string">"heading"</span> | </div><div class="breaktype"><span class="string">"code_block"</span> | </div><div class="breaktype"><span class="string">"text"</span> | </div><div class="breaktype"><span class="string">"image"</span> | </div><div class="breaktype"><span class="string">"hard_break"</span></div>, </div><div class="breaktype"><span class="string">"code"</span> | <span class="string">"em"</span> | <span class="string">"strong"</span> | <span class="string">"link"</span></div>&gt;</code></dt>

<dd><p data-x-en="This schema roughly corresponds to the document schema used by CommonMark, minus the list elements, which are defined in the prosemirror-schema-list module.">这个模式大致对应于<a href="http://commonmark.org/">CommonMark</a>使用的文档模式，减去列表元素，这些元素在<a href="#schema-list"><code>prosemirror-schema-list</code></a>模块中定义。</p>
<p data-x-en="To reuse elements from this schema, extend or read from its spec.nodes and spec.marks properties.">要重用此模式中的元素，请扩展或读取其<code>spec.nodes</code>和<code>spec.marks</code><a href="#model.Schema.spec">属性</a>。</p>
</dd>
<dt id="schema-basic.nodes">
  <code><strong><a href="#schema-basic.nodes">nodes</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p data-x-en="Specs for the nodes defined in this schema."><a href="#model.NodeSpec">节点规格</a>在此架构中定义。</p>
<dl><dt id="schema-basic.nodes.doc">
  <code><strong><a href="#schema-basic.nodes.doc">doc</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="NodeSpec The top level document node.">NodeSpec 顶级文档节点。</p>
</dd><dt id="schema-basic.nodes.paragraph">
  <code><strong><a href="#schema-basic.nodes.paragraph">paragraph</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="A plain paragraph textblock. Represented in the DOM as a <p> element.">一个普通的段落文本块。在DOM中表示为<code>&lt;p&gt;</code>元素。</p>
</dd><dt id="schema-basic.nodes.blockquote">
  <code><strong><a href="#schema-basic.nodes.blockquote">blockquote</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="A blockquote (<blockquote>) wrapping one or more blocks."><code>&lt;blockquote&gt;</code> 包含一个或多个块。</p>
</dd><dt id="schema-basic.nodes.horizontal_rule">
  <code><strong><a href="#schema-basic.nodes.horizontal_rule">horizontal_rule</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="A horizontal rule (<hr>).">一个水平线（<code>&lt;hr&gt;</code>）。</p>
</dd><dt id="schema-basic.nodes.heading">
  <code><strong><a href="#schema-basic.nodes.heading">heading</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="A heading textblock, with a level attribute that should hold the number 1 to 6. Parsed and serialized as <h1> to <h6> elements.">一个标题文本块，具有一个<code>level</code>属性，该属性应包含数字1到6。解析并序列化为<code>&lt;h1&gt;</code>到<code>&lt;h6&gt;</code>元素。</p>
</dd><dt id="schema-basic.nodes.code_block">
  <code><strong><a href="#schema-basic.nodes.code_block">code_block</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="A code listing. Disallows marks or non-text inline nodes by default. Represented as a <pre> element with a <code> element inside of it.">代码列表。默认情况下不允许标记或非文本内联节点。表示为<code>&lt;pre&gt;</code>元素，内部包含<code>&lt;code&gt;</code>元素。</p>
</dd><dt id="schema-basic.nodes.text">
  <code><strong><a href="#schema-basic.nodes.text">text</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="The text node.">文本节点</p>
</dd><dt id="schema-basic.nodes.image">
  <code><strong><a href="#schema-basic.nodes.image">image</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="An inline image (<img>) node. Supports src, alt, and href attributes. The latter two default to the empty string.">一个内联图像（<code>&lt;img&gt;</code>）节点。支持<code>src</code>、<code>alt</code>和<code>href</code>属性。后两者默认为空字符串。</p>
</dd><dt id="schema-basic.nodes.hard_break">
  <code><strong><a href="#schema-basic.nodes.hard_break">hard_break</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="A hard line break, represented in the DOM as <br>.">一个硬换行符，在DOM中表示为<code>&lt;br&gt;</code>。</p>
</dd></dl></dd>
<dt id="schema-basic.marks">
  <code><strong><a href="#schema-basic.marks">marks</a></strong>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object"><span class="type">Object</span></a></code></dt>

<dd><p data-x-en="Specs for the marks in the schema."><a href="#model.MarkSpec">标记规格</a> 用于架构中的标记。</p>
<dl><dt id="schema-basic.marks.link">
  <code><strong><a href="#schema-basic.marks.link">link</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p data-x-en="A link. Has href and title attributes. title defaults to the empty string. Rendered and parsed as an <a> element.">一个链接。具有<code>href</code>和<code>title</code>属性。<code>title</code>默认为空字符串。渲染和解析为<code>&lt;a&gt;</code>元素。</p>
</dd><dt id="schema-basic.marks.em">
  <code><strong><a href="#schema-basic.marks.em">em</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p data-x-en="An emphasis mark. Rendered as an <em> element. Has parse rules that also match <i> and font-style: italic.">一个强调标记。呈现为<code>&lt;em&gt;</code>元素。具有解析规则，也匹配<code>&lt;i&gt;</code>和<code>font-style: italic</code>。</p>
</dd><dt id="schema-basic.marks.strong">
  <code><strong><a href="#schema-basic.marks.strong">strong</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p data-x-en="A strong mark. Rendered as <strong>, parse rules also match <b> and font-weight: bold.">一个强烈的标记。呈现为<code>&lt;strong&gt;</code>，解析规则也匹配<code>&lt;b&gt;</code>和<code>font-weight: bold</code>。</p>
</dd><dt id="schema-basic.marks.code">
  <code><strong><a href="#schema-basic.marks.code">code</a></strong>: <a href="#model.MarkSpec"><span class="type">MarkSpec</span></a></code></dt>

<dd><p data-x-en="Code font mark. Represented as a <code> element.">代码字体标记。表示为 <code>&lt;code&gt;</code> 元素。</p>
</dd></dl></dd>
</dl>
</section><section id="part_schema-list">
    <h2 class="module" id="schema-list">
      <a href="#schema-list">prosemirror-schema-list <span class="kind">module</span></a>
    </h2><p data-x-en="This module exports list-related schema elements and commands. The commands assume lists to be nestable, with the restriction that the first child of a list item is a plain paragraph.">此模块导出与列表相关的模式元素和命令。命令假定列表是可嵌套的，限制是列表项的第一个子项是一个普通段落。</p>
<p data-x-en="These are the node specs:">这些是节点规格：</p>
<dl>
<dt id="schema-list.orderedList">
  <code><strong><a href="#schema-list.orderedList">orderedList</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="An ordered list node spec. Has a single attribute, order, which determines the number at which the list starts counting, and defaults to 1. Represented as an <ol> element.">有序列表<a href="#model.NodeSpec">节点规范</a>。有一个单一属性，<code>order</code>，它决定列表开始计数的数字，默认值为1。表示为<code>&lt;ol&gt;</code>元素。</p>
</dd>
<dt id="schema-list.bulletList">
  <code><strong><a href="#schema-list.bulletList">bulletList</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="A bullet list node spec, represented in the DOM as <ul>.">一个子弹列表节点规范，在DOM中表示为<code>&lt;ul&gt;</code>。</p>
</dd>
<dt id="schema-list.listItem">
  <code><strong><a href="#schema-list.listItem">listItem</a></strong>: <a href="#model.NodeSpec"><span class="type">NodeSpec</span></a></code></dt>

<dd><p data-x-en="A list item (<li>) spec.">一个列表项 (<code>&lt;li&gt;</code>) 规范。</p>
</dd>
<dt id="schema-list.addListNodes">
  <code><strong><a href="#schema-list.addListNodes">addListNodes</a></strong>(<div class="breaktype"><a id="schema-list.addListNodes^nodes" href="#schema-list.addListNodes^nodes"><span class="param">nodes</span></a>:&nbsp;<a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.NodeSpec"><span class="type">NodeSpec</span></a>&gt;, </div><div class="breaktype"><a id="schema-list.addListNodes^itemContent" href="#schema-list.addListNodes^itemContent"><span class="param">itemContent</span></a>:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a>, </div><div class="breaktype"><a id="schema-list.addListNodes^listGroup" href="#schema-list.addListNodes^listGroup"><span class="param">listGroup</span></a>⁠?:&nbsp;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><span class="prim">string</span></a></div>) →&nbsp;<a href="https://github.com/marijnh/orderedmap#readme"><span class="type">OrderedMap</span></a>&lt;<a href="#model.NodeSpec"><span class="type">NodeSpec</span></a>&gt;</code></dt>

<dd><p data-x-en="Convenience function for adding list-related node types to a map specifying the nodes for a schema. Adds orderedList as &quot;ordered_list&quot;, bulletList as &quot;bullet_list&quot;, and listItem as &quot;list_item&quot;.">用于将与列表相关的节点类型添加到指定架构节点的映射的便捷函数。添加
<a href="#schema-list.orderedList"><code>orderedList</code></a> 作为 <code>"ordered_list"</code>，
<a href="#schema-list.bulletList"><code>bulletList</code></a> 作为 <code>"bullet_list"</code>，以及
<a href="#schema-list.listItem"><code>listItem</code></a> 作为 <code>"list_item"</code>。</p>
<p data-x-en="itemContent determines the content expression for the list items. If you want the commands defined in this module to apply to your list structure, it should have a shape like &quot;paragraph block*&quot; or &quot;paragraph (ordered_list | bullet_list)*&quot;. listGroup can be given to assign a group name to the list node types, for example &quot;block&quot;."><code>itemContent</code> 确定列表项的内容表达式。如果您希望此模块中定义的命令应用于您的列表结构，它应该具有类似 <code>"paragraph block*"</code> 或 <code>"paragraph (ordered_list | bullet_list)*"</code> 的形状。可以给 <code>listGroup</code> 分配一个组名称给列表节点类型，例如 <code>"block"</code>。</p>
</dd>
</dl>
<p data-x-en="Using this would look something like this:">使用这个看起来像这样：</p>
<pre><code class="language-javascript"><span class="tok-keyword">const</span> <span class="tok-variableName tok-definition">mySchema</span> <span class="tok-operator">=</span> <span class="tok-keyword">new</span> <span class="tok-variableName">Schema</span><span class="tok-punctuation">(</span><span class="tok-punctuation">{</span>
  <span class="tok-propertyName tok-definition">nodes</span><span class="tok-punctuation">:</span> <span class="tok-variableName">addListNodes</span><span class="tok-punctuation">(</span><span class="tok-variableName">baseSchema</span><span class="tok-operator">.</span><span class="tok-propertyName">spec</span><span class="tok-operator">.</span><span class="tok-propertyName">nodes</span><span class="tok-punctuation">,</span> <span class="tok-string">"paragraph block*"</span><span class="tok-punctuation">,</span> <span class="tok-string">"block"</span><span class="tok-punctuation">)</span><span class="tok-punctuation">,</span>
  <span class="tok-propertyName tok-definition">marks</span><span class="tok-punctuation">:</span> <span class="tok-variableName">baseSchema</span><span class="tok-operator">.</span><span class="tok-propertyName">spec</span><span class="tok-operator">.</span><span class="tok-propertyName">marks</span>
<span class="tok-punctuation">}</span><span class="tok-punctuation">)</span>
</code></pre>
<p data-x-en="The following functions are commands:">以下功能是<a href="/docs/guide/#commands">命令</a>:</p>
<dl>
<dt id="schema-list.wrapInList">
  <code><strong><a href="#schema-list.wrapInList">wrapInList</a></strong>(<div class="breaktype"><a id="schema-list.wrapInList^listType" href="#schema-list.wrapInList^listType"><span class="param">listType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, </div><div class="breaktype"><a id="schema-list.wrapInList^attrs" href="#schema-list.wrapInList^attrs"><span class="param">attrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><span class="prim">null</span></a><span class="defaultvalue"> = null</span></div>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Returns a command function that wraps the selection in a list with the given type an attributes. If dispatch is null, only return a value to indicate whether this is possible, but don't actually perform the change.">返回一个命令函数，该函数将选择内容包装在具有给定类型和属性的列表中。如果<code>dispatch</code>为null，则仅返回一个值以指示这是否可能，但实际上不执行更改。</p>
</dd>
<dt id="schema-list.splitListItem">
  <code><strong><a href="#schema-list.splitListItem">splitListItem</a></strong>(<a id="schema-list.splitListItem^itemType" href="#schema-list.splitListItem^itemType"><span class="param">itemType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, <a id="schema-list.splitListItem^itemAttrs" href="#schema-list.splitListItem^itemAttrs"><span class="param">itemAttrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Build a command that splits a non-empty textblock at the top level of a list item by also splitting that list item.">构建一个命令，通过拆分列表项来拆分列表项顶层的非空文本块。</p>
</dd>
<dt id="schema-list.splitListItemKeepMarks">
  <code><strong><a href="#schema-list.splitListItemKeepMarks">splitListItemKeepMarks</a></strong>(<a id="schema-list.splitListItemKeepMarks^itemType" href="#schema-list.splitListItemKeepMarks^itemType"><span class="param">itemType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>, <a id="schema-list.splitListItemKeepMarks^itemAttrs" href="#schema-list.splitListItemKeepMarks^itemAttrs"><span class="param">itemAttrs</span></a>⁠?:&nbsp;<a href="#model.Attrs"><span class="type">Attrs</span></a>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Acts like splitListItem, but without resetting the set of active marks at the cursor.">像 <a href="#schema-list.splitListItem"><code>splitListItem</code></a>，但不重置光标处的活动标记集。</p>
</dd>
<dt id="schema-list.liftListItem">
  <code><strong><a href="#schema-list.liftListItem">liftListItem</a></strong>(<a id="schema-list.liftListItem^itemType" href="#schema-list.liftListItem^itemType"><span class="param">itemType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Create a command to lift the list item around the selection up into a wrapping list.">创建一个命令，将选择范围内的列表项提升到一个包裹列表中。</p>
</dd>
<dt id="schema-list.sinkListItem">
  <code><strong><a href="#schema-list.sinkListItem">sinkListItem</a></strong>(<a id="schema-list.sinkListItem^itemType" href="#schema-list.sinkListItem^itemType"><span class="param">itemType</span></a>:&nbsp;<a href="#model.NodeType"><span class="type">NodeType</span></a>) →&nbsp;<a href="#state.Command"><span class="type">Command</span></a></code></dt>

<dd><p data-x-en="Create a command to sink the list item around the selection down into an inner list.">创建一个命令，将选择范围内的列表项下沉到内部列表中。</p>
</dd>
</dl>
</section><script src="ref.js"></script></article>

<footer>
  <nav>
    <a class="logo" href=".">&nbsp;</a>
    <div class="navlinks">
      <a href="/backers.html">Backers</a>
      <a href="http://contributor-covenant.org/version/1/1/0/">Code of Conduct</a>
      <a href="https://discuss.prosemirror.net/">Discuss</a>
      <a href="https://github.com/prosemirror/prosemirror/issues">Report an Issue</a>
    </div>
  </nav>
</footer>

</body></html>