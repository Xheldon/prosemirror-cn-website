<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf8">
<meta name="viewport" content="width=device-width, initial-scale=1"><title>ProseMirror Changelog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/site.css"><link rel="alternate" type="application/atom+xml" href="changelog.atom"><script src="https://www.googletagmanager.com/gtag/js?id=G-KQYXRE0B3X"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-KQYXRE0B3X')</script><script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5486286026923411"></script></head><body><div id="banner-info">本文档为 GPT-4o + 人工翻译，hover 可以显示原文。<a style="cursor: pointer;" href="https://prosemirror-old.xheldon.com/docs/changelog/" target="_blank">原始翻译地址</a>。翻译有问题？<a style="cursor: pointer;" href="https://github.com/Xheldon/prosemirror-cn-website/blob/main/dict/docs/changelog/index.json" target="_blank">我来翻译！</a></div><header>
  <nav>
    <a class="logo" href="/">ProseMirror</a>
    <div class="navlinks"><a href="/examples/">示例</a>
      <a href="/docs/" class="active">文档</a>
      <a href="https://discuss.prosemirror.net/">论坛</a>
      <a href="https://github.com/prosemirror">GitHub</a>
    <a href="https://www.xheldon.com" target="_blank">译者</a></div>
  </nav></header><article>
<style>
  /* hover 显示原文 */
  p[data-x-en],
  li[data-x-en] {
    position: relative;
  }
  p[data-x-en]:hover::after,
  li[data-x-en]:hover::after {
    visibility: visible;
    opacity: 1;
  }
  p[data-x-en]::after,
  li[data-x-en]::after {
    content: attr(data-x-en);
    display: block;
    font-size: 12px;
    transition: all 0.2s 0.3s;
    visibility: hidden;
    opacity: 0;
    background: #cccccc;
    z-index: 99;
    border-radius: 4px;
    padding: 5px 10px;
    position: absolute;
    top: 100%;
    left: 0;
  }
  /* 译者注释内容 */
  div[type='comment'] {
    border-radius: 4px;
    padding: 5px 10px;
    font-size: 12px;
    background: #eee;
  }
  div[type='comment']::before {
    content: '译者注: ';
    font-weight: 900;
  }
  header a.logo {
    position: relative;
  }
  header a.logo::after {
    content: '中文';
    position: absolute;
    left: calc(100% + 5px);
    font-size: 12px;
    width: 50px;
    top: -5px;
  }
  #banner-info {
    position: fixed;
    top: 0;
    left: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    background: rgba(255, 255, 255, 0.9);
    font-size: 12px;
    padding: 0;
    z-index: 999;
  }
  #add-info {
    font-size: 14px;
  }
  blockquote {
    border-left: 5px solid #ccc;
    padding-left: 10px;
    margin-left: 0;
  }
</style><h2>Version Changelog</h2><h3><a href="../ref/#model">prosemirror-model</a> 1.25.3 (2025-08-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug in Slice that made it possible for invalid ReplaceAroundSteps to be applied in some situations.">修复了 <code>Slice</code> 中的一个错误，该错误导致在某些情况下可以应用无效的 <code>ReplaceAroundStep</code>。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.40.1 (2025-07-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where, for some Android virtual keyboards, joining textblocks that contain an image with Backspace would run the handler for Enter instead.">修复了一个问题，即对于某些 Android 虚拟键盘，使用 Backspace 连接包含图像的文本块时，会运行 Enter 的处理程序。</p>
<p data-x-en="Fix an issue causing posAtCoords to get confused by table cells sticking out of their parent row elements.">修复导致 <code>posAtCoords</code> 被表格单元格超出其父行元素而混淆的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.25.2 (2025-07-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Suppress lint warnings about dereferencing methods by making Schema.nodeFromJSON and markFromJSON properties instead of methods.">通过将<code>Schema.nodeFromJSON</code>和<code>markFromJSON</code>转换为属性而不是方法来抑制关于解引用方法的lint警告。</p>
<p data-x-en="Avoid using setAttribute(&quot;style&quot;, ...) to stay clear of content security policies.">避免使用<code>setAttribute("style", ...)</code>以避免内容安全策略。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.40.0 (2025-06-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Suppress lint warnings about dereferencing methods by making EditorView.dispatch a property instead of a method.">通过将<code>EditorView.dispatch</code>设为属性而不是方法来抑制关于解引用方法的lint警告。</p>
<h4>New features</h4>
<p data-x-en="The &quot;handleTextInput&quot; prop now takes an additional argument that can be used to generate the default transaction for that text change."><code>"handleTextInput"</code> prop 现在接受一个额外的参数，可以用于为该文本更改生成默认交易。</p>
<p data-x-en="Widget decorations now support a relaxedSide option which can be used to allow the DOM cursor to appear at either side.">小部件装饰现在支持一个 <code>relaxedSide</code> 选项，可以用于允许 DOM 光标出现在任意一侧。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.3.1 (2025-05-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve diffing to not treat closing tokens of different node types as the same token.">改善差异处理，以不将不同节点类型的关闭标记视为相同的标记。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.39.3 (2025-05-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where clicks using different mouse buttons could be grouped into a single double- or triple-click.">修复了一个问题，即使用不同鼠标按钮的点击可能会被组合成单个双击或三击。</p>
<p data-x-en="Only delete the selection when starting a composition when it crosses block boundaries.">仅在开始创作时删除跨越块边界的选区。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.3.0 (2025-05-05)</h3>
<h4>New features</h4>
<p data-x-en="Change sets can now be passed a custom token encoder that controls the way changed content is diffed.">变更集现在可以传递一个自定义的令牌编码器，该编码器控制更改内容的差异方式。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.2.3 (2025-05-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the library was too eager to dispatch keys by key code when the character produced isn't ASCII.">修复了一个问题，即当生成的字符不是ASCII时，库过于急切地通过键码分派键。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.25.1 (2025-04-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make the DOM parser not discard nodes whose document representation cannot be placed inside the represenation of some parent DOM node.">使DOM解析器不丢弃其文档表示无法放置在某些父DOM节点表示内的节点。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.10.4 (2025-04-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that caused mapping ReplaceSteps to reset their structure flag.">修复了一个导致映射 <code>ReplaceStep</code> 重置其 <code>structure</code> 标志的错误。</p>
<p data-x-en="Align removeNodeMark's behavior to that of removeMark. When passing in a node type, it now removes all occurrences of that type.">将 <code>removeNodeMark</code> 的行为与 <code>removeMark</code> 对齐。当传入一个节点类型时，现在它会移除该类型的所有实例。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.39.2 (2025-04-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Default to using trustedTypes.defaultPolicy for clipboard input, when available.">默认情况下，当可用时，使用 <code>trustedTypes.defaultPolicy</code> 处理剪贴板输入。</p>
<p data-x-en="Fix an issue where pasting multiple lines from the virtual keyboard on Android would have only the effect of an enter press.">修复了一个问题，即在 Android 上从虚拟键盘粘贴多行时，只会产生按下回车的效果。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.2.5 (2025-04-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure the menu is re-rendered when the editor's root changes, so that it doesn't reference icons whose SVG lives in another root.">确保在编辑器的根更改时重新渲染菜单，以便它不会引用位于另一个根中的SVG图标。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.8.2 (2025-04-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure the drop cursor is positioned in the right place when the editor is scaled with a CSS transform.">确保在使用 CSS 转换缩放编辑器时，下拉光标位于正确的位置。</p>
<p data-x-en="Fix the width of the cursor when in a transformed element. Fix incorrect check in dragleave handler">修复在转换元素中时光标的宽度。修复拖动离开处理程序中的错误检查。</p>
<p data-x-en="Fix an issue where the dropcursor would hide when drag moved over the top editor element.">修复了一个问题，当拖动移到顶部编辑器元素上时，dropcursor 会隐藏。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.7.1 (2025-04-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression in splitBlock that would cause it to crash, rather than return false, when no split is possible.">修复 <code>splitBlock</code> 中的一个回归问题，该问题会导致在无法拆分时崩溃，而不是返回 false。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.39.1 (2025-04-04)</h3>
<h3><a href="../ref/#view">prosemirror-view</a> 1.39.0 (2025-04-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where, with some types of schemas, pressing Enter on Android with a Chinese keyboard wouldn't properly detect the Enter press.">修复了一个问题，即在某些类型的模式下，使用中文键盘在 Android 上按下 Enter 键时，系统无法正确检测到 Enter 键的按下。</p>
<h4>New features</h4>
<p data-x-en="The new dragCopies prop can be used to configure whether a drag event inside the editor copies or moves content.">新的 <code>dragCopies</code> 属性可用于配置编辑器内的拖动事件是复制还是移动内容。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.25.0 (2025-03-18)</h3>
<h4>New features</h4>
<p data-x-en="Mark specs can now be marked with a code property.">Mark 规格现在可以使用 <code>code</code> 属性进行标记。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.5.0 (2025-03-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where input rules behaved incorrectly when text input inserted multiple characters and only a part of those were matched by a rule.">修复了一个当文本输入插入多个字符且只有部分字符被规则匹配时，输入规则行为不正确的错误。</p>
<p data-x-en="Set inCodeMark to false for emdash and quote input rules.">将 <code>inCodeMark</code> 设置为 false，以处理 emdash 和引号输入规则。</p>
<h4>New features</h4>
<p data-x-en="Input rules now take an inCodeMark option that can be used to turn them off inside marks marked as code.">输入规则现在接受一个 <code>inCodeMark</code> 选项，可以用于在标记为代码的标记内将其关闭。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 1.2.4 (2025-03-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add a code flag to the code mark.">添加一个 <code>code</code> 标志到代码标记。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.13.2 (2025-03-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add a code flag to the code mark.">添加一个 <code>code</code> 标志到代码标记。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.10.3 (2025-03-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure Mapping.appendMap doesn't mutate shared arrays passed to its constructor.">确保 <code>Mapping.appendMap</code> 不会修改传递给其构造函数的共享数组。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.38.1 (2025-03-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression in 1.38.0 that breaks scrolling back to the selection after Chrome tries to reset it on focus.">修复 1.38.0 中的回归问题，该问题在 Chrome 尝试在聚焦时重置选择后导致无法滚动回到选择位置。</p>
<p data-x-en="Remove some internally used types from the public type declaration files. Include file extension in web test local imports">从公共类型声明文件中移除一些内部使用类型。在 Web 测试本地导入中包含文件扩展名。</p>
<p data-x-en="Fix an issue where scrolling the cursor into view could inappropriately scroll parent nodes of absolutely positioned elements.">修复了一个问题，即滚动光标进入视图可能会不恰当地滚动绝对定位元素的父节点。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.5.1 (2025-03-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where liftListItem would, in some circumstances, join lists of different types when they ended up on the same level.">修复了一个问题，即在某些情况下，<code>liftListItem</code> 会将不同类型的列表合并，当它们最终处于同一级别时。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.7.0 (2025-02-20)</h3>
<h4>New features</h4>
<p data-x-en="toggleMark now accepts an includeWhitespace option that controls whether it affects leading/trailing space."><code>toggleMark</code> 现在接受一个 <code>includeWhitespace</code> 选项，用于控制是否影响前导/尾随空格。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.38.0 (2025-02-12)</h3>
<h4>New features</h4>
<p data-x-en="The clipboard serialization logic is now available as a serializeToClipboard method on the view object.">剪贴板序列化逻辑现在作为视图对象上的 <code>serializeToClipboard</code> 方法提供。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.37.2 (2025-01-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that caused EditorView.nodeDOM to sometimes not return a DOM node when querying a node next to a widget.">修复了一个导致 <code>EditorView.nodeDOM</code> 在查询位于小部件旁边的节点时有时不返回 DOM 节点的错误。</p>
<p data-x-en="Fix an issue where an editor would, when scrolling the selection into view, try to do so even if the selection wasn't in that editor.">修复了一个问题，即当编辑器将选择项滚动到视图中时，即使选择项不在该编辑器中，编辑器也会尝试这样做。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.37.1 (2024-12-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where display: content elements could break posAtCoords.">修复了 <code>display: content</code> 元素可能导致 <code>posAtCoords</code> 出现问题的情况。</p>
<p data-x-en="Work around an issue with Chrome reporting the selection incorrectly during composition.">解决 Chrome 在组合期间错误报告选择的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.24.1 (2024-12-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The parser now automatically preserves whitespace inside <pre> or white-space: pre elements.">解析器现在自动保留 <code>&lt;pre&gt;</code> 或 <code>white-space: pre</code> 元素内的空白。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.5.0 (2024-12-04)</h3>
<h4>New features</h4>
<p data-x-en="The new wrapRangeInList function provides the implementation of the wrapInList command as a more flexible function.">新的<code>wrapRangeInList</code>函数以更灵活的函数形式提供了<code>wrapInList</code>命令的实现。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.24.0 (2024-11-27)</h3>
<h4>New features</h4>
<p data-x-en="Fragment.content and Node.children now expose a node's set of children as an array."><code>Fragment.content</code> 和 <code>Node.children</code> 现在以数组形式公开节点的子集。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.37.0 (2024-11-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue on Safari where the (incorrect) top-level selection was used, instead of the workaround that also works inside shadow roots.">修复了 Safari 上的一个问题，即使用了（错误的）顶级选择，而不是也在阴影根中有效的工作around。</p>
<h4>New features</h4>
<p data-x-en="Mark views can now provide an ignoreMutation method. Add ViewMutationRecord to doc template">Mark 视图现在可以提供一个 <code>ignoreMutation</code> 方法。将 ViewMutationRecord 添加到文档模板中。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.36.0 (2024-11-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't recreated TrustedTypePolicy objects for every paste.">不要为每次粘贴都重新创建 <code>TrustedTypePolicy</code> 对象。</p>
<h4>New features</h4>
<p data-x-en="Add support for a destroy method on custom mark views. Add MarkView to the doc template">在自定义标记视图上添加对 <code>destroy</code> 方法的支持。将 MarkView 添加到文档模板中。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.35.0 (2024-10-29)</h3>
<h4>New features</h4>
<p data-x-en="The new NodeView.multiType flag is now required to opt into handling different node types in a single node view. It used to be the default, but this tripped too many people up.">新的 <code>NodeView.multiType</code> 标志现在需要选择处理单个节点视图中的不同节点类型。它以前是默认的，但这让太多人感到困惑。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.6.2 (2024-10-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make splitBlock smart enough to split blocks when the cursor is inside a nested inline node.">使 <code>splitBlock</code> 足够智能，当光标位于嵌套的行内节点内时能够拆分块。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.10.2 (2024-10-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Allow Transform.join to clear incompatible inline content from the node after the join.">允许<code>Transform.join</code>在合并后清除节点中不兼容的内联内容。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.6.1 (2024-10-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="joinBackward will, when moving a node into a block, no longer join that block with the block after when the two have compatible content but aren't of the same type."><code>joinBackward</code> 在将节点移入块时，如果两个块的内容兼容但类型不同，将不再与后面的块合并。</p>
<p data-x-en="Fix an issue in splitBlock that caused it to return true without doing anything when the schema makes splitting at the cursor impossible.">修复<code>splitBlock</code>中的一个问题，当模式使得在光标处拆分变得不可能时，它会在没有执行任何操作的情况下返回true。</p>
<p data-x-en="Support implicit conversion between hard break nodes and newlines in the joinForward and joinBackward commands.">在<code>joinForward</code>和<code>joinBackward</code>命令中支持硬换行节点和换行符之间的隐式转换。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.10.1 (2024-10-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where a deleteRange heuristic could produce unexpected deletion shapes.">修复<code>deleteRange</code>启发式方法可能产生意外删除形状的问题。</p>
<p data-x-en="Make Transform.join convert between newlines and line break replacement nodes when necessary.">使<code>Transform.join</code>在必要时在换行符和换行替换节点之间进行转换。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.23.0 (2024-10-05)</h3>
<h4>New features</h4>
<p data-x-en="The new NodeType.isInGroup method can be used to query group membership.">新的<code>NodeType.isInGroup</code>方法可用于查询组成员资格。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.13.1 (2024-09-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a type error caused by use of an older markdown-it type package.">修复由于使用较旧的markdown-it类型包引起的类型错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.34.3 (2024-09-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue that would, during some types of document updates, leave the document DOM in an improper form.">修复一个问题，该问题在某些类型的文档更新期间，会使文档DOM处于不正确的形式。</p>
<p data-x-en="Handle the case where drag-selecting in Firefox creates a selection with multiple distinct ranges.">处理在 Firefox 中拖动选择时创建具有多个不同范围的选择的情况。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.34.2 (2024-09-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix pasting in Chrome with the require-trusted-types-for CSP enabled.">修复在启用 require-trusted-types-for CSP 时在 Chrome 中粘贴的问题。</p>
<p data-x-en="Fix an issue where, for some kinds of IME on Windows, pressing Enter while in a composition would execute the resulting command on the wrong selection, erasing some typed content.">修复了在 Windows 上某些类型的输入法中，按下 Enter 键时会在组合状态下对错误的选择执行结果命令，导致某些已输入内容被删除的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.34.1 (2024-08-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix null dereferences caused by the behavior of Chrome's newly supported caretPositionFromPoint method.">修复由 Chrome 新支持的 <code>caretPositionFromPoint</code> 方法的行为引起的空引用问题。</p>
<p data-x-en="Fix an issue where on Android, with GBoard, enter presses in code blocks while a spell correction was selected didn't insert a new line.">修复了一个问题，在Android上使用GBoard时，当选择了拼写校正时，在代码块中按下回车键不会插入新行。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.34.0 (2024-08-23)</h3>
<h4>New features</h4>
<p data-x-en="The DecorationGroup interface now has a forEachSet method to iterate though the contained decoration sets."><code>DecorationGroup</code> 接口现在有一个 <code>forEachSet</code> 方法来迭代包含的装饰集。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.11 (2024-08-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Delete the selection on composition start when on a mark boundary to force Chrome to apply the correct style to the composition.">在标记边界上开始组合时删除选择，以强制 Chrome 将正确的样式应用于组合。</p>
<p data-x-en="When the browser starts a composition and the selection spans across blocks, start by clearing it to make sure the composed text node lands in a valid position.">当浏览器开始合成并且选择跨越块时，首先清除它以确保合成的文本节点位于有效位置。</p>
<h3><a href="../ref/#example-setup">prosemirror-example-setup</a> 1.2.3 (2024-08-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make the type of the fullMenu option MenuElement[][] instead of MenuItem[][].">将<code>fullMenu</code>选项的类型从<code>MenuItem[][]</code>改为<code>MenuElement[][]</code>。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.10.0 (2024-08-13)</h3>
<h4>New features</h4>
<p data-x-en="setBlockType can now take a function that computes attributes for the new nodes, instead of a static attribute object."><code>setBlockType</code> 现在可以接受一个函数来计算新节点的属性，而不是一个静态属性对象。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.10 (2024-08-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Prevent triple clicks and clicks on atom nodes from dispatching a selection update when the new selection is equal to the current selection.">防止三次点击和点击原子节点在新选择等于当前选择时分派选择更新。</p>
<p data-x-en="Don't crash when window.getSelection() returns null.">不要在<code>window.getSelection()</code>返回null时崩溃。</p>
<p data-x-en="Create a cursor wrapper when starting a composition with a selection that spans mark boundaries, to avoid odd DOM forms created by Chrome in such a situation.">在开始一个带有跨越标记边界的选择的组合时，创建一个光标包装器，以避免在这种情况下由Chrome创建的奇怪DOM形式。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.22.3 (2024-08-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix some corner cases in the way the DOM parser tracks active marks.">修复DOM解析器跟踪活动标记方式中的一些极端情况。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.6.0 (2024-07-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where joinBackward couldn't lift the block with the cursor when the block before it was isolating.">修复了一个问题，即当前一个块是隔离块时，<code>joinBackward</code> 无法提升带有光标的块。</p>
<h4>New features</h4>
<p data-x-en="toggleMark now takes an option that controls its behavior when only part of the selection has the mark already."><code>toggleMark</code> 现在接受一个选项，当只有部分选区已经有标记时控制其行为。</p>
<p data-x-en="The function given to splitBlockAs now has access to the split position via a third parameter."><code>splitBlockAs</code> 现在通过第三个参数访问分割位置。</p>
<p data-x-en="toggleMark now takes an enterInlineAtoms option that controls whether it descends into atom nodes."><code>toggleMark</code> 现在带有一个 <code>enterInlineAtoms</code> 选项，该选项控制是否进入原子节点。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.22.2 (2024-07-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make attribute validation messages more informative.">使属性验证消息更具信息性。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.9 (2024-07-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where dragging an image on Chrome versions before 121 failed to put the image file in the clipboard data.">修复在121版本之前的Chrome中拖动图像未能将图像文件放入剪贴板数据的问题。</p>
<p data-x-en="Enable cross-site scripting protection hack when rendering nodes and marks inside the editor.">启用跨站脚本保护黑客在编辑器中渲染节点和标记时。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.22.1 (2024-07-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add code to DOMSerializer that rejects DOM output specs when they originate from attribute values, to protect against XSS attacks that use corrupt attribute input.">在<code>DOMSerializer</code>中添加代码，当DOM输出规范源自属性值时拒绝它们，以防止使用损坏的属性输入的XSS攻击。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.22.0 (2024-07-14)</h3>
<h4>New features</h4>
<p data-x-en="Attribute specs now support a validate property that can be used to provide a validation function for the attribute, to guard against corrupt JSON input.">属性规格现在支持<code>validate</code>属性，可用于为属性提供验证功能，以防止损坏的JSON输入。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 1.2.3 (2024-07-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add attribute type validation for headings, images, and link marks.">为标题、图像和链接标记添加属性类型验证。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.4.1 (2024-07-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add attribute type validation for ordered list nodes.">为有序列表节点添加属性类型验证。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.4.1 (2024-07-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where mark steps could cause the history to treat otherwise adjacent changes as non-adjacent, and start superfluous new undo events.">修复一个问题，该问题会导致标记步骤使历史记录将本应相邻的更改视为不相邻，并启动多余的新撤销事件。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.21.3 (2024-06-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where parse rules for CSS properties that were shorthands for a number of more detailed properties weren't matching properly.">修复了一个问题，即作为多个更详细属性的简写的CSS属性的解析规则未正确匹配。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.21.2 (2024-06-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure resolved positions (and thus the document and schema hanging off them) don't get kept in the cache when their document can be garbage-collected.">确保已解析的位置（以及由此挂起的文档和模式）在其文档可以被垃圾回收时不会保留在缓存中。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.8 (2024-06-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="When composition happens with the cursor between two text nodes, use the last mutated one to guess which one is being changed.">当在两个文本节点之间进行组合时，使用最后一个被更改的节点来猜测哪个节点正在被更改。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.4.0 (2024-06-10)</h3>
<h4>New features</h4>
<p data-x-en="The new splitListItemKeepMarks command can be used like splitListItem but will keep the active marks from the original item.">新的<code>splitListItemKeepMarks</code>命令可以像<code>splitListItem</code>一样使用，但会保留原始项目中的活动标记。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.21.1 (2024-06-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve performance and accuracy of DOMParser style matching by using the DOM's own style object.">通过使用 DOM 自身的 <code>style</code> 对象，提高 <code>DOMParser</code> 样式匹配的性能和准确性。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.7 (2024-05-31)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Ignore stray <br> nodes added to parent list elements when backspacing near uneditable content in Firefox.">忽略在Firefox中靠近不可编辑内容回退时添加到父列表元素的杂散<code>&lt;br&gt;</code>节点。</p>
<p data-x-en="Fix a crash where the editor tried to call removeAttribute on a text node.">修复了编辑器尝试在文本节点上调用<code>removeAttribute</code>时发生的崩溃。</p>
<p data-x-en="Fix an issue where coordinates near nested blocks could inappropriately be assigned to be inside those blocks.">修复一个问题，即靠近嵌套块的坐标可能会被不适当地分配到这些块内。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.13.0 (2024-05-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix the type of MarkdownParser.parse to be non-nullable. Add a strict option to MarkdownSerializer">将<code>MarkdownParser.parse</code>的类型修正为非空。为MarkdownSerializer添加一个严格选项。</p>
<h4>New features</h4>
<p data-x-en="The new strict option to MarkdownSerializer makes it possible to make the serializer ignore node and mark types it doesn't know.">新的<code>strict</code>选项使<code>MarkdownSerializer</code>能够忽略它不知道的节点和标记类型。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.21.0 (2024-05-06)</h3>
<h4>New features</h4>
<p data-x-en="The new linebreakReplacement property on node specs makes it possible to configure a node type that setBlockType will convert to and from line breaks when appropriate.">新的<code>linebreakReplacement</code>属性在节点规范上使得可以配置一种节点类型，<code>setBlockType</code>将在适当的时候将其转换为换行符。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.9.0 (2024-05-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue in ReplaceAroundStep.map that broke mapping steps that wrapped content over steps that inserted content at the start of the step.">修复<code>ReplaceAroundStep.map</code>中的一个问题，该问题破坏了在步骤开始处插入内容的步骤上包装内容的映射步骤。</p>
<h4>New features</h4>
<p data-x-en="setBlockMarkup now uses the linebreak equivalent node defined in the schema."><code>setBlockMarkup</code> 现在使用架构中定义的换行等效节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.6 (2024-04-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure the content slice stored for an in-editor drag is the one that was transformed by transformCopied.">确保存储用于编辑器内拖动的内容片段是由<code>transformCopied</code>转换的。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.5 (2024-04-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression in composition handling in 1.33.3 that occurs for some IMEs when starting composition on an empty line.">修复在1.33.3中处理组合时的回归问题，该问题在某些输入法编辑器在空行上开始组合时发生。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.20.0 (2024-04-08)</h3>
<h4>New features</h4>
<p data-x-en="The ParseRule type is now a union of TagParseRule and StyleParseRule, with more specific types being used when appropriate."><code>ParseRule</code> 类型现在是 <code>TagParseRule</code> 和 <code>StyleParseRule</code> 的联合类型，在适当的时候使用更具体的类型。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.4 (2024-04-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="When available, use Selection.getComposedRanges on Safari to find the selection inside a shadow DOM.">在 Safari 上使用<code>Selection.getComposedRanges</code>查找 shadow DOM 内的选区。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.3 (2024-03-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Further improve preserving of compositions for IME systems that keep the cursor before the composed text.">进一步改进对IME系统中将光标置于组合文本之前的组合的保存。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.2 (2024-03-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve Android backspace detection when the native effect is to delete an entire block element.">改进当本机效果是删除整个块元素时的Android退格检测。</p>
<p data-x-en="Fix a bug where reconfiguring node views caused the editor to lose focus.">修复重新配置节点视图导致编辑器失去焦点的错误。</p>
<p data-x-en="Fix an issue where some commands didn't properly scroll the cursor into view on Mobile Safari.">修复某些命令在移动版Safari上未能正确滚动光标到视图中的问题。</p>
<p data-x-en="Fix a bug where starting a composition with stored marks or after a noninclusive mark, with an IME that keeps the cursor at the start of the composed text (like many Chinese IMEs) disrupted composition on Chrome.">修复了一个错误，即在使用将光标保持在组合文本开头的输入法（如许多中文输入法）时，使用存储标记或在非包含标记之后开始组合会在Chrome上中断组合。</p>
<p data-x-en="Fix a memory leak where a (single) destroyed editor could be kept alive through a reused Range object.">修复内存泄漏问题，其中一个（单个）被销毁的编辑器可能通过重用的<code>Range</code>对象保持活动状态。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.4.0 (2024-03-21)</h3>
<h4>New features</h4>
<p data-x-en="Add undoNoScroll/redoNoScroll commands.">添加<code>undoNoScroll</code>/<code>redoNoScroll</code>命令。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.1 (2024-02-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a type error in the published type declarations in 1.33.0.">修复1.33.0中已发布类型声明中的类型错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.33.0 (2024-02-15)</h3>
<h4>New features</h4>
<p data-x-en="The DecorationSource.forChild method is now public."><code>DecorationSource.forChild</code> 方法现在是公开的。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.4.0 (2024-01-30)</h3>
<h4>New features</h4>
<p data-x-en="Input rules now take an inCode option that controls whether they should apply inside nodes marked as code.">输入规则现在接受一个<code>inCode</code>选项，该选项控制它们是否应在标记为代码的节点内应用。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.32.7 (2023-12-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression that caused widget decorations directly after a node to not get drawn in some situations.">修复了一个回归问题，该问题导致在某些情况下节点后面的窗口小部件装饰无法绘制。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.19.4 (2023-12-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make textBetween emit block separators for empty textblocks.">使<code>textBetween</code>为空文本块发出块分隔符。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.12.0 (2023-12-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Block-level markup inside a heading is no longer escaped by the serializer.">标题内的块级标记不再被序列化器转义。</p>
<p data-x-en="Do not backslash-escape a + at the start of line when it isn't followed by a space. Upgrade to markdown-it 14">不要在行首的<code>+</code>后面没有空格时使用反斜杠转义。升级到markdown-it 14。</p>
<h4>New features</h4>
<p data-x-en="MarkdownSerializerState.renderInline now takes a parameter that controls whether block-level markup should be escaped."><code>MarkdownSerializerState.renderInline</code> 现在接受一个参数，该参数控制是否应转义块级标记。</p>
<p data-x-en="Upgrade to markdown-it version 14, which provides ES modules.">升级到 markdown-it 版本 14，它提供了 ES 模块。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.32.6 (2023-12-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that could cause view updates to crash in rare situations where inline nodes were added around decorations.">修复一个可能导致视图更新崩溃的错误，该错误在装饰周围添加内联节点的罕见情况下发生。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.32.5 (2023-12-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug in DecorationSet.map that, in specific cases when mapping through groups of changes, move decorations to the wrong position.">修复<code>DecorationSet.map</code>中的一个错误，在通过一组更改进行映射时，在特定情况下将装饰移动到错误的位置。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.3.0 (2023-11-16)</h3>
<h4>New features</h4>
<p data-x-en="Input rules can now be set to be non-undoable, preventing undoInputRule from rolling them back.">现在可以将输入规则设置为不可撤销，防止<code>undoInputRule</code>将其回滚。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.32.4 (2023-11-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a case where a DOM change involving astal characters could create odd steps that started and ended in the middle of UTF16 surrogate pairs.">修复了一个涉及特殊字符的DOM更改可能会在UTF16代理对的中间创建奇怪步骤的情况。</p>
<p data-x-en="Dragging a draggable node will no longer implicitly select it.">拖动可拖动节点将不再隐式选择它。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.32.3 (2023-11-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where, in some situations, pasting plain text pasted HTML markup.">修复在某些情况下粘贴纯文本时粘贴了HTML标记的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.32.2 (2023-10-27)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Check for text/uri-list data on the clipboard or in the drop event when pasting or dropping content, since some types of copying on Apple devices use this format.">在粘贴或拖放内容时，检查剪贴板或拖放事件中的 text/uri-list 数据，因为某些类型的 Apple 设备复制使用这种格式。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.32.1 (2023-10-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around a Chrome issue where it didn't draw a selection for inline leaf nodes when selecting across them.">解决 Chrome 中的一个问题，即在跨越选择内联叶节点时未绘制选择。</p>
<p data-x-en="Override the native behavior when shift-selecting horizontally across non-text inline nodes, since most browsers behave poorly here.">在跨非文本内联节点水平按住 Shift 选择时，覆盖原生行为，因为大多数浏览器在这里表现不佳。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.8.0 (2023-10-01)</h3>
<h4>New features</h4>
<p data-x-en="The new DocAttrStep can be used to set attributes on the document's top node.">新的<code>DocAttrStep</code>可用于设置文档顶级节点的属性。</p>
<p data-x-en="Transform.setDocAttribute can be used to create a DocAttrStep in a transform."><code>Transform.setDocAttribute</code> 可以用于在转换中创建一个 <code>DocAttrStep</code>。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.32.0 (2023-09-27)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around an issue on Chrome where, when clicking above the right side of an uneditable node, the cursor would be put after the node.">解决在Chrome上出现的一个问题，当点击不可编辑节点右侧上方时，光标会被放置在节点之后。</p>
<p data-x-en="Fix a bug that could corrupt the composition when it occurs next to text identical to the composed characters.">修复一个可能在与组成字符相同的文本相邻时破坏组成的错误。</p>
<h4>New features</h4>
<p data-x-en="The new EditorView.updateRoot method can be used to make the editor update its DOM root when it is moved to a new document or shadow tree.">新的<code>EditorView.updateRoot</code>方法可用于在编辑器移动到新文档或影子树时更新其DOM根。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.31.8 (2023-09-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that broke arrow motion near uneditable nodes on Chrome in some situations.">修复了在某些情况下 Chrome 上导致箭头移动在不可编辑节点附近失效的错误。</p>
<p data-x-en="Fix an issue that broke backspace at the end of a textblock that ended in a newline on Chrome.">修复了在Chrome中导致在以换行符结尾的文本块末尾按退格键无效的问题。</p>
<p data-x-en="Fix a crash in the way inline decorations that ended right after a node end position were drawn.">修复在节点结束位置后立即结束的内联装饰绘制方式中的崩溃问题。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.7.5 (2023-08-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a failure in replaceRange to drop wrapper nodes when the same wrapper is already present.">修复<code>replaceRange</code>中的一个故障，以在相同包装器已经存在时删除包装器节点。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.2.4 (2023-08-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where icon creation crashed because it couldn't find a Document value.">修复一个错误，该错误导致图标创建崩溃，因为找不到文档值。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.2.3 (2023-08-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't directly use the global window/document, to fix use in a different frame or shadow root.">不要直接使用全局的<code>window</code>/<code>document</code>，以便在不同的框架或shadow root中使用。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.11.2 (2023-08-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix some unnecessary escapes for period characters in Markdown serialization.">修复Markdown序列化中一些不必要的句点字符转义。</p>
<p data-x-en="Only escape # signs if they would otherwise create a heading. Add a test for headings in list items">只有在 <code>#</code> 符号会创建标题时才进行转义。在列表项中添加标题测试。</p>
<p data-x-en="Fix a bug in MarkdownSerializer that broken expelling of whitespace from marks when the mark spanned multiple nodes.">修复<code>MarkdownSerializer</code>中的一个错误，该错误在标记跨越多个节点时破坏了空白字符的排除。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.7.4 (2023-07-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="When using setBlockType to convert a code block to a type of node that doesn't contain code, replace newlines with spaces.">当使用<code>setBlockType</code>将代码块转换为不包含代码的节点类型时，用空格替换换行符。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.31.7 (2023-07-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where, when a compositionend event was received before the composition's final changes were processed, the resulting transaction didn't have its composition metadata set.">修复了一个错误，当在处理完合成的最终更改之前收到 compositionend 事件时，生成的事务没有设置其合成元数据。</p>
<p data-x-en="Fix an issue that caused cursor motion to stop at uneditable nodes that aren't widget decorations.">修复导致光标移动停止在不可编辑节点（非小部件装饰）的问题。</p>
<p data-x-en="When scrolling an element higher than the viewport into view, make sure its top is visible.">当将高于视口的元素滚动到视图中时，请确保其顶部可见。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.31.6 (2023-07-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that caused posAtCoords to return incorrect results for coordinates over inline-decorated text.">修复了一个导致<code>posAtCoords</code>在内联装饰文本上的坐标返回错误结果的错误。</p>
<p data-x-en="Don't try to scroll fixed-positioned elements into view by scrolling their parent elements.">不要试图通过滚动父元素来滚动固定位置的元素进入视图。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.19.3 (2023-07-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't apply style parse rules for nodes that are skipped by other parse rules.">不要对其他解析规则跳过的节点应用样式解析规则。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.11.1 (2023-06-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Allow any blocks as first child of list items to align with what Markdown itself does.">允许任何块作为列表项的第一个子项，以与Markdown本身的行为保持一致。</p>
<p data-x-en="Add parse rules that clear strong and em marks when inline CSS resets it.">添加解析规则，当内联CSS重置时清除<code>strong</code>和<code>em</code>标记。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.31.5 (2023-06-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where the editor accidentally blocked shift-delete when the whole document is selected.">修复了在选择整个文档时编辑器意外阻止 shift-delete 的错误。</p>
<p data-x-en="Bring back workaround for an issue where Firefox draws the cursor in the wrong place in a code block.">为了解决Firefox在代码块中错误绘制光标位置的问题，请恢复变通方法。</p>
<p data-x-en="Fix an issue where Shift-Insert pastes pasted plain text (because Shift was being held).">修复一个问题，即Shift-Insert粘贴纯文本（因为Shift键被按住）。</p>
<p data-x-en="Fix an issue where selecting across paragraph and starting a composition would update the state as if Enter was pressed and disrupt the composition.">修复一个问题，即在跨段选择并开始组合时，会更新状态，就像按下Enter键一样，并中断组合。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.7.3 (2023-06-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug in canSplit that made it interpret the typesAfter argument incorrectly on splits of depth greater than 1.">修复了<code>canSplit</code>中的一个错误，该错误导致在深度大于1的拆分中错误地解释<code>typesAfter</code>参数。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.3.0 (2023-06-01)</h3>
<h4>New features</h4>
<p data-x-en="splitListItem now takes an optional second argument to set the attributes of the new list item node. Rename parameter"><code>splitListItem</code> 现在接受一个可选的第二个参数来设置新列表项节点的属性。重命名参数</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.31.4 (2023-05-31)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure destroy is called on node views that are replaced by changing a node's markup.">确保在通过更改节点的标记替换节点视图时调用<code>destroy</code>。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.19.2 (2023-05-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Allow parse rules with a clearMark directive to clear marks that have already been applied.">允许带有<code>clearMark</code>指令的解析规则清除已应用的标记。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.19.1 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix the types of Fragment.desendants to include the index parameter to the callback. Add release note">修复 <code>Fragment.desendants</code> 的类型以在回调中包含索引参数。添加发布说明</p>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.7.2 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.4.3 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.31.3 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue that could cause the clipboard parser to create invalid slices when parsing content containing isolating nodes.">修复一个问题，该问题可能导致剪贴板解析器在解析包含隔离节点的内容时创建无效的切片。</p>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.2.2 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.2.1 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.3.2 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 1.3.1 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.5.2 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.3.2 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 1.2.2 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.2.3 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.2.2 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#example-setup">prosemirror-example-setup</a> 1.2.2 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.11.0 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure blank lines at the end of code blocks are properly serialized.">确保代码块末尾的空行被正确序列化。</p>
<p data-x-en="Convert soft breaks (single newlines) in Markdown to spaces, rather than newlines in the ProseMirror document, because newlines tend to behave awkwardly in the editor.">将Markdown中的软换行（单个换行符）转换为空格，而不是ProseMirror文档中的换行符，因为换行符在编辑器中往往表现得很尴尬。</p>
<p data-x-en="Fix a bug that cause the object passed as configuration to MarkdownSerializer to be mutated. Add release note">修复导致传递给<code>MarkdownSerializer</code>作为配置的对象被更改的错误。添加发布说明</p>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h4>New features</h4>
<p data-x-en="A new option to MarkdownSerializer allows client code to configure which node type should be treated as hard breaks during mark serialization. Remove the extra left bracket">一个新的选项<code>MarkdownSerializer</code>允许客户端代码配置在标记序列化期间应将哪种节点类型视为硬换行。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.8.1 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#test-builder">prosemirror-test-builder</a> 1.1.1 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make the return type of `builders` include properties for schema node/mark names.">将 `builders` 的返回类型包括模式节点/标记名称的属性。</p>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.2.1 (2023-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Include CommonJS type declarations in the package to please new TypeScript resolution settings.">在包中包含CommonJS类型声明以满足新的TypeScript解析设置。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.31.2 (2023-05-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that broke backspace after empty lines in code blocks on Firefox.">修复了在Firefox中导致代码块中空行后退格键失效的错误。</p>
<p data-x-en="Make it possible for the attributes prop to override the translate attribute.">使<code>attributes</code>属性可以覆盖<code>translate</code>属性。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.31.1 (2023-05-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that could cause a view crash on some kind of document updates.">修复一个可能导致在某些文档更新时视图崩溃的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.31.0 (2023-04-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where, when the browser failed to return a cursor for a set of coordinates (as in a shadow root in Chrome) the library's own algorithm worked poorly for coordinates between lines in a textblock.">修复了一个问题，当浏览器无法为一组坐标返回光标时（如在Chrome的shadow root中），库自身的算法在文本块中的行间坐标处理不佳。</p>
<p data-x-en="Improve performance of changing a parent node (by type or attributes) without modifying its children by reusing the DOM of the child nodes.">通过重用子节点的DOM，在不修改子节点的情况下，提高更改父节点（按类型或属性）的性能。</p>
<p data-x-en="Fix an issue where, in right-to-left context, the left and right arrow keys could get stuck on a selectable leaf node because the editor was moving the selection in the wrong direction.">修复了在从右到左的上下文中，左箭头和右箭头键可能会卡在可选择的叶节点上的问题，因为编辑器正在错误的方向移动选择。</p>
<p data-x-en="Fix a regression in coordsAtPos when querying the position of a line wrap.">修复在查询换行位置时<code>coordsAtPos</code>中的回归问题。</p>
<h4>New features</h4>
<p data-x-en="Attach a &quot;composition&quot; meta field to transactions generated from DOM changes.">将<code>"composition"</code>元字段附加到由DOM更改生成的事务。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.3.1 (2023-04-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where, if a composition moved the selection, it might get split across multiple undo events.">修复一个问题，如果一个合成移动了选择，它可能会被分割到多个撤销事件中。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.8.0 (2023-03-27)</h3>
<h4>New features</h4>
<p data-x-en="If the color option is set to false, the library will not assign an explicit color to the cursor.">如果<code>color</code>选项设置为<code>false</code>，库将不会为光标分配明确的颜色。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.30.2 (2023-03-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where posAtCoords could incorrectly return positions outside of a table when querying a coordinate inside it.">修复了在查询表格内的坐标时，<code>posAtCoords</code> 可能错误地返回表格外位置的问题。</p>
<p data-x-en="Update the type of the getPos callback to include undefined in its return type. Update broken link (ViewProps -> EditorProps) Also detect iOS enter when the new block type is a less common node">更新 <code>getPos</code> 回调的类型以在其返回类型中包含 undefined。更新损坏的链接（ViewProps -&gt; EditorProps）还检测 iOS 输入，当新块类型是较不常见的节点时。</p>
<p data-x-en="Fix an issue where Enter on iOS would sometimes not be handled by the library.">修复一个问题，即在 iOS 上有时库不会处理 Enter。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.7.1 (2023-03-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't hide the drop cursor when no valid drop point can be found below the pointer.">不要在指针下找不到有效的放置点时隐藏放置光标。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.5.1 (2023-03-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix joinTextblockBackward not applying when the textblock before was wrapped in another node.">修复<code>joinTextblockBackward</code>在前一个文本块被包裹在另一个节点中时不适用的问题。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.2.1 (2023-02-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around macOS putting the unmodified character in KeyboardEvent.key when Cmd is held down, fixing shift-cmd-letter bindings.">解决 macOS 在按住 Cmd 键时将未修改的字符放入 <code>KeyboardEvent.key</code> 的问题，修复 shift-cmd-letter 绑定。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.7.0 (2023-02-07)</h3>
<h4>New features</h4>
<p data-x-en="The drop cursor element now has a prosemirror-blockcursor-block/inline CSS class depending on whether it is in a block or inline position.">The drop cursor element now has a <code>prosemirror-blockcursor-block</code>/<code>inline</code> CSS class depending on whether it is in a block or inline position.</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.30.1 (2023-02-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that caused posAtCoords to always return the position after a leaf node when querying a position on top of the node's element.">修复了一个错误，该错误导致<code>posAtCoords</code>在查询节点元素顶部的位置时总是返回叶节点之后的位置。</p>
<p data-x-en="Fix an issue where, when putting focus on the editor by clicking at the very start of the document, the editor would restore a previous selection.">修复一个问题，当通过点击文档的最开始部分将焦点放在编辑器上时，编辑器会恢复之前的选择。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.7.1 (2023-01-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Keep content in isolating nodes inside their parent when fitting a replace step.">在适配替换步骤时，将内容保留在其父节点内的隔离节点中。</p>
<p data-x-en="Transform.setNodeMarkup will no longer clear the node's marks when it isn't given an array of marks."><code>Transform.setNodeMarkup</code> 将不再在未提供标记数组时清除节点的标记。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.30.0 (2023-01-19)</h3>
<h4>New features</h4>
<p data-x-en="EditorView now has pasteHTML and pasteText methods which initiate paste handling."><code>EditorView</code> 现在有 <code>pasteHTML</code> 和 <code>pasteText</code> 方法来启动粘贴处理。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.19.0 (2023-01-18)</h3>
<h4>New features</h4>
<p data-x-en="Parse rules for styles can now provide a clearMark property to remove pending marks (for example for font-style: normal).">解析样式规则现在可以提供一个<code>clearMark</code>属性来移除待处理的标记（例如<code>font-style: normal</code>）。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 1.2.1 (2023-01-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add parse rules to clear em and strong marks for styles that reset font style/weight.">添加解析规则以清除<code>em</code>和<code>strong</code>标记的样式，这些样式会重置字体样式/粗细。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.29.2 (2023-01-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure enter key handlers are called on Chrome Android when the cursor is in a position where the native behavior of Enter doesn't change the document.">确保在Chrome Android上，当光标处于Enter键的本地行为不会更改文档的位置时，调用Enter键处理程序。</p>
<p data-x-en="Fix a crash that could occur when starting a composition at the end of a non-inclusive mark.">修复在非包含标记末尾启动合成时可能发生的崩溃。</p>
<p data-x-en="Fix a bug in (vertical) endOfTextblock that caused it to return falsely positive results inside textblocks that had a separate contentDOM.">修复（垂直）<code>endOfTextblock</code>中的一个错误，该错误导致在具有单独<code>contentDOM</code>的文本块内返回错误的正结果。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.5.0 (2022-12-05)</h3>
<h4>New features</h4>
<p data-x-en="The new splitBlockAs command-builder allows you to pass in custom logic to determine the type of block that should be split off.">新的<code>splitBlockAs</code>命令构建器允许您传入自定义逻辑以确定应拆分的块类型。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.4.0 (2022-12-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make setBlockType act on all selection ranges in selections that have them.">使<code>setBlockType</code>作用于具有选择范围的所有选择。</p>
<h4>New features</h4>
<p data-x-en="The new joinTextblockForward and joinTextblockBackward commands provide a more primitive command for delete/backspace behavior when you don't want the extra strategies implemented by joinForward/joinBackward.">新的<code>joinTextblockForward</code>和<code>joinTextblockBackward</code>命令提供了一种更原始的删除/退格行为命令，当你不需要<code>joinForward</code>/<code>joinBackward</code>实现的额外策略时。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.18.3 (2022-11-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Copy all properties from the input spec to Schema.spec.">将所有属性从输入规范复制到<code>Schema.spec</code>。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.18.2 (2022-11-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve DOM parsing of nested block elements mixing block and inline children.">改进嵌套块元素的DOM解析，混合块和内联子元素。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.29.1 (2022-11-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a problem when returning decorations from an outer editor from the decorations prop.">修复从<code>decorations</code>属性的外部编辑器返回装饰时的问题。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.10.1 (2022-10-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't treat the empty string the same as null in wrapBlock's firstDelim argument. Check content of code blocks for any sequence of backticks">不要将空字符串与<code>null</code>在<code>wrapBlock</code>的<code>firstDelim</code>参数中视为相同。检查代码块的内容是否有任何反引号序列。</p>
<p data-x-en="Use longer sequences of backticks when serializing a code block that contains three or more backticks in a row.">在序列化包含三个或更多连续反引号的代码块时，请使用更长的反引号序列。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.6.1 (2022-10-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash when there's no DOM for the node next to the drag position.">修复当拖动位置旁边的节点没有 DOM 时的崩溃问题。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.4.2 (2022-10-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure the this bindings in editor props defined as part of a plugin spec refers to the proper plugin type.">确保在插件规范中定义的编辑器属性中的<code>this</code>绑定指向正确的插件类型。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.29.0 (2022-10-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where HTML comments added to the clipboard by the OS throw off the clipboard parser.">修复一个问题，即操作系统添加到剪贴板的HTML注释会使剪贴板解析器出错。</p>
<p data-x-en="Make sure Chrome Android's native behavior on pressing Enter in an empty nested list item is replaced by the result of the editor's Enter key handler.">确保在按下Enter键时，Chrome Android在空的嵌套列表项上的本机行为被编辑器的Enter键处理程序的结果所取代。</p>
<h4>New features</h4>
<p data-x-en="The transformPastedHTML, transformPastedText, transformPasted, transformCopied, and clipboardTextSerializer props are now passed the view instance as last argument."><code>transformPastedHTML</code>、<code>transformPastedText</code>、<code>transformPasted</code>、<code>transformCopied</code> 和 <code>clipboardTextSerializer</code> 属性现在将视图实例作为最后一个参数传递。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.28.3 (2022-10-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around the five-year-old Safari bug where it won't accurately report the selection inside shadow roots, which would break ProseMirror when put in shadow DOM.">解决五年前Safari的一个bug，该bug无法准确报告shadow roots内的选择，这会在将ProseMirror放入shadow DOM时导致其崩溃。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.10.0 (2022-10-05)</h3>
<h4>New features</h4>
<p data-x-en="You can now pass an optional markdown-it environment object to .">您现在可以将可选的 markdown-it 环境对象传递给 .</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.28.2 (2022-09-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Avoid a crash in selection updates in a hidden editor on Safari.">避免在Safari中隐藏的编辑器中选择更新时崩溃。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.28.1 (2022-09-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the editor would reset its scroll position to the top of the document for any state reconfiguration, even if the document was unchanged.">修复一个问题，即使文档未更改，编辑器在任何状态重新配置时都会将其滚动位置重置到文档顶部。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.28.0 (2022-09-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the editor wouldn't realize it was focused on IE when IE's resize controls are on an element inside the content.">修复一个问题，当IE的调整大小控件位于内容内的元素上时，编辑器不会意识到它在IE上被聚焦。</p>
<h4>New features</h4>
<p data-x-en="The new transformCopied prop can be used to transform a copied/cut slice before it is serialized to the clipboard.">新的<code>transformCopied</code>属性可用于在将复制/剪切的片段序列化到剪贴板之前对其进行转换。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.2.2 (2022-09-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where liftListItem could create adjacent sublists when lifting an item with sub-items.">修复<code>liftListItem</code>在提升带有子项的项目时可能创建相邻子列表的问题。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.3.1 (2022-09-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure toggleMark doesn't add marks to top nodes with non-inline content.">确保<code>toggleMark</code>不会将标记添加到具有非内联内容的顶级节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.27.2 (2022-08-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where DecorationSet.map, given a mapping with multiple steps, could in some cases corrupt the decorations.">修复了<code>DecorationSet.map</code>在给定具有多个步骤的映射时，可能在某些情况下破坏装饰的问题。</p>
<p data-x-en="Stop calling handleClick when the mouse moved but failed to fire mousemove events (for example when dragging a scrollbar).">停止在鼠标移动但未能触发 mousemove 事件时调用 <code>handleClick</code>（例如在拖动滚动条时）。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.9.4 (2022-08-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't escape colon characters at the start of a line.">不要转义行首的冒号字符。</p>
<p data-x-en="Escape parentheses in images and links.">在图像和链接中转义括号。</p>
<p data-x-en="Allow links to wrap emphasis markers when serializing Markdown.">允许链接在序列化 Markdown 时换行强调标记。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.7.0 (2022-08-16)</h3>
<h4>New features</h4>
<p data-x-en="The new AttrStep (and Transform.setNodeAttribute) can be used to set individual attributes on a node.">新的<code>AttrStep</code>（和<code>Transform.setNodeAttribute</code>）可用于设置节点上的单个属性。</p>
<p data-x-en="AddNodeMarkStep and RemoveNodeMarkStep can now be used to add and remove marks on individual nodes. Transform.addNodeMark/removeNodeMark provide an interface to these in transform objects."><code>AddNodeMarkStep</code> 和 <code>RemoveNodeMarkStep</code> 现在可以用于在单个节点上添加和移除标记。<code>Transform.addNodeMark</code>/<code>removeNodeMark</code> 提供了一个在变换对象中使用这些方法的接口。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.27.1 (2022-08-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug in DecorationSet.map that could cause invalid mapping when step maps contain multiple replaced ranges.">修复<code>DecorationSet.map</code>中的一个错误，该错误可能在步骤映射包含多个替换范围时导致无效映射。</p>
<p data-x-en="Make sure that when the editor receives focus via tab or calling .focus() on its DOM element, the existing selection is restored.">确保当编辑器通过 Tab 键或调用 <code>.focus()</code> 在其 DOM 元素上获得焦点时，现有的选择被恢复。</p>
<p data-x-en="Avoid collapsing of whitespace in Firefox when the editor doesn't have white-space set to pre-wrap.">在编辑器没有将<code>white-space</code>设置为<code>pre-wrap</code>时，避免在Firefox中空白折叠。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.6.0 (2022-08-07)</h3>
<h4>New features</h4>
<p data-x-en="disableDropCursor is now passed the dragover event as 3rd argument."><code>disableDropCursor</code> 现在将 dragover 事件作为第三个参数传递。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.27.0 (2022-07-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that in some situations caused composition to be disrupted on Chrome due to a workaround for another browser issue activating inappropriately.">修复一个在某些情况下由于另一个浏览器问题的解决方法不适当地激活而导致在Chrome上组合被中断的错误。</p>
<h4>New features</h4>
<p data-x-en="EditorProps now takes an optional type parameter that indicates the type of this in prop functions."><code>EditorProps</code> 现在接受一个可选的类型参数，该参数指示属性函数中 <code>this</code> 的类型。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.2.1 (2022-07-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression where lifting a nested list could crash.">修复提升嵌套列表时可能崩溃的回归问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.26.5 (2022-07-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where a composition happening at the same time as widget insertion/removal could corrupt the rendered DOM.">修复在小部件插入/移除时发生的合成可能会破坏渲染的DOM的问题。</p>
<p data-x-en="Fix a problem where coordsAtPos would look inside the DOM for atomic nodes, and sometimes return very odd positions that way.">修复了<code>coordsAtPos</code>会在DOM中查找原子节点，有时会因此返回非常奇怪的位置的问题。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.9.3 (2022-07-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure '!' characters in front of links are escaped.">确保在链接前的'!'字符被转义。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.26.4 (2022-07-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Avoid spurious type errors on handleDOMEvents by widening the type for unknown event objects.">通过扩展未知事件对象的类型来避免在<code>handleDOMEvents</code>上出现虚假的类型错误。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.9.2 (2022-07-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't escape characters in autolinks.">不要在自动链接中转义字符。</p>
<p data-x-en="Fix a bug that caused the serializer to not escape start-of-line markup when inside a list.">修复了一个导致序列化器在列表中时不转义行首标记的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.26.3 (2022-06-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around a Safari bug where mutation records get delivered even though the observer wasn't observing when the mutations happened.">解决Safari中的一个错误，即使观察者在变更发生时没有进行观察，变更记录仍会被传递。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.4.1 (2022-06-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make the SelectionRange constructor public in the types.">将<code>SelectionRange</code>构造函数在类型中设为public。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.26.2 (2022-06-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Mark prosemirror.css as having side effects in package.json.">在 package.json 中将 prosemirror.css 标记为具有副作用。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.2.1 (2022-06-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Export CSS file from package.json.">从 package.json 导出 CSS 文件。</p>
<h3><a href="../ref/#example-setup">prosemirror-example-setup</a> 1.2.1 (2022-06-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Export CSS file from package.json.">从 package.json 导出 CSS 文件。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.18.1 (2022-06-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Upgrade to orderedmap 2.0.0 to avoid around a TypeScript compilation issue.">升级到 orderedmap 2.0.0 以避免 TypeScript 编译问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.26.1 (2022-06-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix incorrect types for handleDrop and decorations. Document open properties on widget specs">修复 <code>handleDrop</code> 和 <code>decorations</code> 的错误类型。在小部件规格上记录开放属性。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.18.0 (2022-06-07)</h3>
<h4>New features</h4>
<p data-x-en="Node specs for leaf nodes now support a property leafText which, when given, will be used by textContent and textBetween to serialize the node.">叶节点的节点规格现在支持一个属性<code>leafText</code>，当提供该属性时，将由<code>textContent</code>和<code>textBetween</code>用于序列化节点。</p>
<p data-x-en="Add optional type parameters to Schema for the node and mark names. Clarify Schema type parameters">为节点和标记名称向<code>Schema</code>添加可选类型参数。澄清Schema类型参数</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.26.0 (2022-06-07)</h3>
<h4>New features</h4>
<p data-x-en="Export the NodeViewConstructor and MarkViewConstructor types. Include Node/MarkViewConstructor in doc template">导出<code>NodeViewConstructor</code>和<code>MarkViewConstructor</code>类型。在文档模板中包含Node/MarkViewConstructor。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.3.1 (2022-06-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Export CSS file from package.json.">从 package.json 导出 CSS 文件。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.9.1 (2022-06-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where inline nodes with content would reset the marks in their parent node during Markdown parsing.">修复在Markdown解析期间，包含内容的内联节点会重置其父节点中的标记的错误。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.6.0 (2022-06-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Allow replace steps to be mapped through changes that delete content next to their start and end points, as long as no delete spans across those points.">允许替换步骤通过删除其起点和终点旁边的内容进行映射，只要没有删除跨越这些点。</p>
<h4>New features</h4>
<p data-x-en="MapResult objects now provide information about whether the tokens before, after, and around the position were deleted."><code>MapResult</code> 对象现在提供有关位置前后和周围的标记是否被删除的信息。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.25.0 (2022-06-01)</h3>
<h4>New features</h4>
<p data-x-en="Mark views can now be specified with a separate editor prop, markViews, to make it easier to get the types right.">现在可以使用单独的编辑器属性<code>markViews</code>来指定标记视图，以便更容易获取正确的类型。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.17.0 (2022-05-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in DOM parsing.">修复DOM解析中的崩溃。</p>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.5.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.4.0 (2022-05-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Creating a TextSelection with endpoints that don't point at inline positions now emits a warning. (It is technically an error, but crashing on it might be too disruptive for some existing setups.)">创建一个<code>TextSelection</code>，其端点不指向内联位置现在会发出警告。（从技术上讲，这是一个错误，但在某些现有设置中崩溃可能会过于破坏性。）</p>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.24.1 (2022-05-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression that caused the key handler to crash.">修复导致键处理程序崩溃的回归。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.24.0 (2022-05-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where bogus table wrappers could be added when copy-pasting table content nodes within an editor.">修复在编辑器中复制粘贴表格内容节点时可能添加虚假表格包装器的问题。</p>
<p data-x-en="Fix a crash that could occur when two textblocks were joined in the editor DOM.">修复在编辑器DOM中合并两个文本块时可能发生的崩溃。</p>
<p data-x-en="Treat ctrl-b/f/p/n on macOS similar to arrow key presses, anticipating cursor motion.">将 ctrl-b/f/p/n 在 macOS 上的处理方式类似于箭头键按下，预期光标移动。</p>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.2.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.2.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.3.0 (2022-05-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the default behavior of history beforeInput events could still go through when the undo history is empty.">修复一个问题，当撤销历史为空时，history beforeInput 事件的默认行为仍然会通过。</p>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 1.3.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.3.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.3.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 1.2.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.2.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.2.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#example-setup">prosemirror-example-setup</a> 1.2.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.9.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.5.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#test-builder">prosemirror-test-builder</a> 1.1.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.2.0 (2022-05-30)</h3>
<h4>New features</h4>
<p data-x-en="Include TypeScript type declarations.">包含 TypeScript 类型声明。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.13 (2022-04-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around a hidden cursor issue in Chrome when a textblock ends in an uneditable node wrapped in a mark.">解决在Chrome中，当文本块以标记包裹的不可编辑节点结尾时，隐藏光标的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.12 (2022-04-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where enter on Chrome Android could, in textblock nodes rendered with an inner content element, delete the text after the cursor.">修复一个问题，即在 Chrome Android 上，按下回车键可能会在带有内部内容元素的文本块节点中删除光标后的文本。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.4.2 (2022-04-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make replacements that span to the end of a textblock more consistent with those ending in the middle of the block.">使跨越文本块末尾的替换与在块中间结束的替换更加一致。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.4.1 (2022-03-31)</h3>
<h4>Bug fixes</h4>
<p data-x-en="replaceRange will now close multiple defining parent nodes when appropriate."><code>replaceRange</code> 现在将在适当的时候关闭多个定义的父节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.11 (2022-03-31)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where a node view with a separate content wrapper node could sometimes lose its content on Chrome when backspacing out content due to unexpected DOM element recreation.">修复一个问题，当在 Chrome 中由于意外的 DOM 元素重建而在删除内容时，具有单独内容包装节点的节点视图有时会丢失其内容。</p>
<h3><a href="../ref/#test-builder">prosemirror-test-builder</a> 1.0.6 (2022-03-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make it possible to specify multiple marks of the same type for a given piece of content.">使其可以为给定内容指定多个相同类型的标记。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.10 (2022-03-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in DecorationSet.map that could occur with some kinds of lift transformations.">修复在某些类型的提升转换中可能发生的<code>DecorationSet.map</code>崩溃。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.4.0 (2022-03-21)</h3>
<h4>New features</h4>
<p data-x-en="Node specs can now use the definingForContent and definingAsContext properties to opt in to specific parts of the existing defining behavior.">节点规范现在可以使用<code>definingForContent</code>和<code>definingAsContext</code>属性来选择加入现有<code>defining</code>行为的特定部分。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.2.2 (2022-03-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't override behavior of Home and End keys in base keymap.">不要在基础键映射中覆盖 Home 和 End 键的行为。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.8.0 (2022-03-14)</h3>
<h4>New features</h4>
<p data-x-en="MarkdownSerializer now takes an escapeExtraCharacters option that can be used to control backslash-escaping behavior. Fix types for new option"><code>MarkdownSerializer</code> 现在带有一个 <code>escapeExtraCharacters</code> 选项，可以用来控制反斜杠转义行为。修复新选项的类型</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.9 (2022-03-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure screen readers don't read the <img> nodes added as kludge for cursor behavior.">确保屏幕阅读器不会读取为光标行为而添加的<code>&lt;img&gt;</code>节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.8 (2022-03-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the editor needlessly interrupted composition with IME systems that keep the cursor at the start of the composition, such as some Pinyin input methods.">修复了一个问题，即编辑器在使用将光标保持在组合开始位置的IME系统（如某些拼音输入法）时不必要地中断组合。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.7 (2022-02-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash when a view was being destroyed during input reading.">修复在输入读取期间视图被销毁时的崩溃。</p>
<p data-x-en="Fix a crash on Firefox when replacing text in some specific types of document structure.">修复在某些特定类型的文档结构中替换文本时Firefox崩溃的问题。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.2.2 (2022-02-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure compositions started from a gap cursor have their inline context created in advance, so that they don't get aborted right away.">确保从间隙光标开始的组合提前创建其内联上下文，以免它们立即中止。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.7.1 (2022-02-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Avoid escaping underscores surrounded by word characters.">避免转义被单词字符包围的下划线。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.3.4 (2022-02-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure that constructing an empty StepMap returns StepMap.empty.">确保构造一个空的<code>StepMap</code>返回<code>StepMap.empty</code>。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.2.1 (2022-01-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where joinBackward and joinForward would return true when activated with the cursor in an empty but undeletable block, but not make any change.">修复一个问题，当光标位于一个空但不可删除的块中时，<code>joinBackward</code> 和 <code>joinForward</code> 会返回 true，但不会进行任何更改。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.2.0 (2022-01-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add a workaround for a bug on macOS where Ctrl-a and Ctrl-e getting stuck at the edge of inline nodes.">为macOS上的一个错误添加变通方法，该错误导致Ctrl-a和Ctrl-e卡在内联节点的边缘。</p>
<h4>New features</h4>
<p data-x-en="The new selectTextblockEnd and selectTextblockStart commands move the cursor to the start/end of the textblock, when inside one.">新的<code>selectTextblockEnd</code>和<code>selectTextblockStart</code>命令在光标位于文本块内时将其移动到文本块的开始/结束位置。</p>
<p data-x-en="Ctrl-a/e on macOS and Home/End on other platforms are now bound to selectTextblockEnd and selectTextblockStart.">在 macOS 上，Ctrl-a/e 和在其他平台上的 Home/End 现在绑定到 <code>selectTextblockEnd</code> 和 <code>selectTextblockStart</code>。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.6 (2022-01-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue that could cause pieces of DOM to not be synchronized with the document after some kind of changes around marks.">修复一个问题，该问题可能导致在标记周围进行某些更改后，DOM 的部分内容无法与文档同步。</p>
<p data-x-en="Fix a bug where marks rendered with nested elements would in some situations suppress new input.">修复一个错误，其中带有嵌套元素的标记在某些情况下会抑制新的输入。</p>
<p data-x-en="Disable Chrome-specific drag-selection workaround in non-Chrome browsers because it affected table cell selection in Safari.">在非Chrome浏览器中禁用特定于Chrome的拖动选择解决方法，因为它影响了Safari中的表格单元格选择。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.7.0 (2022-01-06)</h3>
<h4>New features</h4>
<p data-x-en="Upgrade markdown-it to version 12.">将 markdown-it 升级到版本 12。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.6.2 (2022-01-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where URL text in links and images was overzealously escaped.">修复了链接和图像中的URL文本被过度转义的错误。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.16.1 (2021-12-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug in the way whitespace-preservation options were handled in DOMParser.">修复了<code>DOMParser</code>中处理空白保留选项的方式中的一个错误。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.16.0 (2021-12-27)</h3>
<h4>New features</h4>
<p data-x-en="A new NodeSpec property, whitespace, allows more control over the way whitespace in the content of the node is parsed.">一个新的<code>NodeSpec</code>属性<code>whitespace</code>，允许对节点内容中的空白进行更多控制。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.5 (2021-12-27)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Use the whitespace node prop where appropriate.">使用<code>whitespace</code>节点属性在适当的地方。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.4 (2021-12-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve the way the editor handles the mess of events produced when pressing Enter before a word that was just typed on Chrome + GBoard.">改善编辑器在Chrome + GBoard上按下Enter键之前处理刚输入的单词时产生的事件混乱的方式。</p>
<p data-x-en="Fix an issue where compositions right before another instance of the composed text could cause the editor to crash.">修复一个问题，即在另一个实例的组合文本之前的组合可能导致编辑器崩溃。</p>
<p data-x-en="Fix an issue where, if decorations changed during a pointer drag selection, the selection anchor might move around inappropriately.">修复一个问题，即如果在指针拖动选择期间装饰发生变化，选择锚点可能会不适当地移动。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.2.1 (2021-12-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where a gap cursor would fail to show up at the start or end of some isolating nodes.">修复一个问题，即在某些隔离节点的开始或结束处，间隙光标无法显示。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.6.1 (2021-12-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where MarkdownParser.parse could return null when the parsed content doesn't fit the schema.">修复了一个错误，当解析的内容不符合模式时，<code>MarkdownParser.parse</code> 可能返回 null。</p>
<p data-x-en="Make sure underscores are escaped when serializing to Markdown.">确保在序列化为Markdown时对下划线进行转义。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.3 (2021-11-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The clipboard parser will no longer drop trailing <br> nodes that appear in an inline parent element.">剪贴板解析器将不再丢弃出现在内联父元素中的尾随<code>&lt;br&gt;</code>节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.2 (2021-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Avoid some unnecessary node redraws when marks are present in sibling nodes.">避免在兄弟节点中存在标记时进行一些不必要的节点重绘。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.1 (2021-11-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Restore accidentally reduced lookahead distance in view updating algorithm.">恢复在视图更新算法中意外减少的前瞻距离。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.23.0 (2021-11-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="When parsing clipboard content, ignore trailing BR nodes that look like they might be there as a contenteditable kludge.">在解析剪贴板内容时，忽略看起来像是contenteditable权宜之计的尾随BR节点。</p>
<h4>New features</h4>
<p data-x-en="EditorView now exposes an isDestroyed property that can be used to test if the view has been destroyed."><code>EditorView</code> 现在暴露了一个 <code>isDestroyed</code> 属性，可以用来测试视图是否已被销毁。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.4.0 (2021-11-11)</h3>
<h4>New features</h4>
<p data-x-en="Add support for a disableDropCursor property on node specs, which can be used to turn off the drop cursor inside such nodes.">为节点规范添加<code>disableDropCursor</code>属性的支持，可以用来关闭这些节点内的拖放光标。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.22.0 (2021-11-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where some types of node decoration changes could cause an unnecessary cascade of node redraws.">修复某些类型的节点装饰更改可能导致不必要的节点重绘级联的问题。</p>
<h4>New features</h4>
<p data-x-en="Widget decorations now accept a destroy option, which will be called when the widget is removed from the view.">小部件装饰现在接受一个<code>destroy</code>选项，当小部件从视图中移除时将被调用。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.21.0 (2021-10-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where recent Mobile Safari versions weren't treated as Mac platforms.">修复最近的Mobile Safari版本未被视为Mac平台的问题。</p>
<h4>New features</h4>
<p data-x-en="Multiple style properties provided through the attributes prop are now merged. Adjust mac detection for recent changes to navigator.platform on iOS">多个<code>style</code>属性通过<code>attributes</code>道具现在合并。调整mac检测以适应iOS上navigator.platform的最新变化。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.1.5 (2021-10-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where iPhones and iPads with a hardware keyboard didn't have Mod converted to Cmd.">修复iPhone和iPad使用硬件键盘时Mod未转换为Cmd的问题。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.12 (2021-10-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where the default PC keymap was used on recent versions of iPhone or iPad operating systems.">修复在最新版本的iPhone或iPad操作系统上使用默认PC键盘布局的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.15.0 (2021-10-25)</h3>
<h4>New features</h4>
<p data-x-en="textBetween now allows its leaf text argument to be a function."><code>textBetween</code> 现在允许其叶文本参数为一个函数。</p>
<h3><a href="../ref/#test-builder">prosemirror-test-builder</a> 1.0.5 (2021-10-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Go back to regular dependencies, so that the package works on NPM <7.">回到常规依赖项，以便该包在 NPM &lt;7. 上工作。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.20.3 (2021-10-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Stop removing leading/trailing whitespace from pasted plain text.">停止删除粘贴纯文本中的前导/尾随空白。</p>
<p data-x-en="Fix an issue that could cause invalid content to be produced when pasting HTML with isolating nodes in it.">修复一个问题，该问题可能在粘贴包含隔离节点的HTML时导致生成无效内容。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.20.2 (2021-10-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash when pasting whitespace-only content as text.">修复粘贴仅包含空白内容作为文本时的崩溃问题。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.11 (2021-10-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add a binding for Shift-Backspace to the base keymap, so that shift or caps-lock won't interfere with backspace behavior.">为基础键映射添加Shift-Backspace绑定，以便Shift或Caps-Lock不会干扰Backspace行为。</p>
<p data-x-en="Fix an issue in autoJoin that made it ignore a third argument if it was passed one.">修复<code>autoJoin</code>中的一个问题，该问题导致其忽略传递的第三个参数。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.3.3 (2021-09-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an inconsistency in deleteRange where it would delete the parent node for ranges covering all textblocks in a given parent.">修复<code>deleteRange</code>中的不一致性，该不一致性会删除覆盖给定父节点中所有文本块的范围的父节点。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.1.6 (2021-09-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in liftListItem that happens when list items that can't be merged are lifted together.">修复在一起提升无法合并的列表项时发生的<code>liftListItem</code>崩溃问题。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.6.0 (2021-09-21)</h3>
<h4>New features</h4>
<p data-x-en="MarkdownParser.tokenizer is now public, for easier creation of parsers that base on other parsers."><code>MarkdownParser.tokenizer</code> 现在是公开的，以便更容易创建基于其他解析器的解析器。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.2.0 (2021-09-20)</h3>
<h4>New features</h4>
<p data-x-en="The GapCursor constructor is now public."><code>GapCursor</code> 构造函数现在是公开的。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.20.1 (2021-09-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The library accidentally allowed node decorations on text nodes. It no longer does.">图书馆意外地允许在文本节点上进行节点装饰。现在不再允许。</p>
<p data-x-en="Fix an issue on Chrome and Safari where coordinates for positions between uneditable nodes and the end of a textblock would return zero-height rectangles.">修复在 Chrome 和 Safari 上的一个问题，即在不可编辑节点和文本块末尾之间的位置坐标会返回零高度矩形。</p>
<p data-x-en="Fix a bug where vertical endOfTextblock queries could inappropriately return true when a small line height is used.">修复一个错误，当使用较小的行高时，垂直<code>endOfTextblock</code>查询可能会不适当地返回true。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.20.0 (2021-09-03)</h3>
<h4>New features</h4>
<p data-x-en="It is now possible to pass plugins directly to the view with the plugins direct prop.">现在可以通过<code>plugins</code>直接属性将插件直接传递给视图。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.5.2 (2021-09-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Serializing to Markdown now properly escapes '>' characters at the start of the line.">序列化为Markdown现在可以正确地转义行首的'&gt;'字符。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.19.3 (2021-08-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where generic styles for elements could cause separator nodes created by the editor to impact layout.">修复一个问题，即元素的通用样式可能导致编辑器创建的分隔符节点影响布局。</p>
<p data-x-en="Fix an issue where moving to another tab and back could clear a node selection.">修复一个问题，即切换到另一个标签页然后返回时可能会清除节点选择。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.19.2 (2021-08-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Avoid some bugs around drag-selecting by delaying synchronization between the DOM and the state selection until the end of the drag.">通过将 DOM 和状态选择之间的同步延迟到拖动结束，避免拖动选择时的一些错误。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.2.0 (2021-08-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that caused the beforeInput handler to not actually invoke the history commands properly.">修复了一个导致<code>beforeInput</code>处理程序未能正确调用历史命令的错误。</p>
<h4>New features</h4>
<p data-x-en="The history plugin now listens for beforeInput events with historyUndo or historyRedo type, and applies the undo/redo commands when they occur.">历史插件现在监听<code>beforeInput</code>事件，类型为<code>historyUndo</code>或<code>historyRedo</code>，并在发生时应用撤销/重做命令。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.19.1 (2021-08-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix another issue around copy-pasting table structure, causing inappropriate opening of copied cell selections.">修复另一个关于复制粘贴表格结构的问题，导致复制的单元格选择不适当地打开。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.19.0 (2021-08-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add a DOM attribute to the content element to avoid automatic translation services from messing with the editable text.">为内容元素添加一个DOM属性，以避免自动翻译服务干扰可编辑文本。</p>
<p data-x-en="Fix a bug where copy-pasting table content sometimes carried along superfluous table markup.">修复一个错误，该错误在复制粘贴表格内容时有时会带上多余的表格标记。</p>
<p data-x-en="Fix issue where end-of-textblock detection didn't use the correct selection when in a shadow root.">修复在影子根中结束文本块检测未使用正确选择的问题。</p>
<h4>New features</h4>
<p data-x-en="The DecorationSource interface now exposes a map method. Add a translate=no attribute to the editor element by default"><code>DecorationSource</code> 接口现在公开了一个 <code>map</code> 方法。默认情况下向编辑器元素添加 translate=no 属性</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.14.3 (2021-07-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="DOMSerializer.serializeNode will no longer ignore the node's marks."><code>DOMSerializer.serializeNode</code> 将不再忽略节点的标记。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.11 (2021-07-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around an issue where Chrome and Safari will replace some spaces with non-breaking spaces when putting HTML on the clipboard.">解决 Chrome 和 Safari 在将 HTML 放入剪贴板时会将某些空格替换为不间断空格的问题。</p>
<p data-x-en="When pasting as plain text (shift-mod-v) apply the marks at the selection to the inserted content.">当以纯文本粘贴（shift-mod-v）时，将选择中的标记应用于插入的内容。</p>
<p data-x-en="Fix flaky behavior when starting a composition with a selection that spans multiple blocks.">修复在使用跨多个块的选择开始组合时的不稳定行为。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.10 (2021-07-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where dragging from just outside a draggable node on Chrome would cause odd dragging behavior.">修复在 Chrome 上从可拖动节点外部拖动时会导致奇怪拖动行为的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.9 (2021-07-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug in the previous release where handleClickOn wasn't fired anymore for clicks with the middle or right mouse button.">修复上一个版本中的一个错误，即<code>handleClickOn</code>不再对中键或右键点击触发。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.1.5 (2021-07-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where splitListItem would delete content when activated in a sublist that had content directly after it.">修复在子列表中激活<code>splitListItem</code>时会删除其后直接内容的问题。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.10 (2021-07-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make joinBackward capable of joining textblocks wrapped in parent nodes when the parent nodes themselves can't be joined (for example two list items which allow only a single paragraph).">使<code>joinBackward</code>能够在父节点本身无法合并时合并被父节点包裹的文本块（例如，只允许单个段落的两个列表项）。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.8 (2021-06-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around a Safari bug where it draws the cursor at the start of the line when it is after an uneditable node at the end of the line.">解决Safari的一个错误，当光标位于行尾的不可编辑节点之后时，它会将光标绘制在行首。</p>
<p data-x-en="Fix an issue where the DOM could get out of sync when editing decorated text.">修复在编辑装饰文本时DOM可能不同步的问题。</p>
<p data-x-en="Work around an issue where Firefox draws the cursor on the wrong line when after a newline.">解决在换行后Firefox将光标绘制在错误行的问题。</p>
<p data-x-en="Fix a bug where double-clicking with the left mouse button and then pressing another mouse button was treated as a triple click.">修复一个错误，即用左键双击后再按下另一个鼠标按钮会被视为三击。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.14.2 (2021-06-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Be less agressive about dropping whitespace when the context isn't know in DOMParser.parseSlice.">在<code>DOMParser.parseSlice</code>中，当上下文未知时，不要过于激进地删除空白。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.9 (2021-06-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression where splitBlock could crash when splitting at the end of a non-default block.">修复了一个回归问题，当在非默认块的末尾拆分时，<code>splitBlock</code> 可能会崩溃。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.3.5 (2021-05-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Avoid a crash that happened when the document shrank during dragging.">避免在拖动过程中文档缩小时发生崩溃。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.8 (2021-05-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in splitBlock that occurred with certain types of schemas.">修复在某些类型的模式下发生的<code>splitBlock</code>崩溃。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.7 (2021-05-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where clicking on a textblock that had a node-selected parent didn't set a cursor selection.">修复了一个错误，当点击具有节点选择父级的文本块时，没有设置光标选择。</p>
<p data-x-en="Fix a bug that caused a workaround for a Chrome Android issue to not work correctly, leading to bad cursor placement after some types of text input.">修复了一个导致 Chrome Android 问题的变通方法无法正常工作的问题，该问题会在某些类型的文本输入后导致光标位置错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.6 (2021-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in mouse click handling introduced in the previous version.">修复上一版本中引入的鼠标点击处理崩溃问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.5 (2021-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around a Firefox bug where backspace sometimes deletes the node after the cursor.">解决 Firefox 中的一个错误，该错误有时会在光标后删除节点。</p>
<p data-x-en="Fix a bug that prevented transformPasted hooks from being called on content dragged within the editor.">修复了一个阻止<code>transformPasted</code>钩子在编辑器内拖动内容时被调用的错误。</p>
<p data-x-en="Fixes an issue where clicking near a node or other special selection on Chrome would in some cases do nothing.">修复了在 Chrome 上点击节点或其他特殊选择附近有时无效的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.4 (2021-04-27)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix incorrect drag cursor in Chrome on some platforms.">修复在某些平台上Chrome中的拖动光标不正确的问题。</p>
<p data-x-en="Fix an issue where a race condition could leave a node uneditable when clicked.">修复一个竞态条件可能导致节点在点击时无法编辑的问题。</p>
<p data-x-en="Fix scroll handling when the editor is placed through a DOM component slot.">修复当编辑器通过DOM组件插槽放置时的滚动处理。</p>
<p data-x-en="Fix a typo in the Chrome backspace workaround.">修复Chrome退格键解决方法中的拼写错误。</p>
<p data-x-en="Fixes an issue where, when mouseup events weren't being delivered, the editor could leak event handlers.">修复了一个问题，当 mouseup 事件未被传递时，编辑器可能会泄漏事件处理程序。</p>
<h3><a href="../ref/#test-builder">prosemirror-test-builder</a> 1.0.4 (2021-04-27)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Treat ProseMirror libraries as peer dependencies, to avoid duplicate libraries when using this.">将 ProseMirror 库视为对等依赖项，以避免使用时出现重复的库。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.14.1 (2021-04-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="DOM parsing with preserveWhitespace: &quot;full&quot; will no longer ignore whitespace-only nodes.">使用<code>preserveWhitespace: "full"</code>进行DOM解析将不再忽略仅包含空白的节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.3 (2021-04-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where, when pressing enter or space at the start of a composition, the cursor would jump to the end of the composition on Chrome Android.">修复一个问题，当在 Chrome Android 上的组合开始时按下回车或空格键时，光标会跳到组合的末尾。</p>
<p data-x-en="Fix an issue that would cause Enter presses to be dropped on Android when in a node whose DOM representation nested more than one element.">修复一个问题，该问题会导致在 Android 上，当处于一个 DOM 表示嵌套多个元素的节点中时，Enter 按键被丢弃。</p>
<p data-x-en="Fix a bug where pasting specific types of HTML could cause a crash.">修复粘贴特定类型的HTML可能导致崩溃的错误。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.14.0 (2021-04-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Node.check will now error if a node has an invalid combination of marks."><code>Node.check</code> 现在会在节点具有无效的标记组合时出错。</p>
<p data-x-en="Don't leave carriage return characters in parsed DOM content, since they confuse Chrome's cursor motion.">不要在解析的DOM内容中留下回车字符，因为它们会干扰Chrome的光标移动。</p>
<h4>New features</h4>
<p data-x-en="Fragment.textBetween is now public."><code>Fragment.textBetween</code> 现在是公开的。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.3.2 (2021-04-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression in dropPoint that caused it to dereference undefined in some circumstances.">修复<code>dropPoint</code>中的一个回归问题，该问题在某些情况下导致其取消引用未定义。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.3.1 (2021-04-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in Transform.replaceRange when called with under specific circumstances.">在特定情况下调用时修复<code>Transform.replaceRange</code>中的崩溃。</p>
<p data-x-en="Fix an issue where dropPoint could return an invalid drop point.">修复<code>dropPoint</code>可能返回无效放置点的问题。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.3.4 (2021-04-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Hide the drop cursor when dropPoint doesn't return a position.">当<code>dropPoint</code>不返回位置时隐藏光标。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.3.0 (2021-03-31)</h3>
<h4>New features</h4>
<p data-x-en="The various properties of subclasses of Step (ReplaceStep, ReplaceAroundStep, AddMarkStep, and RemoveMarkStep) are now part of the public interface.">各个<code>Step</code>子类（<code>ReplaceStep</code>、<code>ReplaceAroundStep</code>、<code>AddMarkStep</code>和<code>RemoveMarkStep</code>）的各种属性现在是公共接口的一部分。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.2 (2021-03-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Properly handle CSS class name strings with extra spaces in decorations.">正确处理装饰中带有额外空格的CSS类名字符串。</p>
<p data-x-en="Fix a performance bug when updating nodes with thousands of children.">修复在更新具有数千个子节点的节点时的性能错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.1 (2021-03-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix the scrolling-into-view logic in the case where a scale transformation is applied to the editor. Strip carriage return chars from text pasted as code">修复在对编辑器应用缩放变换的情况下滚动到视图的逻辑。 从粘贴为代码的文本中去除回车字符</p>
<p data-x-en="Remove carriage return characters when pasting text into code blocks.">将文本粘贴到代码块时，删除回车符。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.18.0 (2021-03-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in posAtDOM.">修复<code>posAtDOM</code>中的崩溃。</p>
<h4>New features</h4>
<p data-x-en="Node view constructors and update methods are now passed the inner decorations of the node.">节点视图构造函数和<code>update</code>方法现在传递节点的内部装饰。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.17.8 (2021-02-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where some user actions (such as enter on iOS) in a node whose content DOM element isn't it's top element could leave the DOM in a damaged state.">修复一个问题，即在内容 DOM 元素不是其顶级元素的节点中，一些用户操作（例如在 iOS 上按回车）可能会使 DOM 处于损坏状态。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.17.7 (2021-02-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the ProseMirror-hideselection element class would be briefly removed and then restored when moving from one invisible selection to another.">修复了从一个不可见选择移动到另一个不可见选择时，<code>ProseMirror-hideselection</code> 元素类会被短暂移除然后恢复的问题。</p>
<p data-x-en="Fix an issue where the cursor could end up on the wrong side of a widget with side < 0.">修复一个问题，即光标可能会出现在具有<code>side</code> &lt; 0的部件的错误一侧。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.7 (2021-02-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression where createParagraphNear no longer fired for gap cursor selections.">修复了<code>createParagraphNear</code>不再为间隙光标选择触发的回归问题。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.12 (2021-02-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where merging replace steps with the structure flag could create steps that couldn't be applied.">修复了一个错误，其中合并带有<code>structure</code>标志的替换步骤可能会创建无法应用的步骤。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.17.6 (2021-02-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where using the vertical arrow keys after select-all didn't update the selection.">修复在全选后使用垂直箭头键未更新选择的问题。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.6 (2021-02-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve behavior of enter when the entire document is selected.">在整个文档被选中时改进回车键的行为。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.11 (2021-02-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue in Transform.removeMark where the mark type was passed through to be removed instead of the mark itself.">修复 <code>Transform.removeMark</code> 中的一个问题，其中传递了要移除的标记类型而不是标记本身。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.10 (2021-02-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where Transform.removeMark, when given a mark type, would only remove the first instance from nodes that had multiple marks of the type.">修复了<code>Transform.removeMark</code>的问题，当给定一个标记类型时，它只会从具有多个该类型标记的节点中删除第一个实例。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.17.5 (2021-02-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the view could go into an endless DOM flush loop in specific circumstances involving asynchronous DOM mutation.">修复在涉及异步DOM变更的特定情况下视图可能进入无尽的DOM刷新循环的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.13.3 (2021-02-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where nested tags that match mark parser rules could cause the parser to apply marks in invalid places.">修复一个问题，即嵌套标签匹配标记解析器规则可能导致解析器在无效位置应用标记。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.13.2 (2021-02-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="MarkType.removeFromSet now removes all instances of the mark, not just the first one."><code>MarkType.removeFromSet</code> 现在会移除所有实例的标记，而不仅仅是第一个。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.17.4 (2021-02-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Add another kludge to work around an issue where Firefox displays the cursor in the wrong place in code blocks.">再添加一个权宜之计，以解决Firefox在代码块中显示光标位置错误的问题。</p>
<p data-x-en="Fix a bug where validation of decorations passed to DecorationSet.add sometimes passed the wrong offsets to the validator.">修复了一个错误，其中传递给<code>DecorationSet.add</code>的装饰验证有时会传递错误的偏移量给验证器。</p>
<p data-x-en="Fix bad selection position in empty textblocks. Solves several issues with editing in Firefox Android.">修复空文本块中的错误选择位置。解决了在 Firefox Android 中编辑的几个问题。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.3.3 (2021-02-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix drop cursor positioning when the editor's offsetParent has been scrolled.">修复当编辑器的<code>offsetParent</code>被滚动时的光标定位问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.17.3 (2021-01-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where adding invalid decorations (for example zero-length inline decorations) with DecorationSet.add would fail to drop those.">修复了一个错误，即使用<code>DecorationSet.add</code>添加无效装饰（例如零长度的内联装饰）时未能删除这些装饰。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.3.4 (2021-01-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Remove (broken, poorly conceptualized) schema option to EditorState.reconfigure.">删除（破损、概念不佳的）<code>schema</code>选项以<code>EditorState.reconfigure</code>。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.9 (2021-01-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where AddMarkStep would mark inline nodes with content.">修复<code>AddMarkStep</code>会标记带有内容的内联节点的问题。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.5 (2021-01-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="joinBackward and joinForward will now, when the textblock after the cut can't be moved into the structure before the cut, try to just join the inline content onto the last child in the structure before the cut."><code>joinBackward</code> 和 <code>joinForward</code> 现在，当剪切后的文本块无法移动到剪切前的结构中时，会尝试将内联内容连接到剪切前结构中的最后一个子元素。</p>
<p data-x-en="toggleMark will now skip whitespace at the start and end of the selection when adding a mark."><code>toggleMark</code> 现在在添加标记时将跳过选择范围的开头和结尾的空白。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.17.2 (2021-01-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The library will now always let the browser perform its native pasting behavior when the clipboard data is empty and no paste handler handles the event.">图书馆现在将始终允许浏览器在剪贴板数据为空且没有粘贴处理程序处理事件时执行其本机粘贴行为。</p>
<p data-x-en="Fix a bug where domAtPos (and thus cursor placement) would pick positions inside uneditable DOM or atom nodes.">修复了一个错误，其中<code>domAtPos</code>（以及光标位置）会选择不可编辑的DOM或原子节点内的位置。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.17.1 (2021-01-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression in coordsAtPos when used on an empty line at the end of a code block.">修复在代码块末尾的空行上使用<code>coordsAtPos</code>时的回归问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.17.0 (2021-01-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where starting a composition with stored marks would sometimes create the wrong steps (and thus break the mark) on Chrome.">修复在 Chrome 上使用存储的标记开始创作时，有时会创建错误步骤（从而破坏标记）的问题。</p>
<h4>New features</h4>
<p data-x-en="EditorView.domAtPos now takes a second parameter that can be used to control whether it should enter DOM nodes on the side of the given position."><code>EditorView.domAtPos</code> 现在接受第二个参数，该参数可用于控制它是否应进入给定位置一侧的 DOM 节点。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.5.1 (2021-01-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The Markdown parser will now correctly set the tight attribute on list nodes.">Markdown 解析器现在将正确地在列表节点上设置 <code>tight</code> 属性。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.13.1 (2020-12-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where nested marks of the same type would be applied to the wrong node when parsing from DOM.">修复一个错误，当从DOM解析时，相同类型的嵌套标记会应用到错误的节点。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.13.0 (2020-12-11)</h3>
<h4>New features</h4>
<p data-x-en="Parse rules can now have a consuming: false property which allows other rules to match their tag or style even when they apply.">解析规则现在可以有一个<code>consuming: false</code>属性，这允许其他规则在它们应用时匹配它们的标签或样式。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.16.5 (2020-12-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix platform detection on recent iPadOS versions, restoring several workarounds for bugs that were accidentally turned off there.">修复在最近的iPadOS版本上的平台检测，恢复一些在此意外关闭的错误解决方法。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.16.4 (2020-12-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the cursor ended up in the wrong place when pressing enter in an empty heading on iOS.">修复在iOS上按回车键时光标出现在空标题中的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.16.3 (2020-11-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where pressing enter at the start of a line in a code block would leave the visible cursor in the wrong place on Firefox.">修复在代码块的行首按下回车键会导致在Firefox上可见光标位置错误的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.16.2 (2020-11-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where overlapping inline decorations would get drawn incorrectly (and even corrupt the drawing of unrelated content).">修复一个错误，其中重叠的内联装饰会被错误地绘制（甚至会破坏不相关内容的绘制）。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.16.1 (2020-10-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the attributes of defining nodes were dropped when copying to the clipboard.">修复将节点复制到剪贴板时丢失定义节点属性的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.12.0 (2020-10-11)</h3>
<h4>New features</h4>
<p data-x-en="The output of toDOM functions can now be a {dom, contentDOM} object specifying the precise parent and content DOM elements."><code>toDOM</code> 函数的输出现在可以是一个 <code>{dom, contentDOM}</code> 对象，指定精确的父元素和内容 DOM 元素。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.16.0 (2020-10-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where a drag starting briefly after an aborted drag could confuse the view and break the second drag. Allow callers of coordsAtPos to specify a side">修复在中止拖动后不久开始的拖动可能会混淆视图并破坏第二次拖动的问题。允许coordsAtPos的调用者指定一个侧。</p>
<h4>New features</h4>
<p data-x-en="EditorView.coordsAtPos now takes a side argument that determines which side of the position to look, if ambiguous."><code>EditorView.coordsAtPos</code> 现在接受一个 <code>side</code> 参数，如果位置不明确，该参数决定查看位置的哪一侧。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.1.3 (2020-09-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash when undoing input rules when the rule was triggered without inserting text.">修复在未插入文本触发规则时撤销输入规则时的崩溃。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.11.2 (2020-09-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where 1.11.1 uses an array method not available on Internet Explorer.">修复1.11.1在Internet Explorer上使用不可用的数组方法的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.11.1 (2020-09-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where an inner node's mark information could reset the same mark provided by an outer node in the DOM parser.">修复在DOM解析器中，内部节点的标记信息可能会重置外部节点提供的相同标记的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.15.7 (2020-09-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where, when inserting <br> nodes, Safari would briefly show the cursor before the inserted break, though the DOM selection had already been set after it.">修复一个问题，当插入<code>&lt;br&gt;</code>节点时，Safari会在插入的换行符之前短暂显示光标，尽管DOM选择已经设置在其之后。</p>
<p data-x-en="When dragging inside the editor, whether the operation copies or moves is now determined by the modifiers held on drop, not on drag start.">在编辑器内拖动时，操作是复制还是移动现在由放下时按住的修饰键决定，而不是拖动开始时。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.15.6 (2020-09-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where the DOM selection could end up in an invalid state after a keyboard cursor motion event that had no effect.">修复在键盘光标移动事件无效后，DOM选择可能处于无效状态的问题。</p>
<p data-x-en="Fix an issue where some types of drop events would fail to select the dropped content.">修复某些类型的拖放事件无法选择拖放内容的问题。</p>
<p data-x-en="Work around Safari issues when pressing shift-down with the cursor before an uneditable element.">在光标位于不可编辑元素之前按 shift-down 时解决 Safari 问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.15.5 (2020-08-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where mapping a decoration set could corrupt the decoration positions in specific cases.">修复在某些情况下映射装饰集可能会破坏装饰位置的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.15.4 (2020-08-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash that occurred when inline decorations covered inline nodes that weren't leaf nodes.">修复了当内联装饰覆盖非叶节点的内联节点时发生的崩溃。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.8 (2020-08-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where fitting a slice at the top level of the document would, in some circumstances, crash.">修复在某些情况下将切片拟合到文档顶层时会崩溃的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.15.3 (2020-08-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around a Firefox issue where the cursor is sometimes shown in the wrong place when directly after a <br> node.">解决一个Firefox问题，即在<code>&lt;br&gt;</code>节点之后光标有时显示在错误的位置。</p>
<p data-x-en="The editor will now reset composition when stored marks are set on the state, so that the marks can be added to the next input.">编辑器现在将在状态上设置存储标记时重置组合，以便可以将标记添加到下一个输入。</p>
<p data-x-en="Inline decorations are no longer applied to inline nodes that aren't leaves, only to the innermost layer.">内联装饰不再应用于非叶子内联节点，只应用于最内层。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.1.4 (2020-08-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression where liftListItem couldn't lift a paragraph from the end of a composite list item.">修复了一个回归问题，其中<code>liftListItem</code>无法将段落从复合列表项的末尾提升。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.1.3 (2020-08-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where splitListItem could delete other content in the item when pressing enter in an empty paragraph that had other content below it in a list item.">修复了一个问题，当在列表项中按下回车键时，<code>splitListItem</code> 可能会删除该项中其他内容。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.5.0 (2020-07-17)</h3>
<h4>New features</h4>
<p data-x-en="Markdown parse specs can now be specified as noCloseToken, which will cause the parser to treat them as a single token, rather than a pair of _open/_close tokens.">Markdown 解析规范现在可以指定为 <code>noCloseToken</code>，这将导致解析器将它们视为单个标记，而不是一对 <code>_open</code>/<code>_close</code> 标记。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.7 (2020-07-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where in some cases replace fitting would insert an additional bogus node when fitting content into nodes with strict content restrictions.">修复一个问题，在某些情况下，替换拟合会在将内容拟合到具有严格内容限制的节点时插入一个额外的虚假节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.15.2 (2020-07-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Adjust the workaround for Chrome's DOM selection corruption bug to cover more cases.">调整针对 Chrome 的 DOM 选择损坏错误的变通方法，以涵盖更多情况。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.15.1 (2020-07-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around another issue where Chrome misreports the DOM selection.">解决另一个 Chrome 错误报告 DOM 选择的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.11.0 (2020-07-08)</h3>
<h4>New features</h4>
<p data-x-en="Resolved positions have a new convenience method, posAtIndex, which can resolve a depth and index to a position.">已解决的位置有一个新的便捷方法，<code>posAtIndex</code>，它可以将深度和索引解析为一个位置。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.10.1 (2020-07-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that prevented non-canonical list structure from being normalized.">修复了一个阻止非规范列表结构被规范化的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.15.0 (2020-06-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where Enter on iOS might be handled twice on slow devices. Pass plain text flag to transformPastedText and clipboardTextParser props">修复在慢速设备上 iOS 可能会处理两次 Enter 的问题。将纯文本标志传递给 transformPastedText 和 clipboardTextParser 属性</p>
<p data-x-en="Fix a bug where typing in front of a mark could in some circumstances cause the editor to discard the new content.">修复一个错误，在某些情况下，在标记前输入可能会导致编辑器丢弃新内容。</p>
<h4>New features</h4>
<p data-x-en="The transformPastedText and clipboardTextParser props now receive an extra argument, plain, indicating whether the paste was forced as plain text."><code>transformPastedText</code> 和 <code>clipboardTextParser</code> 属性现在接收一个额外的参数，<code>plain</code>，指示粘贴是否被强制为纯文本。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.6 (2020-06-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where creating a replace step would sometimes fail due to unmatchable close tokens after the replaced range.">修复一个问题，即在创建替换步骤时，有时会由于替换范围之后无法匹配的关闭标记而失败。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.13 (2020-06-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where storing DOM nodes directly in widget decorations (not recommended) could cause the view to try and place the same DOM node multiple times.">修复了一个错误，即直接在小部件装饰中存储DOM节点（不推荐）可能导致视图尝试多次放置相同的DOM节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.12 (2020-06-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash when the editor tries to read a DOM selection outside of itself.">修复当编辑器尝试读取自身之外的DOM选择时的崩溃问题。</p>
<p data-x-en="Improve the way inline decorations covering non-leaf inline nodes are rendered. Ensure elt is defined before accessing it in posAtCoords">改进覆盖非叶内联节点的内联装饰的渲染方式。确保在posAtCoords中访问elt之前定义它。</p>
<p data-x-en="Fix a crash in Safari when the browser's elementFromPoint returns null in posAtCoords. Handle case where Chrome flips the nesting order of edited inline nodes">修复当浏览器的<code>elementFromPoint</code>在<code>posAtCoords</code>中返回null时Safari崩溃的问题。处理Chrome翻转编辑内联节点嵌套顺序的情况。</p>
<p data-x-en="Fix the issue of <a> marks on decorated text being lost during editing because Chrome changes the nesting order of the link and the decoration <span> element in the DOM.">修复在编辑过程中由于Chrome更改了链接和装饰<code>&lt;span&gt;</code>元素在DOM中的嵌套顺序而导致装饰文本上的<code>&lt;a&gt;</code>标记丢失的问题。</p>
<p data-x-en="Fix an issue where, when pressing enter with a bolded virtual keyboard suggestion on Android's Gboard, the cursor would stay on the wrong line.">修复一个问题，当在 Android 的 Gboard 上按下带有加粗虚拟键盘建议的回车键时，光标会停留在错误的行上。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.10.0 (2020-05-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Avoid fixing directly nested list nodes during DOM parsing when it looks like the schema allows those.">在DOM解析期间避免直接修复嵌套列表节点，当看起来架构允许这些时。</p>
<h4>New features</h4>
<p data-x-en="DOM parser rules can now specify closeParent: true to have the effect of closing their parent node when matched.">DOM 解析器规则现在可以指定<code>closeParent: true</code>，以在匹配时关闭其父节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.11 (2020-05-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix bug in the way the editor handles Cmd-arrow presses on macOS.">修复编辑器在macOS上处理Cmd-箭头按键方式中的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.10 (2020-05-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the editor would override behavior for Cmd-arrow key presses on macOS the wrong way in some situations.">修复在某些情况下编辑器会错误地覆盖macOS上Cmd-箭头键按下行为的问题。</p>
<p data-x-en="Fix handling of copy and paste in IE when top-level elements can't be focused.">修复在顶级元素无法聚焦时IE中复制和粘贴的处理。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.1.4 (2020-05-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fall through to the name associated with a key's keyCode when the character produced isn't ASCII and isn't directly bound.">当生成的字符不是ASCII且没有直接绑定时，回退到与键的<code>keyCode</code>关联的名称。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.4.5 (2020-05-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't allow hard_break nodes in headings.">不要在标题中允许hard_break节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.9 (2020-05-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash on IE, which sets document.activeElement to null in some circumstances.">修复在某些情况下将<code>document.activeElement</code>设置为null的IE崩溃问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.8 (2020-05-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around an issue in Safari where you couldn't click inside a selected element to put the cursor there.">解决Safari中的一个问题，即无法在选定的元素内点击以将光标放置在那里。</p>
<p data-x-en="Fix enter at start of paragraph in iOS inserting two new paragraphs.">修复在iOS中段落开头按回车插入两个新段落的问题。</p>
<p data-x-en="Scrolling the cursor into view now makes sure it doesn't end up below a scrollbar.">将光标滚动到视图中现在可以确保它不会出现在滚动条下方。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.7 (2020-04-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash on Chrome during selection updates when Selection.collapse inexplicably leaves the selection empty. Update documented type for handlePaste event arg">修复在<code>Selection.collapse</code>莫名其妙地使选择为空时，Chrome在选择更新期间崩溃的问题。更新handlePaste事件参数的文档类型。</p>
<p data-x-en="Fix another issue that could break decoration set mapping in deeply nested nodes.">修复另一个可能破坏深层嵌套节点中装饰集映射的问题。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.5 (2020-04-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rewrite the slice-fitting code used by replaceStep to handle a few more corner cases.">重写<code>replaceStep</code>使用的切片拟合代码以处理更多的边缘情况。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.4 (2020-04-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="selectNodeForward and selectNodeBackward will now also select nodes next to a gap cursor (or other custom empty selection type)."><code>selectNodeForward</code> 和 <code>selectNodeBackward</code> 现在也会选择间隙光标（或其他自定义空选择类型）旁边的节点。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.1.5 (2020-04-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the gap cursor plugin would sometimes cause perfectly selectable content to be skipped when moving the selection with the arrow keys.">修复了一个问题，即在使用箭头键移动选择时，间隙光标插件有时会导致完美可选的内容被跳过。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.6 (2020-03-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix superfluous cursor showing up in Chrome when there is a gap cursor or similar custom empty selection active.">修复在 Chrome 中出现多余光标的问题，当存在间隙光标或类似的自定义空选择时。</p>
<p data-x-en="Fix an issue where DecorationSet.remove would ignore the positions of its argument decorations, and only compare by type.">修复了<code>DecorationSet.remove</code>忽略其参数装饰的位置，仅按类型进行比较的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.5 (2020-03-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around Chrome Android issue where pasting would close the virtual keyboard.">解决Chrome Android问题，粘贴时会关闭虚拟键盘。</p>
<p data-x-en="Fix an issue where some kinds of changes would cause nodes to show up twice in the DOM.">修复某些类型的更改会导致节点在DOM中显示两次的问题。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.1.4 (2020-03-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve behavior around unselectable block nodes.">改进对不可选择块节点的行为。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.3.3 (2020-03-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="When deleting a whole-document-selection causes default content to be generated, make sure the selection is moved to the start of the document.">当删除整个文档选择导致生成默认内容时，请确保将选择移动到文档的开头。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.4 (2020-03-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve return values from coordsAtPos on line breaks in Safari and Firefox.">在 Safari 和 Firefox 中改进 <code>coordsAtPos</code> 在换行处的返回值。</p>
<p data-x-en="Make sure enter on iOS is handled even when the native behavior has no effect.">确保即使在原生行为无效时也能处理 iOS 上的输入。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.3 (2020-03-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix mismatch between DOM and state selection bug at compositionend in IE11.">修复在IE11中compositionend时DOM和状态选择不匹配的错误。</p>
<p data-x-en="Make sure handleDrop](https://prosemirror.net/docs/ref/#view.EditorProps.handleDrop) is called even when there's nothing on the clipboard.">确保 <code>handleDrop</code>](https://prosemirror.xheldon.com/docs/ref/#view.EditorProps.handleDrop) 即使在剪贴板上没有任何内容时也会被调用。</p>
<p data-x-en="Fix a bug where reconfiguring a view in a way that changed both the active node views and the attributes of the top node left the old attributes active.">修复一个错误，该错误在重新配置视图时更改了活动节点视图和顶级节点的属性，但旧属性仍然处于活动状态。</p>
<p data-x-en="Work around another case where Chrome lies to the script about its current DOM selection state.">解决另一个 Chrome 向脚本谎报其当前 DOM 选择状态的情况。</p>
<p data-x-en="Avoid redrawing nodes when both their content and a widget in front of them is updated in the same transaction.">在同一事务中更新节点内容和其前面的一个小部件时，避免重新绘制节点。</p>
<p data-x-en="Fix issue where scrolling with multiple scrollable containers sometimes moves to the wrong position.">修复在具有多个可滚动容器时滚动有时移动到错误位置的问题。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.1.4 (2020-03-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Restore compatibility with IE11.">恢复与IE11的兼容性。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.4 (2020-03-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix joinPoint to return check whether the parent node allows a given join.">修复<code>joinPoint</code>以返回检查父节点是否允许给定的连接。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.1.3 (2020-03-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Update crel dependency to a version that exposes an ES module.">更新 crel 依赖项到一个暴露 ES 模块的版本。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.2 (2020-02-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix bug when starting a composition after a link, when the composition started with the character that ended the link.">修复在链接后开始组合时的错误，当组合以结束链接的字符开始时。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.1 (2020-02-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where scrolling the cursor into view in a scrollable editor would sometimes inappropriately scroll an outer container as well.">修复在可滚动编辑器中将光标滚动到视图中时，有时会不适当地滚动外部容器的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.14.0 (2020-02-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix parsing of tbody, tfoot, and caption elements in pasted HTML content. Fix bug in selection-is-at-edge check">修复粘贴的HTML内容中<code>tbody</code>、<code>tfoot</code>和<code>caption</code>元素的解析。修复选择位于边缘检查中的错误。</p>
<p data-x-en="Fix an issue where moving focus to the editor with the keyboard or the DOM focus method would leave the DOM and state selections inconsistent.">修复一个问题，即使用键盘或 DOM <code>focus</code> 方法将焦点移动到编辑器时，会导致 DOM 和状态选择不一致。</p>
<h4>New features</h4>
<p data-x-en="Widget decorations can now take an ignoreSelection option, that causes the editor to leave selections inside them alone.">小部件装饰现在可以采用<code>ignoreSelection</code>选项，这会导致编辑器忽略其中的选择。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.11 (2020-01-31)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue that could lead to the editor making regular content uneditable on Safari.">修复可能导致编辑器在Safari上使常规内容无法编辑的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.10 (2020-01-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash on Firefox when starting a composition after a marked non-text node.">修复在标记的非文本节点后开始合成时在Firefox上崩溃的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.9 (2020-01-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure to reset the selection when the browser moves it into an uneditable node.">确保在浏览器将选择移动到不可编辑的节点时重置选择。</p>
<p data-x-en="Fix issue where the editor would fail to create a meaningful DOM selection for a node selection on Safari.">修复在Safari上编辑器无法为节点选择创建有意义的DOM选择的问题。</p>
<p data-x-en="Makes sure the iOS virtual keyboard gets its internal state (autocorrection, autocapitalization) updated when the user presses enter.">确保iOS虚拟键盘在用户按下回车键时更新其内部状态（自动更正，自动大写）。</p>
<h3><a href="../ref/#test-builder">prosemirror-test-builder</a> 1.0.3 (2020-01-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.8 (2020-01-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix bug that would sometimes cause widget decorations to be drawn with marks from the node after the text node they were inside of.">修复有时会导致小部件装饰被绘制成带有它们所在文本节点之后的节点标记的错误。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.1.3 (2020-01-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in documents that have a textblock as top node.">修复在文档中将文本块作为顶级节点时的崩溃问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.9.1 (2020-01-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Marks found in the DOM at the wrong level (for example, a bold style on a block node) are now properly moved to the node content.">在错误级别的DOM中找到的标记（例如，块节点上的粗体样式）现在已正确移动到节点内容。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.9.0 (2020-01-07)</h3>
<h4>New features</h4>
<p data-x-en="The NodeType method hasRequiredAttrs is now public."><code>NodeType</code> 方法 <a href="https://prosemirror.xheldon.com/docs/ref/#model.NodeType.hasRequiredAttrs"><code>hasRequiredAttrs</code></a> 现在是公开的。</p>
<p data-x-en="Element and attribute names in DOMOutputSpec structures can now contain namespaces."><a href="https://prosemirror.xheldon.com/docs/ref/#model.DOMOutputSpec"><code>DOMOutputSpec</code></a> 结构中的元素和属性名称现在可以包含命名空间。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.3 (2020-01-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where, since version 1.7.4 of prosemirror-model, splitBlock fails to create the expected new textblock in some schemas.">修复一个问题，自从 prosemirror-model 版本 1.7.4 以来，<code>splitBlock</code> 在某些模式中未能创建预期的新文本块。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.4.4 (2019-12-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue that broke parsing ordered lists with a starting number other than 1.">修复导致解析起始编号不是1的有序列表出错的问题。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.4.3 (2019-12-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't use short-hand angle bracket syntax when outputting self-linking URLs that are relative.">不要使用简写的角括号语法来输出相对的自链接URL。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.7 (2019-12-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that caused the DOM to go out of sync with the decorations when updating inline decorations that added multiple wrapping nodes to a piece of content.">修复了一个错误，该错误在更新内联装饰时导致 DOM 与装饰不同步，这些内联装饰向内容添加了多个包装节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.6 (2019-12-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash when deleting a list item in Safari while using a parse rule with a context property for <li> elements.">修复在Safari中删除列表项时的崩溃问题，当使用带有<code>&lt;li&gt;</code>元素的<code>context</code>属性的解析规则时。</p>
<p data-x-en="Work around another case where Chrome reports an incorrect selection.">解决另一个Chrome报告错误选择的情况。</p>
<p data-x-en="Work around issue where Firefox will insert a stray BR node when deleting a text node in some types of DOM structure.">解决在某些类型的DOM结构中删除文本节点时，Firefox会插入一个意外的BR节点的问题。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.1.3 (2019-12-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes a regression where appeneded transactions were combined into the previous history event even if that had been explicitly closed.">修复了一个回归问题，即使之前的历史事件已被明确关闭，附加的事务仍会合并到之前的历史事件中。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.5 (2019-12-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix the way decorations update node styles to allow removing CSS custom properties. Link to https in readme and changelog">修复装饰更新节点样式的方式，以允许删除CSS自定义属性。在readme和changelog中链接到https</p>
<p data-x-en="The root accessor on views now makes sure that, when it returns a shadow root, that object has a getSelection method.">视图上的<code>root</code>访问器现在确保，当它返回一个影子根时，该对象具有<code>getSelection</code>方法。</p>
<p data-x-en="Fix an issue where the DOM selection could get out of sync with ProseMirror's selection state in Edge.">修复在 Edge 中 DOM 选择可能与 ProseMirror 的选择状态不同步的问题。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.3 (2019-12-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in deleteRange that occurred when deleting a region that spans to the ends of two nodes at different depths.">修复在删除跨越到不同深度的两个节点末端的区域时发生的<code>deleteRange</code>崩溃问题。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.1.2 (2019-12-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Downgrade a dependency so that the package can run in IE11 again.">将依赖项降级，以便该包可以再次在IE11中运行。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.8.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.3.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.4 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.1.3 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.1.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.1.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 1.2.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.1.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 1.1.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.1.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.1.1 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#example-setup">prosemirror-example-setup</a> 1.1.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.4.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.3.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.1.2 (2019-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Rename ES module files to use a .js extension, since Webpack gets confused by .mjs">将 ES 模块文件重命名为 .js 扩展名，因为 Webpack 会被 .mjs 弄糊涂。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.8.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.3.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.3 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where the editor wouldn't update its internal selection when the editor was blurred, its selection was changed programatically, and then the editor was re-focused with its old DOM selection.">修复了在编辑器失焦时，编辑器不会更新其内部选择的问题，当选择是通过编程方式更改的，然后编辑器重新聚焦时，仍然保留其旧的DOM选择。</p>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.1.2 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.1.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.1.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 1.2.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.1.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 1.1.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.1.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#example-setup">prosemirror-example-setup</a> 1.1.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.4.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.3.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#test-builder">prosemirror-test-builder</a> 1.0.2 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.1.1 (2019-11-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The file referred to in the package's module field now is compiled down to ES5.">包的<code>module</code>字段中引用的文件现在已编译为ES5。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.1.1 (2019-11-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where keyboards layouts that use shift to produce characters that are created without shift on a US keyboard would fail to fire bindings for those keys that include the Shift- modifier.">修复一个问题，即使用 Shift 键来生成在美国键盘上无需 Shift 键即可生成的字符的键盘布局无法触发包含 Shift- 修饰符的那些键的绑定。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.2 (2019-11-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where EditorView.focus would scroll the top of the document into view on Safari.">修复在Safari中<code>EditorView.focus</code>会将文档顶部滚动到视图中的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.1 (2019-11-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around selection jumping that sometimes occurs on Chrome when focusing the editor.">解决在 Chrome 中聚焦编辑器时有时会发生的选择跳跃问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.8.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.2.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.3.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.13.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.1.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.1.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.1.0 (2019-11-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Prevents appended transactions from starting a new event group, even if they were created a while after the previous transaction.">防止附加的事务启动新的事件组，即使它们是在前一个事务之后一段时间创建的。</p>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 1.2.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.1.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.1.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 1.1.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.1.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.1.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#example-setup">prosemirror-example-setup</a> 1.1.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.4.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.3.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.1.0 (2019-11-08)</h3>
<h4>New features</h4>
<p data-x-en="Add a module field to package json file.">在 package json 文件中添加一个 <code>module</code> 字段。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.7.5 (2019-11-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="ContentMatch.edge now throws, as it is supposed to, when you try to access the edge past the last one."><code>ContentMatch.edge</code> 现在会在你尝试访问最后一个之后的边缘时抛出异常，正如它应该的那样。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.12.3 (2019-11-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where paste events were stopped when the clipboard parser failed to make sense of the content.">修复剪贴板解析器无法解析内容时粘贴事件被停止的问题。</p>
<p data-x-en="Fix issue where the handlePaste prop might be called multiple times for a single paste.">修复<code>handlePaste</code>属性在单次粘贴时可能被多次调用的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.12.2 (2019-11-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Set the editable element to use a white-space: break-spaces style so that whitespace at the end of a line properly moves the cursor to the next line.">将可编辑元素设置为使用<code>white-space: break-spaces</code>样式，以便行末的空白正确地将光标移动到下一行。</p>
<p data-x-en="Fix issue where posAtCoords could throw an error in some circumstances on Firefox.">修复在某些情况下<code>posAtCoords</code>在Firefox上可能抛出错误的问题。</p>
<p data-x-en="Don't force focus back on the editor if a node view moves focus in its setSelection method.">不要在节点视图在其<code>setSelection</code>方法中移动焦点时强制将焦点返回到编辑器。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.1.6 (2019-11-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where deleting a range from the start of block A to the end of block B would leave you with an empty block of type B.">修复了一个问题，即从块A的开始删除到块B的结束会留下一个类型为B的空块。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.3.2 (2019-10-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Code blocks in the schema no longer allow marks inside them.">架构中的代码块不再允许内部标记。</p>
<p data-x-en="Code blocks are now parsed with preserveWhiteSpace: full, preventing removal of newline characters.">代码块现在使用<code>preserveWhiteSpace: full</code>进行解析，防止删除换行符。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.12.1 (2019-10-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Reduce unnecessary redraws when typing creates a new text node on Chrome.">减少在 Chrome 上输入新文本节点时不必要的重绘。</p>
<p data-x-en="The default prosemirror.css now also turns off ligatures in Edge.">默认的 prosemirror.css 现在也在 Edge 中关闭连字。</p>
<p data-x-en="Fix issue where the cursor stays before the typed text in Edge, when typing in an empty paragraph or between hard break nodes.">修复在Edge中，当在空段落或硬换行节点之间输入时，光标停留在输入文本之前的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.12.0 (2019-10-21)</h3>
<h4>New features</h4>
<p data-x-en="The mutation records passed to ignoreMutation now contain the old attribute value.">传递给<a href="https://prosemirror.xheldon.com/docs/ref/#view.NodeView.ignoreMutation"><code>ignoreMutation</code></a>的突变记录现在包含旧的属性值。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.0.2 (2019-10-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Upgrade w3c-keyname package dependency.">升级 w3c-keyname 包依赖。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.11.7 (2019-10-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Enabling a mark and then starting a composition, on Chrome Android, will no longer cause the cursor to jump to the start of the composition.">启用标记然后开始组合，在Chrome Android上将不再导致光标跳到组合的开始。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.7.4 (2019-10-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where fillBefore would in some cases insert unneccesary optional child nodes in the generated content.">修复了<code>fillBefore</code>在某些情况下会在生成的内容中插入不必要的可选子节点的问题。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.0.4 (2019-10-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix regression where splitListItem doesn't work at the end of an item when the content for list items has different first and non-first allowed nodes.">修复回归问题，其中<code>splitListItem</code>在列表项末尾不起作用，当列表项的内容具有不同的第一个和非第一个允许节点时。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.2.0 (2019-10-08)</h3>
<h4>New features</h4>
<p data-x-en="dropCursor now takes a new option, class, to set the CSS class name of the cursor element. Add class option to in-code docs"><code>dropCursor</code> 现在接受一个新选项，<code>class</code>，用于设置光标元素的 CSS 类名。将 class 选项添加到代码文档中</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.11.6 (2019-10-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix workaround for broken IE11 DOM change records when inserting between <br> nodes to handle more cases.">修复在 <code>&lt;br&gt;</code> 节点之间插入时处理更多情况的 IE11 DOM 更改记录的变通方法。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.11.5 (2019-10-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't leave DOM selection in place when it is inside a node view but not inside its content DOM element.">不要在节点视图内但不在其内容DOM元素内时保留DOM选择。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.7.3 (2019-10-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where any whitespace (not just the characters that HTML collapses) was collapsed by the parser in non-whitespace-preserving mode.">修复了一个问题，即在非空白保留模式下，解析器会折叠<em>任何</em>空白（不仅仅是HTML折叠的字符）。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.1.5 (2019-10-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash in building replace steps for open-ended slices with complicated node content expressions.">修复在为具有复杂节点内容表达式的开放式切片构建替换步骤时的崩溃问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.11.4 (2019-09-27)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an IE11 issue where marks would sometimes unexpectedly get dropped when inserting a space after marked text.">修复一个IE11问题，即在标记文本后插入空格时，标记有时会意外丢失。</p>
<p data-x-en="Fixes an issue where handleTextInput wasn't called when typing over a single character with the same character.">修复了在使用相同字符覆盖单个字符时未调用<code>handleTextInput</code>的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.11.3 (2019-09-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the DOM node representing a mark could be corrupted when the browser decides to replace it with another node but ProseMirror restored the old node after the change.">修复一个问题，当浏览器决定用另一个节点替换表示标记的DOM节点，但ProseMirror在更改后恢复旧节点时，该节点可能会损坏。</p>
<p data-x-en="Handle another case where typing over a selection in IE11 confused the editor.">处理在IE11中键入覆盖选定内容时使编辑器混乱的另一个案例。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.11.2 (2019-09-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where typing over a decorated piece of text would sometimes just act like deletion.">修复一个问题，即在装饰文本上输入内容有时会像删除一样。</p>
<p data-x-en="Fix another problem in IE11 with typing over content, where typing over a decorated bit of text caused a crash.">修复在IE11中输入内容时的另一个问题，即在装饰过的文本上输入会导致崩溃。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.11.1 (2019-09-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where typing over the entire contents of an inline node on IE11 would insert the typed content in the wrong position.">修复在IE11中键入整个内联节点内容时会将键入的内容插入到错误位置的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.11.0 (2019-09-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where IE11 would select the entire textblock after deleting content at its start.">修复一个问题，即在删除内容后，IE11 会选择整个文本块。</p>
<h4>New features</h4>
<p data-x-en="View instances now have a public editable property that indicates whether they are in editable mode.">视图实例现在有一个公共的<code>editable</code>属性，指示它们是否处于可编辑模式。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.1.2 (2019-09-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash on IE11 due to using a method that platform doesn't support. Don't show a drop cursor when the view isn't editable">修复由于使用平台不支持的方法而在IE11上崩溃的问题。视图不可编辑时不显示光标。</p>
<p data-x-en="The drop cursor will no longer show up when the view isn't editable.">当视图不可编辑时，拖放光标将不再显示。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.7.2 (2019-09-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="When <br> DOM nodes can't be parsed normally, the parser now converts them to newlines. This should improve parsing of some forms of source code HTML.">当<code>&lt;br&gt;</code> DOM 节点无法正常解析时，解析器现在将它们转换为换行符。这应该会改进某些形式的源代码 HTML 的解析。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.10.3 (2019-09-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression in 1.10.2 that broke copying on IE11.">修复1.10.2中的回归问题，该问题导致IE11上的复制功能失效。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.10.2 (2019-09-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where posAtCoords could crash by dereferencing undefined in some circumstances.">修复了在某些情况下<code>posAtCoords</code>可能因取消引用未定义而崩溃的问题。</p>
<p data-x-en="Fix inserting text next to a hard break in IE11.">修复在IE11中在硬断行旁插入文本的问题。</p>
<p data-x-en="Fix an issue where typing over a selection would result in two different transactions (once for the deletion, once for the insertion) on IE11.">修复在IE11中，输入覆盖选定内容会导致两个不同事务（一次删除，一次插入）的问题。</p>
<p data-x-en="Selecting the word at the start of the document and typing over it no longer causes the text input to appear at the end of the document in IE11.">在IE11中，选择文档开头的单词并在其上输入不再导致文本输入出现在文档末尾。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.10.1 (2019-08-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Copying content will no longer create elements in the main document, which prevents images from loading just because they appear in clipboard content.">复制内容将不再在主文档中创建元素，这可以防止仅因为它们出现在剪贴板内容中而加载图像。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.1.4 (2019-08-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Mapping.invert is now part of the documented API (it was intented to be public from the start, but a typo prevented it from showing up in the docs)."><a href="https://prosemirror.xheldon.com/docs/ref/#transform.Mapping.invert"><code>Mapping.invert</code></a> 现在是文档化的 API 的一部分（它从一开始就打算公开，但由于一个拼写错误导致它没有出现在文档中）。</p>
<p data-x-en="Fix an issue where a replace could needlessly drop content when the first node of the slice didn't fit the target context.">修复一个问题，当切片的第一个节点不适合目标上下文时，替换可能会不必要地丢弃内容。</p>
<p data-x-en="replaceRange now more aggressively expands the replaced region if replace fails to place the slice."><code>replaceRange</code> 现在如果 <code>replace</code> 无法放置切片，将更积极地扩展替换区域。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.10.0 (2019-08-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue that caused the cursor to be scrolled into view when focus() was called on IE11.">修复了在IE11上调用<code>focus()</code>时导致光标滚动到视图中的问题。</p>
<p data-x-en="Fix problem where the cursor cycled through pieces of right-to-left text on Firefox during horizontal motion when the gapcursor plugin was enabled.">修复在启用gapcursor插件时，光标在Firefox上水平移动时循环遍历从右到左的文本片段的问题。</p>
<p data-x-en="Fix spurious mutation events in Firefox causing mark replacement at end of composition. Restore call to dom.focus on view.focus">修复 Firefox 中导致在组合结束时标记替换的虚假突变事件。恢复对 view.focus 上的 dom.focus 的调用。</p>
<p data-x-en="Fix a bug that could cause node views in front of marked nodes to not be destroyed when deleted, and caused confusion in composition handling in some situations.">修复了一个可能导致标记节点前面的节点视图在删除时未被销毁，并在某些情况下导致组合处理混乱的错误。</p>
<p data-x-en="Cursor wrappers (a kludge to make sure typed text gets wrapping DOM structure corresponding to the current marks) are now created less eagerly, and in a less invasive way, which resolves a number of problems with composition (especially on Safari) and bidirectional text.">光标包装器（一个确保键入的文本获得与当前标记相对应的包装 DOM 结构的权宜之计）现在创建得不那么急切，并且以一种不那么侵入的方式创建，从而解决了许多与组合（尤其是在 Safari 上）和双向文本相关的问题。</p>
<h4>New features</h4>
<p data-x-en="Node views can now ignore selection change events through their ignoreMutation callback.">节点视图现在可以通过其<a href="https://prosemirror.xheldon.com/docs/ref/#view.NodeView.ignoreMutation"><code>ignoreMutation</code></a>回调忽略选择更改事件。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.2.4 (2019-08-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Transaction.setSelection now immediately checks whether the given selection points into the proper document, rather than silently accepting an invalid selection."><code>Transaction.setSelection</code> 现在会立即检查给定的选择是否指向正确的文档，而不是默默地接受无效的选择。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.13 (2019-07-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where copying content from a ProseMirror instance into an instance using another schema could, in some circumstances, insert schema-violating content.">修复了一个问题，即在某些情况下，将内容从一个ProseMirror实例复制到使用另一个模式的实例中可能会插入违反模式的内容。</p>
<p data-x-en="Fix comparison of decoration sets, which should solve unneccesary re-renders when updating decorations with an identical but newly allocated set. Don't update DOM selection in uneditable editors when the focus is elsewhere">修复装饰集的比较，这应该可以解决在使用相同但新分配的装饰集更新装饰时不必要的重新渲染。当焦点在其他地方时，不要在不可编辑的编辑器中更新DOM选择。</p>
<p data-x-en="Fix a bug where the editor would steal focus from child elements when in non-editable mode.">修复一个错误，当编辑器处于不可编辑模式时，会从子元素中窃取焦点。</p>
<p data-x-en="Fix error and corruption in IE11 when backspacing out a single character after a br node.">在 br 节点后退格删除单个字符时修复 IE11 中的错误和损坏。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.12 (2019-07-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash posAtCoords in Firefox when the coordinates are above a text input field.">修复在Firefox中，当坐标位于文本输入字段上方时，<code>posAtCoords</code>崩溃的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.11 (2019-07-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the DOM change handler would treat the parsed content as the wrong part of the document.">修复一个问题，即DOM更改处理程序会将解析的内容视为文档的错误部分。</p>
<p data-x-en="Fix an issue in IE11 where deleting the last character in a textblock causes a crash.">修复在IE11中删除文本块中的最后一个字符会导致崩溃的问题。</p>
<p data-x-en="Fix an issue where backspacing out the first character in a textblock would cause IE11 to move the selection to some incorrect position.">修复一个问题，即在文本块中删除第一个字符时，IE11会将选择移动到某个不正确的位置。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.0.4 (2019-06-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Do not show a gap cursor when the view isn't editable.">当视图不可编辑时，不要显示间隙光标。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.10 (2019-06-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash in coordsAtPos caused by use of an incorrect variable name.">修复由于使用不正确的变量名而导致的<code>coordsAtPos</code>崩溃。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.9 (2019-06-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix arrowing over unselectable inline nodes in Chrome and Safari, which by default introduce an extra needless cursor position before the node.">修复在 Chrome 和 Safari 中无法选择的内联节点上的箭头问题，这些浏览器默认会在节点前引入一个额外的不必要的光标位置。</p>
<p data-x-en="Fix a bug that caused DOM changes to be ignored when happening directly in front of some types of DOM events (such as focus/blur).">修复了一个导致在某些类型的DOM事件（例如焦点/失焦）前直接发生时被忽略的DOM更改的错误。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.3.1 (2019-06-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that could occur when parsing multiple adjacent pieces of text with the same style.">修复在解析具有相同样式的多个相邻文本时可能出现的错误。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.7.1 (2019-05-31)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Using Fragment.from on an invalid value, including a Fragment instance from a different version/instance of the library, now raises a meaningful error rather than getting confused.">使用<code>Fragment.from</code>在无效值上，包括来自不同版本/实例库的<code>Fragment</code>实例，现在会引发一个有意义的错误，而不是感到困惑。</p>
<p data-x-en="Fix a bug in parsing overlapping marks of the same non-self-exclusive type.">修复解析相同非自排他类型的重叠标记时的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.8 (2019-05-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where moving focus from a node inside of the editor to the editor itself could sometimes lead to a node selection around the inner node rather than the intended selection (on Chrome).">修复一个问题，即将焦点从编辑器内部的节点移动到编辑器本身时，有时会导致围绕内部节点的节点选择，而不是预期的选择（在Chrome上）。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 1.1.2 (2019-05-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where in mapSelectionBackward mode, the plugin flipped the head and anchor of the selection, leading to selection glitches during collaborative editing.">修复在<code>mapSelectionBackward</code>模式下，插件翻转了选区的头部和锚点，导致在协作编辑期间出现选区故障的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.7 (2019-05-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="ProseMirror will no longer try to stabilize the scroll position during updates on browsers that support scroll anchoring, since it'd inadvertently cancel the browser's behavior.">ProseMirror 将不再尝试在支持<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/overflow-anchor">滚动锚定</a>的浏览器上在更新期间稳定滚动位置，因为这会无意中取消浏览器的行为。</p>
<p data-x-en="Fix an issue in Safari where the editor would interrupt the composition spacebar menu because it incorrectly interpreted the mutation events fired by the browser as representing a replacement of the selection with identical text.">修复Safari中的一个问题，该问题会中断编辑器的组合空格菜单，因为它错误地将浏览器触发的变异事件解释为用相同的文本替换选择。</p>
<p data-x-en="Work around an issue where, on Safari, an IME composition started in an empty textblock would vanish when you press enter.">解决在 Safari 浏览器中，当在空文本块中启动 IME 组合时，按下回车键会消失的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.6 (2019-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix bug in composition handling when the composition's parent node has an extra wrapper node around its content.">修复在组合的父节点周围有一个额外的包装节点时的组合处理错误。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.0.4 (2019-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a null-dereference when running in strict mode.">修复在严格模式下运行时的空指针引用。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.0.3 (2019-05-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Prevent input rules from running during compositions, since they will annoyingly interrupt them.">防止在组合期间运行输入规则，因为它们会令人恼火地中断组合。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.5 (2019-05-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix regression in handling text editing events on IE11.">修复在IE11上处理文本编辑事件的回归。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.0.8 (2019-05-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash caused by using a position potentially outside the document in splitBlock.">修复由于在<a href="https://prosemirror.xheldon.com/docs/ref/#commands.splitBlock"><code>splitBlock</code></a>中使用可能在文档外的位置而导致的崩溃。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.4 (2019-05-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression where all plugin views were recreated when calling setProps.">修复了调用<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.setProps"><code>setProps</code></a>时所有插件视图都会重新创建的回归问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.3 (2019-05-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where, if the document was changed at exactly the right moment, handleClickOn could be called with null as the node.">修复一个错误，如果在恰好的时刻更改了文档，<code>handleClickOn</code> 可能会以 <code>null</code> 作为节点被调用。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.2.3 (2019-05-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The insertText method now collapses the selection to the end of the inserted text, even when given explicit start/end positions."><a href="https://prosemirror.xheldon.com/docs/ref/#state.Transaction.insertText"><code>insertText</code></a> 方法现在将选择范围折叠到插入文本的末尾，即使给定了明确的开始/结束位置。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.2 (2019-05-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where updating to a reconfigured state would not recreate the view's plugin views.">修复一个错误，即更新到重新配置的状态不会重新创建视图的插件视图。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.0.2 (2019-05-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve selection handling during text replacement.">改进文本替换期间的选择处理。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.1 (2019-05-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression where mouse selection would sometimes raise an error.">修复鼠标选择有时会引发错误的回归问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.9.0 (2019-05-03)</h3>
<h4>New features</h4>
<p data-x-en="Changes made during compositions now immediately fire transactions on each update, rather than only a single one at the end of the composition.">在创作过程中所做的更改现在会在每次更新时立即触发事务，而不是仅在创作结束时触发一次。</p>
<p data-x-en="The view now immediately shows changes to the document or decorations during composition, even if they come from transactions not directly generated by the use's editing. The only exception is decorations that affect the focused text node—those are still delayed to avoid unneccesarily canceling the composition.">现在视图会在撰写过程中立即显示文档或装饰的更改，即使这些更改来自非用户编辑直接生成的事务。唯一的例外是影响聚焦文本节点的装饰——这些装饰仍会被延迟，以避免不必要地取消撰写。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.0.3 (2019-04-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="sinkListItem will no longer copy the attributes of the parent list when creating an inner list."><code>sinkListItem</code> 将不再在创建内部列表时复制父列表的属性。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.9 (2019-04-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve display update times for nodes with thousands of children by fix an accidental piece of quadratic complexity.">通过修复一个意外的二次复杂性问题，提高具有数千个子节点的节点的显示更新时间。</p>
<p data-x-en="Fixes an issue where changes to the nodeViews prop weren't noticed when using updateState to update the view.">修复了使用<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.updateState"><code>updateState</code></a>更新视图时，未能注意到<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorProps.nodeViews"><code>nodeViews</code> prop</a>更改的问题。</p>
<p data-x-en="Fix issue where sometimes moving the selection back its last position with the mouse failed to update ProseMirror's selection state.">修复有时用鼠标将选择移动回最后位置时未能更新ProseMirror选择状态的问题。</p>
<p data-x-en="No longer call deselectNode on already-destroyed node views.">不再对已销毁的节点视图调用<a href="https://prosemirror.xheldon.com/docs/ref/#view.NodeView.deselectNode"><code>deselectNode</code></a>。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 1.0.1 (2019-04-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure images and links don't render whatever happens to be in node.attrs to the DOM.">确保图像和链接不会将 <code>node.attrs</code> 中的任何内容渲染到 DOM。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.8 (2019-04-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression from 1.8.4 that made it return unreasonable rectangles for positions between blocks.">修复1.8.4版本中的一个回归问题，该问题导致在块之间的位置返回不合理的矩形。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.7 (2019-04-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The handlePaste prop is now activated even when the default parser can't make any sense of the clipboard content."><a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorProps.handlePaste"><code>handlePaste</code></a> 属性现在即使在默认解析器无法理解剪贴板内容时也会被激活。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.6 (2019-04-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where decorations splitting a text node would sometimes confuse the display updater and make decorated nodes disappear.">修复一个错误，该错误会在装饰分割文本节点时有时会使显示更新器混淆并使装饰节点消失。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.5 (2019-04-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Multiple transformPastedHTML props are now all properly called in order, rather than only the first one.">多个<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorProps.transformPastedHTML"><code>transformPastedHTML</code></a>属性现在都按顺序正确调用，而不仅仅是第一个。</p>
<p data-x-en="Fixes an issue where invalid change positions were computed when a composition happened concurrently with a change that inserted content at the same position.">修复了在合成与在同一位置插入内容的更改同时发生时计算无效更改位置的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.4 (2019-03-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="EditorView.coordsAtPos is now more accurate in right-to-left text on Chrome and Firefox."><a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.coordsAtPos"><code>EditorView.coordsAtPos</code></a> 现在在 Chrome 和 Firefox 上对从右到左的文本更准确。</p>
<p data-x-en="EditorView.coordsAtPos returns more accurate coordinates when querying the position directly after a line wrap point."><a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.coordsAtPos"><code>EditorView.coordsAtPos</code></a> 在查询换行点之后的位置时返回更准确的坐标。</p>
<p data-x-en="Fix an issue where clicking directly in front of a node selection doesn't clear the node selection markup.">修复一个问题，即直接点击节点选择前面不会清除节点选择标记。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.0.4 (2019-03-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where steps that cause multiple changed ranges (such as ReplaceAroundStep) would cause invalid change sets.">修复了一个问题，即导致多个更改范围的步骤（例如<code>ReplaceAroundStep</code>）会导致无效的更改集。</p>
<p data-x-en="Fix a bug in incremental change set updates that would cause incorrect results in a number of cases.">修复增量变更集更新中的一个错误，该错误会在许多情况下导致结果不正确。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.3 (2019-03-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where clicking when there's a non-text selection active sometimes doesn't cause the appropriate new selection.">修复一个问题，当存在非文本选择时，点击有时不会导致适当的新选择。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.2 (2019-02-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where a view state update happening between a change to the DOM selection and the corresponding browser event could disrupt mouse selection.">修复在DOM选择更改和相应的浏览器事件之间发生的视图状态更新可能会中断鼠标选择的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.1 (2019-02-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix infinite loop in coordsAtPos.">修复 <code>coordsAtPos</code> 中的无限循环。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.8.0 (2019-02-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where endOfTextblock spuriously returns true when the cursor is in a mark.">修复一个错误，当光标在标记中时，<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.endOfTextblock"><code>endOfTextblock</code></a> 错误地返回 true。</p>
<h4>New features</h4>
<p data-x-en="posAtCoords will no longer return null when called with coordinates outside the browser's viewport. (It will still return null for coordinates outside of the editor's bounding box.)"><a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.posAtCoords"><code>posAtCoords</code></a> 在使用浏览器视口外的坐标调用时将不再返回 <code>null</code>。（对于编辑器边界框外的坐标，它<em>仍然</em>会返回 null。）</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.7.3 (2019-02-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="endOfTextblock now works on textblocks that are the editor's top-level node."><a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.endOfTextblock"><code>endOfTextblock</code></a> 现在适用于作为编辑器顶级节点的文本块。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.7.2 (2019-02-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Pressing shift-left/right next to a selectable node no longer selects the node instead of creating a text selection across it.">按住 shift 并向左/右移动到可选择的节点时，不再选择节点，而是在其上创建文本选择。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.0.4 (2019-02-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that corrupted selection data in the history when applying remote steps in some cases.">修复在某些情况下应用远程步骤时损坏历史记录中选择数据的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.7.1 (2019-02-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue on Safari where an Enter key events that was part of a composition is interpreted as stand-alone Enter press.">修复在 Safari 上的一个问题，即作为组合部分的 Enter 键事件被解释为独立的 Enter 按键。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.0.2 (2019-01-31)</h3>
<h4>Bug fixes</h4>
<p data-x-en="sinkListItem no longer preserves marks from the outer list when creating an inner list."><code>sinkListItem</code> 不再在创建内嵌列表时保留外部列表的标记。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.7.0 (2019-01-29)</h3>
<h4>New features</h4>
<p data-x-en="Mark specs now support a property spanning which, when set to false, prevents the mark's DOM markup from spanning multiple nodes, so that a separate wrapper is created for each adjacent marked node.">Mark 规格现在支持一个属性 <a href="https://prosemirror.xheldon.com/docs/ref/#model.MarkSpec.spanning"><code>spanning</code></a>，当设置为 <code>false</code> 时，防止标记的 DOM 标记跨越多个节点，从而为每个相邻的标记节点创建一个单独的包装器。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.7.0 (2019-01-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where node selections on uneditable nodes couldn't be copied or cut on Chrome.">修复在Chrome上无法复制或剪切不可编辑节点的节点选择的问题。</p>
<h4>New features</h4>
<p data-x-en="The editable view now recognizes the spanning mark property.">可编辑视图现在识别<a href="https://prosemirror.xheldon.com/docs/ref/#model.MarkSpec.spanning"><code>spanning</code></a>标记属性。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.3.0 (2019-01-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Inline code containing backticks is now serialized wrapped in the appropriate amount of backticks.">内联代码包含反引号现在被序列化为适当数量的反引号包裹。</p>
<h4>New features</h4>
<p data-x-en="The serializer now serializes links whose target is the same as their text content using < > syntax.">序列化器现在使用&lt; &gt;语法序列化目标与其文本内容相同的链接。</p>
<p data-x-en="Mark opening and close string callbacks now get passed the mark's context (parent fragment and index).">标记打开和关闭字符串的回调现在会传递标记的上下文（父片段和索引）。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.0.3 (2019-01-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make simplifyChanges merge adjacent simplified changes (which can occur when a word boundary is inserted).">使<code>simplifyChanges</code>合并相邻的简化更改（当插入单词边界时可能会发生）。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.0.2 (2019-01-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug in simplifyChanges that only occurred when the changes weren't at the start of the document.">修复simplifyChanges中的一个错误，该错误仅在更改不在文档开头时发生。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.0.1 (2019-01-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes issue in simplifyChanges where it sometimes returned nonsense when the inspected text wasn't at the start of the document.">修复了<code>simplifyChanges</code>中的问题，当检查的文本不在文档开头时，它有时会返回无意义的内容。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.6.4 (2019-01-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't output empty style attributes when a style property with a null value is present in renderSpec.">在<code>renderSpec</code>中，当样式属性的值为null时，不要输出空的样式属性。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 2.0.0 (2019-01-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Solves various cases where complicated edits could corrupt the set of changes due to the mapped positions of deletions not agreeing with the mapped positions of insertions.">解决了各种情况下，由于删除的映射位置与插入的映射位置不一致而导致的复杂编辑可能破坏更改集的问题。</p>
<h4>New features</h4>
<p data-x-en="Moves to a more efficient diffing algorithm (Meyers), so that large replacements can be accurately diffed using reasonable time and memory.">转向更高效的diff算法（Meyers），以便可以在合理的时间和内存内准确地进行大规模替换。</p>
<p data-x-en="You can now find the original document given to a ChangeSet with its startDoc accessor.">您现在可以使用<code>startDoc</code>访问器找到给<code>ChangeSet</code>的原始文档。</p>
<h4>Breaking changes</h4>
<p data-x-en="The way change data is stored in ChangeSet objects works differently in this version. Instead of keeping deletions and insertions in separate arrays, the object holds an array of changes, which cover all the changed regions between the old and new document. Each change has start and end positions in both the old and the new document, and contains arrays of insertions and deletions within it."><code>ChangeSet</code>对象中存储更改数据的方式在此版本中有所不同。对象不再将删除和插入分别保存在不同的数组中，而是保存一个更改数组，该数组涵盖了旧文档和新文档之间所有更改的区域。每个更改在旧文档和新文档中都有起始和结束位置，并包含其中的插入和删除数组。</p>
<p data-x-en="This representation avoids a bunch of consistency problems that existed in the old approach, where keeping positions coherent in the deletion and insertion arrays was hard.">这种表示法避免了旧方法中存在的一系列一致性问题，在旧方法中，保持删除和插入数组中的位置一致是很困难的。</p>
<p data-x-en="This means the deletions and insertions members in ChangeSet are gone, and instead there is a changes property which holds an array of Change objects. Each of these has fromA and toA properties indicating its extent in the old document, and fromB and toB properties pointing into the new document. Actual insertions and deletions are stored in inserted and deleted arrays in Change objects, which hold {data, length} objects, where the total length of deletions adds up to toA - fromA, and the total length of insertions to toB - fromB.">这意味着<code>ChangeSet</code>中的<code>deletions</code>和<code>insertions</code>成员已经消失，取而代之的是一个包含<code>Change</code>对象数组的<code>changes</code>属性。每个<code>Change</code>对象都有<code>fromA</code>和<code>toA</code>属性，指示其在旧文档中的范围，以及指向新文档的<code>fromB</code>和<code>toB</code>属性。实际的插入和删除存储在<code>Change</code>对象中的<code>inserted</code>和<code>deleted</code>数组中，这些数组包含<code>{data, length}</code>对象，其中删除的总长度加起来等于<code>toA - fromA</code>，插入的总长度等于<code>toB - fromB</code>。</p>
<p data-x-en="When creating a ChangeSet object, you no longer need to pass separate compare and combine callbacks. Instead, these are now represented using a single function that returns a combined data value or null when the values are not compatible.">在创建<code>ChangeSet</code>对象时，您不再需要传递单独的比较和合并回调。相反，这些现在使用一个函数表示，该函数返回一个组合的数据值或当值不兼容时返回<code>null</code>。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.6.8 (2019-01-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="When replacing a selection by typing over it with a letter that matches its start or end, the editor now generates a step that covers the whole replacement.">当用与选择的开始或结束匹配的字母替换选择时，编辑器现在会生成一个覆盖整个替换的步骤。</p>
<p data-x-en="Fixes dragging a node when the mouse is in a child DOM element that doesn't represent a document node. Work around Chrome bug in selection management">修复当鼠标位于不代表文档节点的子DOM元素中时拖动节点的问题。解决Chrome在选择管理中的错误。</p>
<p data-x-en="Fixes an issue in Chrome where clicking at the start of a textblock after a selected node would sometimes not move the cursor there.">修复了Chrome中的一个问题，即在选中节点后单击文本块的开头有时不会将光标移动到那里。</p>
<p data-x-en="Fix issue where a node view's getPos callback could sometimes return NaN.">修复节点视图的<code>getPos</code>回调有时会返回<code>NaN</code>的问题。</p>
<p data-x-en="Fix an issue where deleting more than 5 nodes might cause the nodes after that to be needlessly redrawn.">修复删除超过5个节点可能导致之后的节点被不必要地重绘的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.6.7 (2018-11-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Avoids redrawing of content with marks when other content in front of it is deleted.">避免在前面的其他内容被删除时重绘带有标记的内容。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.2.2 (2018-11-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Hard breaks at the end of an emphasized or strong mark are no longer serialized to invalid Markdown text.">强调或强标记末尾的硬断行不再序列化为无效的Markdown文本。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.6.6 (2018-11-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around a Chrome bug where programmatic changes near the cursor sometimes cause the visible and reported selection to disagree.">解决一个Chrome浏览器的错误，该错误在光标附近进行编程更改时，有时会导致可见选择和报告的选择不一致。</p>
<p data-x-en="Changing the nodeView prop will no longer leave outdated node views in the DOM.">更改<code>nodeView</code>属性将不再在DOM中留下过时的节点视图。</p>
<p data-x-en="Work around an issue where Chrome unfocuses the editor or scrolls way down when pressing down arrow with the cursor between the start of a textblock and an uneditable element.">解决一个问题，当光标位于文本块的开头和不可编辑元素之间时，按下向下箭头会导致Chrome取消聚焦编辑器或向下滚动。</p>
<p data-x-en="Fix a bug where mapping decoration sets through changes that changed the structure of decorated subtrees sometimes produced corrupted output.">修复一个错误，该错误在通过更改映射装饰集以更改装饰子树结构时，有时会产生损坏的输出。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 1.2.1 (2018-11-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Properly apply the heuristics for ignoring short matches when diffing, and adjust those heuristics to more agressively weed out tiny matches in large changes.">正确应用启发式方法在进行差异比较时忽略短匹配，并调整这些启发式方法以更积极地剔除大变更中的微小匹配。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 1.2.0 (2018-11-08)</h3>
<h4>New features</h4>
<p data-x-en="The new changedRange method can be used to compare two change sets and find out which range has changed.">新的<code>changedRange</code>方法可用于比较两个更改集并找出哪个范围已更改。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 1.1.0 (2018-11-07)</h3>
<h4>New features</h4>
<p data-x-en="Add a new method, ChangeSet.map to update the data associated with changed ranges.">添加一个新方法，<code>ChangeSet.map</code> 来更新与更改范围相关的数据。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.6.5 (2018-10-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around Safari issue where deleting the last bit of text in a table cell creates weird HTML with a BR in a table row.">解决Safari问题，当删除表格单元格中的最后一段文本时，会在表格行中创建带有BR的奇怪HTML。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.6.3 (2018-10-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The DOM parser now drops whitespace after BR nodes when not in whitespace-preserving mode.">DOM 解析器现在在非保留空白模式下会删除 BR 节点后的空白。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.1.1 (2018-10-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash when destroying the plugin, due to a misspelled method name.">修复销毁插件时由于方法名称拼写错误导致的崩溃。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.1.0 (2018-10-22)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where drop cursors changed line breaking, causing the content to jump around during dragging.">修复了一个问题，即拖动时下拉光标更改了换行，导致内容跳动。</p>
<h4>New features</h4>
<p data-x-en="Between-blocks drop cursors are now shown as a horizontal line.">在区块之间的光标现在显示为一条水平线。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.6.4 (2018-10-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix pasting when both text and files are present on the clipboard.">修复当剪贴板中同时存在文本和文件时的粘贴问题。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.2.1 (2018-10-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes a bug where inline mark delimiters were serialized incorrectly (the closing and opening marks were swapped, which was only noticeable when they are different).">修复了一个错误，其中内联标记分隔符被错误地序列化（关闭和打开标记被交换，只有在它们不同的时候才会注意到）。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.6.3 (2018-10-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The editor will no longer try to handle file paste events with the old-browser compatibility kludge (which might cause scrolling and focus flickering).">编辑器将不再尝试使用旧浏览器兼容的权宜之计来处理文件粘贴事件（这可能会导致滚动和焦点闪烁）。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 1.1.1 (2018-10-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where mapSelectionBackward didn't work because of a typo.">修复由于拼写错误导致<code>mapSelectionBackward</code>无法工作的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.6.2 (2018-10-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where event handlers were leaked when destroying an editor">修复了在销毁编辑器时事件处理程序泄漏的问题</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.0.3 (2018-10-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Appending a transaction to an undo transaction will no longer immediately clear the redo history.">将事务附加到撤销事务将不再立即清除重做历史记录。</p>
<p data-x-en="When handling appended transactions, the history will keep the last step in the original transaction, not the one from the appended transaction, for testing whether a subsequent transaction is adjacent to the previous one.">在处理附加交易时，历史记录将保留原始交易中的最后一步，而不是附加交易中的最后一步，以测试后续交易是否与前一个交易相邻。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.2.0 (2018-10-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where the Markdown serializer would escape special characters in inline code.">修复了Markdown序列化器在内联代码中转义特殊字符的问题。</p>
<h4>New features</h4>
<p data-x-en="Upgrade the markdown-it dependency to version 8.">将 markdown-it 依赖项升级到版本 8。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.6.2 (2018-10-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Prevent ContentMatch.findWrapping from returning node types with required attributes.">防止<a href="https://prosemirror.xheldon.com/docs/ref/#model.ContentMatch.findWrapping"><code>ContentMatch.findWrapping</code></a>返回具有必需属性的节点类型。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.6.1 (2018-10-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes situation where a vertical endOfTextblock query could get confused by nearby widgets or complex parent node representation.">修复了垂直<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.endOfTextblock"><code>endOfTextblock</code></a>查询可能被附近的小部件或复杂的父节点表示所混淆的情况。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.0.3 (2018-10-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't blanket-forbid gap cursors next to textblocks">不要一刀切地禁止在文本块旁边使用间隙光标</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.6.0 (2018-09-27)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes a corner case in which DecorationSet.map would map decorations to incorrect new positions.">修复了一个极端情况，其中DecorationSet.map会将装饰映射到不正确的新位置。</p>
<p data-x-en="When the editor contains scrollable elements, scrolling the cursor into view also scrolls those.">当编辑器包含可滚动元素时，将光标滚动到视图中也会滚动这些元素。</p>
<h4>New features</h4>
<p data-x-en="The scrollMargin and scrollThreshold props may now hold {left, right, top, bottom} objects to set different margins and thresholds for different sides. Make scrolling from a given start node more robust"><code>scrollMargin</code> 和 <code>scrollThreshold</code> 属性现在可以包含 <code>{left, right, top, bottom}</code> 对象，以为不同的边设置不同的边距和阈值。使从给定的起始节点滚动更加健壮。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 1.0.5 (2018-09-25)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix another issue where overlapping changes that can't be merged could produce a corrupt change set.">修复另一个问题，即无法合并的重叠更改可能会产生损坏的更改集。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.5.3 (2018-09-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The cursor is now scrolled into view after keyboard driven selection changes even when they were handled by the browser.">光标现在在键盘驱动的选择更改后滚动到视图中，即使它们由浏览器处理。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 1.0.4 (2018-09-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where addSteps could produce invalid change sets when a new step's deleted range overlapped with an incompatible previous deletion.">修复了一个问题，即当新步骤的删除范围与不兼容的先前删除重叠时，<code>addSteps</code> 可能会产生无效的更改集。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.5.2 (2018-09-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improves selection management around widgets with no actual HTML content (possibly drawn using CSS pseudo elements).">改进了对没有实际HTML内容的小部件的选择管理（可能使用CSS伪元素绘制）。</p>
<p data-x-en="Fix extra whitespace in pasted HTML caused by previously-collapsed spacing.">修复由于先前折叠的间距导致粘贴的HTML中的额外空白。</p>
<p data-x-en="Slow triple-clicks are no longer treated as two double-clicks in a row.">慢速三击不再被视为连续两次双击。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.5.1 (2018-08-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where some DOM selections would cause a non-editable view to crash when reading the selection.">修复某些 DOM 选择在读取选择时会导致不可编辑视图崩溃的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.5.0 (2018-08-21)</h3>
<h4>New features</h4>
<p data-x-en="Mark views are now passed a boolean that indicates whether the mark's content is inline as third argument.">Mark 视图现在传递一个布尔值作为第三个参数，该布尔值指示标记的内容是否为内联。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 1.1.0 (2018-08-21)</h3>
<h4>New features</h4>
<p data-x-en="receiveTransaction now supports a mapSelectionBackward option that makes it so that text selections are mapped to stay in place when remote changes insert content at their position."><a href="https://prosemirror.xheldon.com/docs/ref/#collab.receiveTransaction"><code>receiveTransaction</code></a> 现在支持 <code>mapSelectionBackward</code> 选项，使得当远程更改在其位置插入内容时，文本选择能够保持不变。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.4.4 (2018-08-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where a non-empty DOM selection could stick around even though the state's selection is empty.">修复一个问题，即使状态的选择为空，非空的DOM选择仍然可能保留。</p>
<p data-x-en="Fix an issue where Firefox would create an extra cursor position when arrow-keying through a widget.">修复一个问题，即在通过小部件使用箭头键时，Firefox 会创建一个额外的光标位置。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.4.3 (2018-08-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where the editor got stuck believing shift was down (and hence pasting as plain text) when it was unfocused with shift held down.">修复了一个问题，即当编辑器在按住 shift 键的情况下失去焦点时，编辑器会卡住并认为 shift 键被按下（因此以纯文本形式粘贴）。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.4.2 (2018-08-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where reading the selection from the DOM might crash in non-editable mode.">修复在非编辑模式下从DOM读取选择可能会崩溃的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.4.1 (2018-08-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where backspacing out the last character between the start of a textblock and a widget in Chrome would insert a random hard break.">修复了在Chrome中从文本块的开头和小部件之间删除最后一个字符时会插入随机硬断行的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.4.0 (2018-07-26)</h3>
<h4>New features</h4>
<p data-x-en="The dispatchTransaction prop is now called with this bound to the editor view."><code>dispatchTransaction</code> 属性现在被调用时，<code>this</code> 绑定到编辑器视图。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.6.1 (2018-07-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where marks were sometimes parsed incorrectly.">修复了有时标记解析不正确的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.3.8 (2018-07-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where Chrome Android would move the cursor forward by one after backspace-joining two paragraphs.">修复一个问题，即在Chrome Android中，按退格键合并两个段落后光标会向前移动一个。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.2.2 (2018-07-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The &quot;appendedTransaction&quot; meta property on appended transactions now points to the root transaction instead of at the transaction itself, which it accidentally did before."><code>"appendedTransaction"</code> 元属性现在指向根事务，而不是它自己之前意外指向的事务。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.6.0 (2018-07-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where marks would be applied to the wrong node when parsing a slice from DOM.">修复从DOM解析切片时标记会应用到错误节点的问题。</p>
<h4>New features</h4>
<p data-x-en="Adds a new node spec property, toDebugString, making it possible to customize your nodes' toString behavior.">添加一个新的节点规范属性，<a href="https://prosemirror.xheldon.com/docs/ref/#model.NodeSpec.toDebugString"><code>toDebugString</code></a>，使得可以自定义节点的<code>toString</code>行为。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.0.5 (2018-07-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where menu items would still execute their command when clicked even if disabled.">修复菜单项即使被禁用时仍会在点击时执行其命令的问题。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.1.1 (2018-07-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix bug that caused superfluous backslashes to be inserted at the start of some lines when serializing to Markdown.">修复了在序列化为Markdown时导致在某些行的开头插入多余反斜杠的错误。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.1.3 (2018-07-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Replacing from a code block into a paragraph that has marks, or similar scenarios that would join content with the wrong marks into a node, no longer crashes.">将代码块替换到带有标记的段落中，或类似的场景将带有错误标记的内容合并到节点中，不再崩溃。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.2.1 (2018-07-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes a bug in the default implementation of Selection.getBookmark.">修复了<code>Selection.getBookmark</code>默认实现中的一个错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.3.7 (2018-07-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a crash when scrolling things into view when the editor isn't a child of document.body.">修复在编辑器不是<code>document.body</code>的子元素时滚动内容到视图内的崩溃问题。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.1.2 (2018-06-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where replaceRange might create invalid nodes.">修复<a href="https://prosemirror.xheldon.com/docs/ref/#transform.Transform.replaceRange"><code>replaceRange</code></a>可能创建无效节点的问题。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.1.1 (2018-06-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issues in the new dropPoint function.">修复新<a href="https://prosemirror.xheldon.com/docs/ref/#transform.dropPoint"><code>dropPoint</code></a>函数中的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.3.6 (2018-06-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure Safari version detection for clipboard support also works in iOS webview.">确保Safari版本检测对剪贴板支持在iOS webview中也能正常工作。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.1.0 (2018-06-20)</h3>
<h4>New features</h4>
<p data-x-en="Transform.getMirror, usable in obscure circumstances for inspecting the mirroring structure or a transform, is now a public method."><a href="https://prosemirror.xheldon.com/docs/ref/#transform.Transform.getMirror"><code>Transform.getMirror</code></a>，在特殊情况下用于检查镜像结构或变换，现在是一个公共方法。</p>
<p data-x-en="New utility function dropPoint, which tries to find a valid position for dropping a slice near a given document position.">新的实用函数<a href="https://prosemirror.xheldon.com/docs/ref/#transform.dropPoint"><code>dropPoint</code></a>，尝试在给定的文档位置附近找到一个有效的切片放置位置。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.3.5 (2018-06-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Use shared implementation of dropPoint to handle finding a drop position.">使用共享实现的<a href="https://prosemirror.xheldon.com/docs/ref/#transform.dropPoint"><code>dropPoint</code></a>来处理查找放置位置。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.3.4 (2018-06-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Enable use of browser clipboard API on Mobile Safari version 11 and up, which makes cut work on that platform and should generally improve clipboard handling.">启用在移动版Safari 11及以上版本上使用浏览器剪贴板API，这使得剪切功能在该平台上工作，并且通常应改进剪贴板处理。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.1.0 (2018-06-20)</h3>
<h4>New features</h4>
<p data-x-en="You can now override the handling of softbreak tokens in a custom handler.">您现在可以在自定义处理程序中覆盖softbreak标记的处理。</p>
<h3><a href="../ref/#dropcursor">prosemirror-dropcursor</a> 1.0.1 (2018-06-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Dragging from a content node directly to the outside of the editor will now properly hide the drop cursor.">从内容节点直接拖动到编辑器外部时，现在将正确隐藏光标。</p>
<p data-x-en="Make removal of drop cursor part of the drop transaction when possible.">尽可能将删除光标作为放置事务的一部分。</p>
<p data-x-en="Use dropPoint from prosemirror-transform, rather than a local parallel implementation.">使用<code>prosemirror-transform</code>中的<code>dropPoint</code>，而不是本地的并行实现。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.3.3 (2018-06-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix arrow-left cursor motion from cursor wrapper (for example after a link).">修复从光标包装器（例如链接后）的向左箭头光标移动。</p>
<p data-x-en="Fix selection glitches when shift-selecting around widget decorations.">修复在围绕小部件装饰进行Shift选择时的选择故障。</p>
<p data-x-en="Fix issue where a parsing a code block from the editor DOM might drop newlines in the code.">修复从编辑器DOM解析代码块时可能会丢失代码中的换行符的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.3.2 (2018-06-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="handleKeyDown will now get notified of key events happening directly after a composition ends."><a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorProps.handleKeyDown"><code>handleKeyDown</code></a> 现在将在组合结束后直接收到键事件通知。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.3.1 (2018-06-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The package can now be loaded in a web worker context (where navigator is defined but document isn't) without crashing.">现在可以在 web worker 上下文中加载该包（其中<code>navigator</code>已定义但<code>document</code>未定义）而不会崩溃。</p>
<p data-x-en="Dropping something like a list item into a textblock will no longer split the textblock.">将类似列表项的内容拖放到文本块中将不再拆分文本块。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.5.0 (2018-05-31)</h3>
<h4>New features</h4>
<p data-x-en="ParseRule.getContent is now passed the parser schema as second argument."><a href="https://prosemirror.xheldon.com/docs/ref/#model.ParseRule.getContent"><code>ParseRule.getContent</code></a> 现在将解析器模式作为第二个参数传递。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.4.4 (2018-05-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a regression where DOMParser.parse would fail to apply mark nodes directly at the start of the input.">修复了<code>DOMParser.parse</code>在输入开始时无法直接应用标记节点的回归问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.4.3 (2018-04-27)</h3>
<h4>Bug fixes</h4>
<p data-x-en="DOMParser.parseSlice can now correctly parses marks at the top level again."><a href="https://prosemirror.xheldon.com/docs/ref/#model.DOMParser.parseSlice"><code>DOMParser.parseSlice</code></a> 现在可以再次正确解析顶层的标记。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.3.0 (2018-04-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix mouse-selecting (in IE and Edge) from the end of links and other positions that cause a cursor wrapper.">修复从链接末尾和其他导致光标包装的位置进行鼠标选择（在IE和Edge中）。</p>
<p data-x-en="Widget decorations with the same key are now considered equivalent, even if their other spec fields differ."><a href="https://prosemirror.xheldon.com/docs/ref/#view.Decoration%5Ewidget">小部件装饰</a> 具有相同 <a href="https://prosemirror.xheldon.com/docs/ref/#view.Decoration%5Ewidget%5Espec.key">键</a> 现在被认为是等效的，即使它们的其他规格字段不同。</p>
<h4>New features</h4>
<p data-x-en="The new EditorView.posAtDOM method can be used to find the document position corresponding to a given DOM position.">新的<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.posAtDOM"><code>EditorView.posAtDOM</code>方法</a>可用于查找与给定DOM位置对应的文档位置。</p>
<p data-x-en="The new EditorView.nodeDOM method gives you the DOM node that is used to represent a specific node in the document.">新的<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.nodeDOM"><code>EditorView.nodeDOM</code>方法</a>为您提供用于表示文档中特定节点的DOM节点。</p>
<p data-x-en="Decoration.widget now accepts a function as second argument, which can be used to delay rendering of the widget until the document is drawn (at which point a reference to the view is available)."><a href="https://prosemirror.xheldon.com/docs/ref/#view.Decoration%5Ewidget"><code>Decoration.widget</code></a> 现在接受一个函数作为第二个参数，可以用来延迟小部件的渲染，直到文档被绘制（此时视图的引用可用）。</p>
<p data-x-en="The getPos function passed to a node view constructor can now be called immediately (it used to return undefined until rendering had finished)."><code>getPos</code> 函数传递给 <a href="https://prosemirror.xheldon.com/docs/ref/#view.editorProps.nodeViews">节点视图构造函数</a> 现在可以立即调用（以前在渲染完成之前返回未定义）。</p>
<p data-x-en="The function used to render a widget is now passed a getPos method that event handlers can use to figure out where in the DOM the widget is.">用于渲染<a href="https://prosemirror.xheldon.com/docs/ref/#view.Decoration%5Ewidget">小部件</a>的函数现在传递了一个<code>getPos</code>方法，事件处理程序可以使用该方法来确定小部件在DOM中的位置。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.0.4 (2018-04-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash when serializing marks with line breaks inside of them.">修复在序列化包含换行符的标记时崩溃的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.4.2 (2018-04-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Remove a console.log that was accidentally left in the previous release.">删除上一个版本中意外留下的<code>console.log</code>。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.10 (2018-04-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Transform.setBlockType no longer drops marks on the nodes it updates."><a href="https://prosemirror.xheldon.com/docs/ref/#transform.Transform.setBlockType"><code>Transform.setBlockType</code></a> 不再丢弃它更新的节点上的标记。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.4.1 (2018-04-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="DOMParser can now parse marks on block nodes."><code>DOMParser</code> 现在可以解析块节点上的标记。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.0.7 (2018-04-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where joinBackward might create a selection pointing into the old document.">修复了一个问题，即<a href="https://prosemirror.xheldon.com/docs/ref/#commands.joinBackward"><code>joinBackward</code></a>可能会创建一个指向旧文档的选择。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.9 (2018-04-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that made replaceStep unable to generate wrapper nodes in some circumstances.">修复了一个错误，该错误导致<a href="https://prosemirror.xheldon.com/docs/ref/#transform.replaceStep"><code>replaceStep</code></a>在某些情况下无法生成包装节点。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.2.0 (2018-04-05)</h3>
<h4>New features</h4>
<p data-x-en="EditorState.create now accepts a storedMark option to set the state's stored marks."><a href="https://prosemirror.xheldon.com/docs/ref/#state.EditorState%5Ecreate"><code>EditorState.create</code></a> 现在接受一个 <code>storedMark</code> 选项来设置状态的存储标记。</p>
<p data-x-en="EditorState.toJSON and fromJSON persist the set of stored marks, when available."><a href="https://prosemirror.xheldon.com/docs/ref/#state.EditorState.toJSON"><code>EditorState.toJSON</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/#state.EditorState%5EfromJSON"><code>fromJSON</code></a> 在可用时会持久化存储的标记集。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.8 (2018-04-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where replaceStep could generate slices that internally violated the schema.">修复了<a href="https://prosemirror.xheldon.com/docs/ref/#transform.replaceStep"><code>replaceStep</code></a>可能生成内部违反模式的切片的问题。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.0.6 (2018-04-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The setBlockType command command is now considered applicable when any of the selected textblocks can be changed (it used to only look at the first one)."><a href="https://prosemirror.xheldon.com/docs/ref/#commands.setBlockType"><code>setBlockType</code> command</a> 命令现在被认为是适用的，当<em>任何</em>选定的文本块可以更改时（以前只查看第一个）。</p>
<p data-x-en="Fix crash when calling splitBlock when the selection isn't in a block node (by disabling the command in that case).">修复在选择不在块节点时调用<a href="https://prosemirror.xheldon.com/docs/ref/#commands.splitBlock"><code>splitBlock</code></a>时崩溃的问题（在这种情况下禁用该命令）。</p>
<p data-x-en="Fixes an issue where joinForward might create a selection pointing into the old document.">修复了一个问题，其中<a href="https://prosemirror.xheldon.com/docs/ref/#commands.joinForward"><code>joinForward</code></a>可能会创建一个指向旧文档的选择。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.4.0 (2018-03-22)</h3>
<h4>New features</h4>
<p data-x-en="ContentMatch.defaultType, a way to get a matching node type at a content match position, is now public."><a href="https://prosemirror.xheldon.com/docs/ref/#model.ContentMatch.defaultType"><code>ContentMatch.defaultType</code></a>，一种在内容匹配位置获取匹配节点类型的方法，现在已公开。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.3.0 (2018-03-22)</h3>
<h4>New features</h4>
<p data-x-en="ContentMatch objects now have an edgeCount property and an edge method, providing direct access to the finite automaton structure."><code>ContentMatch</code> 对象现在有一个 <a href="https://prosemirror.xheldon.com/docs/ref/#model.ContentMatch.edgeCount"><code>edgeCount</code></a> 属性和一个 <a href="https://prosemirror.xheldon.com/docs/ref/#model.ContentMatch.edge"><code>edge</code></a> 方法，提供对有限自动机结构的直接访问。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.7 (2018-03-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Transform.deleteRange will cover unmatched opening at the start of the deleted range."><a href="https://prosemirror.xheldon.com/docs/ref/#transform.Transform.deleteRange"><code>Transform.deleteRange</code></a> 将覆盖删除范围开始处的不匹配开头。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 1.0.1 (2018-03-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes a bug that caused wrapInList to split list items in the wrong place.">修复了一个导致<a href="https://prosemirror.xheldon.com/docs/ref/#schema-list.wrapInList"><code>wrapInList</code></a>在错误位置拆分列表项的错误。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.2.2 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Throw errors, rather than constructing invalid objects, when deserializing from invalid JSON data.">在从无效的JSON数据反序列化时，抛出错误，而不是构造无效的对象。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.2.1 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Content expressions with text nodes in required positions now raise the appropriate error about being unable to generate such nodes.">内容表达式在必需的位置包含文本节点时，现在会引发关于无法生成此类节点的适当错误。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.6 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Throw errors, rather than constructing invalid objects, when deserializing from invalid JSON data.">在从无效的JSON数据反序列化时，抛出错误，而不是构造无效的对象。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.1.1 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Throw errors, rather than constructing invalid objects, when deserializing from invalid JSON data.">在从无效的JSON数据反序列化时，抛出错误，而不是构造无效的对象。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.0.2 (2018-03-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Throw errors, rather than constructing invalid objects, when deserializing from invalid JSON data.">在从无效的JSON数据反序列化时，抛出错误，而不是构造无效的对象。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.2.0 (2018-03-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="rangeHasMark now always returns false for empty ranges."><a href="https://prosemirror.xheldon.com/docs/ref/#model.Node.rangeHasMark"><code>rangeHasMark</code></a> 现在对于空范围总是返回 false。</p>
<p data-x-en="The DOM renderer no longer needlessly splits mark nodes when starting a non-rendered mark.">DOM 渲染器在开始一个未渲染的标记时不再不必要地拆分标记节点。</p>
<h4>New features</h4>
<p data-x-en="DOMSerializer now allows DOM specs for marks to have holes in them, to specify the precise position where their content should be rendered."><a href="https://prosemirror.xheldon.com/docs/ref/#model.DOMSerializer"><code>DOMSerializer</code></a> 现在允许标记的 <a href="https://prosemirror.xheldon.com/docs/ref/#model.DOMOutputSpec">DOM 规范</a> 中有空洞，以指定其内容应呈现的精确位置。</p>
<p data-x-en="The base position parameter to Node.nodesBetween and Fragment.nodesBetween is now part of the public interface."><a href="https://prosemirror.xheldon.com/docs/ref/#model.Node.nodesBetween"><code>Node.nodesBetween</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/#model.Fragment.nodesBetween"><code>Fragment.nodesBetween</code></a> 的基位置参数现在是公共接口的一部分。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.5 (2018-03-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="replaceStep will now return null rather than an empty step when it fails to place the slice."><a href="https://prosemirror.xheldon.com/docs/ref/#transform.replaceStep"><code>replaceStep</code></a> 现在在无法放置切片时将返回 null 而不是一个空步骤。</p>
<p data-x-en="Avoid duplicating defining parent nodes in replaceRange.">避免在<a href="https://prosemirror.xheldon.com/docs/ref/#tranform.Transform.replaceRange"><code>replaceRange</code></a>中重复定义父节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.2.0 (2018-03-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a problem where updating the state of a non-editable view would not set the selection, causing problems when the DOM was updated in a way that disrupted the DOM selection.">修复一个问题，即更新不可编辑视图的状态不会设置选择，导致在以破坏DOM选择的方式更新DOM时出现问题。</p>
<p data-x-en="Fix an issue where, on IE and Chrome, starting a drag selection in a position that required a cursor wrapper (on a mark boundary) would sometimes fail to work.">修复了在IE和Chrome上，在需要光标包装器的位置（在标记边界上）开始拖动选择有时会失败的问题。</p>
<p data-x-en="Fix crash in key handling when the editor is focused but there is no DOM selection.">修复在编辑器聚焦但没有 DOM 选择时的键处理崩溃问题。</p>
<p data-x-en="Fixes a bug that prevented decorations inside node views with a contentDOM property from being drawn.">修复了一个阻止带有<a href="https://prosemirror.xheldon.com/docs/ref/#view.NodeView.contentDOM"><code>contentDOM</code>属性</a>的节点视图内部装饰被绘制的错误。</p>
<p data-x-en="Fixes an issue where, on Firefox, depending on a race condition, the skipping over insignificant DOM nodes done at keypress was canceled again before the keypress took effect.">修复了一个问题，在Firefox上，根据竞争条件，在按键时跳过不重要的DOM节点的操作在按键生效前再次被取消。</p>
<p data-x-en="Fixes an issue where an :after pseudo-element on a non-inclusive mark could block the cursor, making it impossible to arrow past it.">修复了一个问题，即非包容性标记上的<code>:after</code>伪元素可能会阻挡光标，使其无法通过箭头键移动过去。</p>
<h4>New features</h4>
<p data-x-en="The DOM structure for marks is no longer constrained to a single node. Mark views can have a contentDOM property, and mark spec toDOM methods can return structures with holes.">标记的DOM结构不再局限于单个节点。<a href="https://prosemirror.xheldon.com/docs/ref/#view.NodeView">标记视图</a>可以有一个<code>contentDOM</code>属性，并且<a href="https://prosemirror.xheldon.com/docs/ref/#model.MarkSpec">标记规范</a><code>toDOM</code>方法可以返回带有空洞的结构。</p>
<p data-x-en="Widget decorations are now wrapped in the marks of the node after them when their side option is >= 0."><a href="https://prosemirror.xheldon.com/docs/ref/#view.Decoration%5Ewidget">小部件装饰</a>现在在其<a href="https://prosemirror.xheldon.com/docs/ref/#view.Decoration%5Ewidget%5Espec.side"><code>side</code>选项</a>为 &gt;= 0 时被它们后面的节点的标记包裹。</p>
<p data-x-en="Widget decorations may now specify a marks option to set the precise set of marks they should be wrapped in."><a href="https://prosemirror.xheldon.com/docs/ref/#view.Decoration%5Ewidget">小部件装饰</a>现在可以指定一个<a href="https://prosemirror.xheldon.com/docs/ref/#view.Decoration%5Ewidget%5Espec.marks"><code>marks</code>选项</a>来设置它们应该包裹的精确标记集。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.0.2 (2018-03-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that could corrupt the history when rebasing changes because of collaborative editing.">修复一个在变基更改时可能由于协作编辑而损坏历史记录的错误。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.0.4 (2018-03-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes a bug that prevented the menu bar from properly unregistering its &quot;scroll&quot; event handlers when destroyed.">修复了一个错误，该错误在销毁时阻止菜单栏正确注销其<code>"scroll"</code>事件处理程序。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 1.0.1 (2018-03-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash that could occur (in specific circumstance) when redoing.">修复在特定情况下重做时可能发生的崩溃。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.1.1 (2018-03-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes typo that broke paste.">修复了导致粘贴功能失效的拼写错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.1.0 (2018-02-28)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes issue where dragging a draggable node directly below a selected node would move the old selection rather than the target node.">修复了将可拖动节点拖动到选定节点正下方时，会移动旧选择而不是目标节点的问题。</p>
<p data-x-en="A drop that can't fit the dropped content will no longer dispatch an empty transaction.">一个无法容纳已放置内容的drop将不再发送空事务。</p>
<h4>New features</h4>
<p data-x-en="Transactions generated for drop now have a &quot;uiEvent&quot; metadata field holding &quot;drop&quot;. Paste and cut transactions get that field set to &quot;paste&quot; or &quot;cut&quot;.">生成的交易现在有一个<code>"uiEvent"</code>元数据字段，包含<code>"drop"</code>。粘贴和剪切交易将该字段设置为<code>"paste"</code>或<code>"cut"</code>。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.4 (2018-02-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix overeager closing of destination nodes when fitting a slice during replacing.">修复在替换期间拟合切片时过度关闭目标节点的问题。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.3 (2018-02-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a problem where slice-placing didn't handle content matches correctly and might generate invalid steps or fail to generate steps though a valid one exists.">修复了一个问题，即切片放置未正确处理内容匹配，可能会生成无效步骤或未能生成有效步骤。</p>
<p data-x-en="Allows adjacent nodes from an inserted slice to be placed in different parent nodes, allowing Transform.replace to create fits that weren't previously found.">允许插入切片的相邻节点放置在不同的父节点中，允许<code>Transform.replace</code>创建以前未找到的匹配。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 1.0.1 (2018-02-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Upgrade w3c-keyname dependency to version 1.1.8 to prevent users getting stuck with a buggy version.">将<code>w3c-keyname</code>依赖项升级到1.1.8版本，以防止用户陷入有缺陷的版本。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.11 (2018-02-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where the cursor was visible when a node was selected on recent Chrome versions.">修复在最新的Chrome版本中选择节点时光标可见的问题。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.0.1 (2018-02-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Prevent issue where clicking on a selectable node near a valid gap cursor position would create a gap cursor rather than select the node.">防止在有效的间隙光标位置附近点击可选择节点时创建间隙光标而不是选择节点的问题。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.0.3 (2018-02-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The floating menu bar now works better in a scrollable parent node.">浮动菜单栏现在在可滚动的父节点中工作得更好了。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.0.5 (2018-01-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash in splitBlock when defaultContentType returns null.">修复当<code>defaultContentType</code>返回null时<a href="https://prosemirror.xheldon.com/docs/ref/#commands.splitBlock"><code>splitBlock</code></a>的崩溃问题。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.2 (2018-01-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes a crash in replace.">修复了在<a href="https://prosemirror.xheldon.com/docs/ref/#transform.Transform.replace"><code>replace</code></a>中的崩溃问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.10 (2018-01-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Improve preservation of open and closed nodes in slices taken from the clipboard.">改进从剪贴板中获取的切片中开放和关闭节点的保存。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.1.0 (2018-01-22)</h3>
<h4>New features</h4>
<p data-x-en="EditorState.toJSON now accepts a string or number as argument to support the way JSON.stringify can call it."><a href="https://prosemirror.xheldon.com/docs/ref/#state.EditorState.toJSON"><code>EditorState.toJSON</code></a> 现在接受字符串或数字作为参数，以支持 <code>JSON.stringify</code> 调用它的方式。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.0.4 (2018-01-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Pressing delete in front of an isolating node no longer opens it.">按下删除键时，位于<a href="https://prosemirror.xheldon.com/docs/ref/#model.NodeSpec.isolating">隔离</a>节点前不再打开它。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.9 (2018-01-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Work around a Chrome cursor motion bug by making sure nodes don't get a contenteditable=false attribute.">通过确保 <br> 节点不会获得 contenteditable=false 属性来解决 Chrome 光标移动错误。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.0.2 (2018-01-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make the render property of a menu item spec work as documented again.">使菜单项规范的<code>render</code>属性再次按文档工作。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.0.3 (2018-01-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix dependency version range for prosemirror-model.">修复 prosemirror-model 的依赖版本范围。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.8 (2018-01-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where Decoration.map would in some situations with nested nodes incorrectly map decoration positions.">修复在某些嵌套节点情况下<a href="https://prosemirror.xheldon.com/docs/ref/#view.DecorationSet.map"><code>Decoration.map</code></a>会错误地映射装饰位置的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.1.0 (2018-01-05)</h3>
<h4>New features</h4>
<p data-x-en="Slice.maxOpen now has a second argument that can be used to prevent it from opening isolating nodes."><a href="https://prosemirror.xheldon.com/docs/ref/#model.Slice%5EmaxOpen"><code>Slice.maxOpen</code></a> 现在有了第二个参数，可以用来防止它打开隔离节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.7 (2018-01-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Pasting from an external source no longer opens isolating nodes like table cells.">从外部来源粘贴不再打开像表格单元这样的隔离节点。</p>
<h3><a href="../ref/#test-builder">prosemirror-test-builder</a> 1.0.1 (2018-01-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix overly restrictive depencency version ranges.">修复过于严格的依赖版本范围。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.6 (2017-12-26)</h3>
<h4>Bug fixes</h4>
<p data-x-en="DecorationSet.remove now uses a proper deep compare to determine if widgets are the same (it used to compare by identity)."><a href="https://prosemirror.xheldon.com/docs/ref/#view.DecorationSet.remove"><code>DecorationSet.remove</code></a> 现在使用适当的深度比较来确定小部件是否相同（以前是通过身份比较）。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.0.3 (2017-12-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where joinBackward would sometimes create an invalid selection.">修复<a href="https://prosemirror.xheldon.com/docs/ref/#commands.joinBackward"><code>joinBackward</code></a>有时会创建无效选择的问题。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.0.2 (2017-12-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where a character might be selected after overwriting across block nodes.">修复在跨块节点覆盖后可能选择字符的问题。</p>
<p data-x-en="Make sure replaceSelectionWith doesn't needlessly copy unmarked nodes.">确保<code>replaceSelectionWith</code>不会不必要地复制未标记的节点。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.0.2 (2017-12-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Code blocks are always wrapped in triple backticks when serializing, to avoid parsing corner cases around indented code blocks.">在序列化时，代码块总是用三个反引号包裹，以避免缩进代码块的解析边缘情况。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.5 (2017-12-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where deeply nested decorations were mapped incorrectly in corner cases.">修复在极端情况下深度嵌套的装饰映射不正确的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.4 (2017-11-27)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a corner-case crash during drop.">修复在删除期间的一个极端情况崩溃。</p>
<h3><a href="../ref/#example-setup">prosemirror-example-setup</a> 1.0.1 (2017-11-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The example menu now allows you to enter relative links without automatically adding http:// in front of them.">示例菜单现在允许您输入相对链接，而不会自动在它们前面添加http://。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.3 (2017-11-23)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Pressing backspace between two identical characters will no longer generate a transaction that deletes the second one.">按下退格键删除两个相同字符之间的字符将不再生成删除第二个字符的事务。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.0.2 (2017-11-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="splitBlock no longer crashes when used in a block that's it's parent node's only allowed child."><a href="https://prosemirror.xheldon.com/docs/ref/#commands.splitBlock"><code>splitBlock</code></a> 在用于其父节点唯一允许的子节点的块时不再崩溃。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.2 (2017-11-20)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix test for whether a node can be selected when arrowing onto it from the right.">修复从右侧箭头移动到节点时是否可以选择节点的测试。</p>
<p data-x-en="Calling posAtCoords while a read from the DOM is pending will no longer return a malformed result.">调用<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.posAtCoords"><code>posAtCoords</code></a>时，如果有来自DOM的读取正在进行，将不再返回格式错误的结果。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.0.1 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="ReplaceError instances now properly inherit from Error."><a href="https://prosemirror.xheldon.com/docs/ref/#model.ReplaceError"><code>ReplaceError</code></a> 实例现在正确地继承自 <code>Error</code>。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.1 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The errors raised by Transform.step now properly inherit from Error."><a href="https://prosemirror.xheldon.com/docs/ref/#transform.Transform.step"><code>Transform.step</code></a> 现在引发的错误正确地继承自 Error。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.1 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Deleting the last character in a list item no longer results in a spurious hard_break node on Safari.">删除列表项中的最后一个字符不再会在Safari上导致一个虚假的hard_break节点。</p>
<p data-x-en="Fixes a crash on IE11 when starting to drag.">修复了在IE11上开始拖动时的崩溃问题。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 1.0.1 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Input rules no longer fire in blocks that have their code spec set to true.">输入规则不再在其<code>code</code>规范设置为true的块中触发。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 1.0.3 (2017-11-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where deleting, inserting, and deleting the same content would lead to an inconsistent change set.">修复删除、插入和删除相同内容会导致更改集不一致的问题。</p>
<h3><a href="../ref/#markdown">prosemirror-markdown</a> 1.0.1 (2017-11-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Link marks are now non-inclusive (typing after them produces non-linked text).">链接标记现在是非包容性的（在它们之后输入会生成非链接文本）。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 1.0.1 (2017-11-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Typing over marked text now properly makes the new text inherit the old text's marks.">现在在标记文本上输入内容会使新文本继承旧文本的标记。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 1.0.2 (2017-10-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that caused addSteps to break when merging two insertions into a single deletion.">修复了一个导致<code>addSteps</code>在将两个插入合并为一个删除时出错的漏洞。</p>
<h3><a href="../ref/#menu">prosemirror-menu</a> 1.0.1 (2017-10-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The menu no longer flips enabled/disabled styles on each update in IE11.">菜单不再在每次更新时在IE11中翻转启用/禁用样式。</p>
<h3><a href="../ref/#changeset">prosemirror-changeset</a> 1.0.1 (2017-10-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash in ChangeSet.addSteps.">修复 <code>ChangeSet.addSteps</code> 中的崩溃问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 1.0.0 (2017-10-13)</h3>
<h4>New features</h4>
<p data-x-en="ParseRule.context may now include multiple, pipe-separated context expressions."><a href="https://prosemirror.xheldon.com/docs/ref/#model.ParseRule.context"><code>ParseRule.context</code></a> 现在可以包含多个用竖线分隔的上下文表达式。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 1.0.0 (2017-10-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="When setBlockType comes across a textblock that can't be changed due to schema constraints, it skips it instead of failing.">当<a href="https://prosemirror.xheldon.com/docs/ref/#transform.Transform.setBlockType"><code>setBlockType</code></a>遇到由于模式限制而无法更改的文本块时，它会跳过该文本块而不是失败。</p>
<p data-x-en="canSplit now returns false when the requested split goes through isolating nodes."><a href="https://prosemirror.xheldon.com/docs/ref/#transform.canSplit"><code>canSplit</code></a> 现在当请求的分割穿过隔离节点时返回 false。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 1.0.0 (2017-10-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Dragging nodes with a node view that handles its own mouse events should work better now.">拖动具有自己处理鼠标事件的节点视图的节点现在应该会更好。</p>
<p data-x-en="List item DOM nodes are no longer assigned pointer-events: none in the default style. Ctrl-clicking list markers now properly selects the list item again.">列表项 DOM 节点在默认样式中不再分配 <code>pointer-events: none</code>。按住 Ctrl 点击列表标记现在可以再次正确选择列表项。</p>
<p data-x-en="Arrow-down through an empty textblock no longer causes the browser to forget the cursor's horizontal position.">向下箭头穿过空文本块不再导致浏览器忘记光标的水平位置。</p>
<p data-x-en="Copy-dragging on OS X is now done by holding option, rather than control, following the convention on that system.">在 OS X 上，复制拖动现在是通过按住 option 键来完成的，而不是 control 键，遵循该系统的惯例。</p>
<p data-x-en="Fixes a crash related to decoration management.">修复与装饰管理相关的崩溃问题。</p>
<p data-x-en="Fixes a problem where using cut on IE11 wouldn't actually remove the selected text.">修复了在IE11上使用剪切功能时不会实际删除所选文本的问题。</p>
<p data-x-en="Copy/paste on Edge 15 and up now uses the clipboard API, fixing a problem that made them fail entirely.">在 Edge 15 及更高版本上复制/粘贴现在使用剪贴板 API，修复了导致它们完全失败的问题。</p>
<h4>New features</h4>
<p data-x-en="The dragging property of a view, which contains information about editor content being dragged, is now part of the public interface.">视图的<a href="https://prosemirror.xheldon.com/docs/ref/#view.EditorView.dragging"><code>dragging</code></a>属性，现在包含有关正在拖动的编辑器内容的信息，已成为公共接口的一部分。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 1.0.0 (2017-10-13)</h3>
<h4>New features</h4>
<p data-x-en="The setBlockType command can now be used to change the types of multiple selected textblocks (rather than only one)."><a href="https://prosemirror.xheldon.com/docs/ref/#commands.setBlockType"><code>setBlockType</code> 命令</a>现在可以用于更改多个选定文本块的类型（而不仅仅是一个）。</p>
<p data-x-en="The platform-dependent versions of the base keymap are now exported separately as pcBaseKeymap and macBaseKeymap.">平台相关版本的<a href="https://prosemirror.xheldon.com/docs/ref/#commands.baseKeymap">base keymap</a>现在分别作为<a href="https://prosemirror.xheldon.com/docs/ref/#commands.pcBaseKeymap"><code>pcBaseKeymap</code></a>和<a href="https://prosemirror.xheldon.com/docs/ref/#commands.macBaseKeymap"><code>macBaseKeymap</code></a>导出。</p>
<h3><a href="../ref/#gapcursor">prosemirror-gapcursor</a> 1.0.0 (2017-10-13)</h3>
<h4>New features</h4>
<p data-x-en="Valid gap cursor positions are not determined in a way that allows them inside nested nodes. By default, any position where a textblock can be inserted is valid gap cursor position.">有效的间隙光标位置未以允许它们位于嵌套节点内的方式确定。默认情况下，任何可以插入文本块的位置都是有效的间隙光标位置。</p>
<p data-x-en="Nodes can override whether they allow gap cursors with the allowGapCursor property in their spec.">节点可以通过其规范中的<code>allowGapCursor</code>属性来覆盖是否允许间隙光标。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.24.0 (2017-09-25)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The setNodeType method on transforms is now more descriptively called setNodeMarkup. The old name will continue to work with a warning until the next release.">transforms 上的 <code>setNodeType</code> 方法现在更具描述性地称为 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.24.0.html#transform.Transform.setNodeMarkup"><code>setNodeMarkup</code></a>。旧名称将在下一个版本发布之前继续使用，但会有警告。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.24.0 (2017-09-25)</h3>
<h4>New features</h4>
<p data-x-en="The clipboardTextParser prop is now passed a context position.">The <a href="https://prosemirror.xheldon.com/docs/ref/version/0.24.0.html#view.EditorProps.clipboardTextParser"><code>clipboardTextParser</code></a> 属性现在传递一个上下文位置。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 0.24.0 (2017-09-25)</h3>
<h4>New features</h4>
<p data-x-en="It is no longer necessary to manually enable the preserveItems option to the history plugin when using collaborative editing. (This behavior is now automatically enabled when necessary.)">不再需要在使用协作编辑时手动启用历史插件的<code>preserveItems</code>选项。（此行为现在在必要时自动启用。）</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.23.1 (2017-09-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="NodeType.allowsMarks and allowedMarks now actually work for nodes that allow only specific marks."><code>NodeType.allowsMarks</code> 和 <code>allowedMarks</code> 现在实际上适用于仅允许特定标记的节点。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p data-x-en="ResolvedPos.marks no longer takes a parameter (you probably want marksAcross if you were passing true there)."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.ResolvedPos.marks"><code>ResolvedPos.marks</code></a> 不再接受参数（如果你之前传递了 true，你可能需要 <a href="https://prosemirror.xheldon.com/doc/ref/version/0.23.0.html#model.ResolvedPos.marksAcross"><code>marksAcross</code></a>）。</p>
<p data-x-en="Attribute and mark constraints in content expressions are no longer supported (this also means the prosemirror-schema-table package, which relied on them, is no longer supported). In this release, mark constraints are still (approximately) recognized with a warning, when present."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.NodeSpec.content">内容表达式</a>中的属性和标记约束不再受支持（这也意味着依赖它们的<code>prosemirror-schema-table</code>包不再受支持）。在此版本中，标记约束在存在时仍会（大致）被识别并发出警告。</p>
<p data-x-en="ContentMatch objects lost a number of methods: matchNode, matchToEnd, findWrappingFor (which can be easily emulated using the remaining API), and allowsMark, which is now the responsibility of node types instead."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.ContentMatch"><code>ContentMatch</code></a> 对象失去了许多方法：<code>matchNode</code>、<code>matchToEnd</code>、<code>findWrappingFor</code>（可以使用剩余的 API 轻松模拟）和 <code>allowsMark</code>，现在这是 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.NodeType.allowsMarkType">节点类型</a> 的责任。</p>
<p data-x-en="ContentMatch.validEnd is now a property rather than a method."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.ContentMatch.validEnd"><code>ContentMatch.validEnd</code></a> 现在是一个属性而不是一个方法。</p>
<p data-x-en="ContentMatch.findWrapping now returns an array of plain node types, with no attribute information (since this is no longer necessary)."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.ContentMatch.findWrapping"><code>ContentMatch.findWrapping</code></a> 现在返回一个普通节点类型的数组，没有属性信息（因为这不再是必要的）。</p>
<p data-x-en="The compute method for attributes is no longer supported.">属性的<code>compute</code>方法不再支持。</p>
<p data-x-en="Fragments no longer have an offsetAt method.">Fragments 不再具有 <code>offsetAt</code> 方法。</p>
<p data-x-en="DOMParser.schemaRules is no longer public (use fromSchema and get the resulting parser's rules property instead)."><code>DOMParser.schemaRules</code> 不再是公开的（请使用 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.DOMParser%5EfromSchema"><code>fromSchema</code></a> 并获取生成的解析器的 <code>rules</code> 属性）。</p>
<p data-x-en="The DOM parser option topStart has been replaced by topMatch.">DOM 解析器选项 <code>topStart</code> 已被 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.ParseOptions.topMatch"><code>topMatch</code></a> 取代。</p>
<p data-x-en="The DOMSerializer methods nodesFromSchema and marksFromSchema are no longer public (construct a serializer with fromSchema and read its nodes and marks properties instead)."><code>DOMSerializer</code> 方法 <code>nodesFromSchema</code> 和 <code>marksFromSchema</code> 不再是公开的（使用 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.DOMSerializer%5EfromSchema"><code>fromSchema</code></a> 构造一个序列化器，并读取其 <code>nodes</code> 和 <code>marks</code> 属性）。</p>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where whitespace at node boundaries was sometimes dropped during content parsing.">修复在内容解析期间节点边界处的空白有时会被删除的问题。</p>
<p data-x-en="Attribute default values of undefined are now allowed.">允许属性默认值为<code>undefined</code>。</p>
<h4>New features</h4>
<p data-x-en="contentElement in parse rules may now be a function."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.ParseRule.contentElement"><code>contentElement</code></a> 在解析规则中现在可以是一个函数。</p>
<p data-x-en="The new method ResolvedPos.marksAcross can be used to find the set of marks that should be preserved after a deletion.">新的方法<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.ResolvedPos.marksAcross"><code>ResolvedPos.marksAcross</code></a>可以用来找到删除后应保留的标记集。</p>
<p data-x-en="Content expressions are now a regular language, meaning all the operators can be nested and composed as desired, and a bunch of constraints on what could appear next to what have been lifted."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.NodeSpec.content">内容表达式</a>现在是一个常规语言，这意味着所有的操作符都可以根据需要嵌套和组合，并且对相邻内容的限制已经被取消。</p>
<p data-x-en="The starting content match for a node type now lives in NodeType.contentMatch.">节点类型的起始内容匹配现在位于<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.NodeType.contentMatch"><code>NodeType.contentMatch</code></a>。</p>
<p data-x-en="Allowed marks are now specified per node, rather than in content expressions, using the marks property on the node spec.">允许的标记现在是针对每个节点指定的，而不是在内容表达式中，使用节点规范中的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.NodeSpec.marks"><code>marks</code></a>属性。</p>
<p data-x-en="Node types received new methods allowsMarkType, allowsMarks, and allowedMarks, which tell you about the marks that node supports.">节点类型接收了新方法 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.NodeType.allowsMarkType"><code>allowsMarkType</code></a>、<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.NodeType.allowsMarks"><code>allowsMarks</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.NodeType.allowedMarks"><code>allowedMarks</code></a>，这些方法告诉你节点支持的标记。</p>
<p data-x-en="The style property on parse rules may now have the form &quot;font-style=italic&quot; to only match styles that have the value after the equals sign.">解析规则中的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#model.ParseRule.style"><code>style</code></a>属性现在可以采用<code>"font-style=italic"</code>的形式，仅匹配等号后面的值的样式。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Step.toJSON no longer has a default implementation."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#transform.Step.toJSON"><code>Step.toJSON</code></a> 不再有默认实现。</p>
<p data-x-en="Steps no longer have an offset method. Map them through a map created with StepMap.offset instead.">步骤不再具有<code>offset</code>方法。请通过使用<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#transform.StepMap%5Eoffset"><code>StepMap.offset</code></a>创建的映射来映射它们。</p>
<p data-x-en="The clearMarkup method on Transform is no longer supported (you probably needed clearIncompatible anyway)."><code>clearMarkup</code> 方法在 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#transform.Transform"><code>Transform</code></a> 中不再支持（你可能需要 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#transform.Transform.clearIncompatible"><code>clearIncompatible</code></a>）。</p>
<h4>Bug fixes</h4>
<p data-x-en="Pasting a list item at the start of a non-empty textblock now wraps the textblock in a list.">将列表项粘贴到非空文本块的开头现在会将文本块包装在列表中。</p>
<p data-x-en="Marks on open nodes at the left of a slice are no longer dropped by Transform.replace.">切片左侧开放节点上的标记不再被<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#transform.Transform.replace"><code>Transform.replace</code></a>丢弃。</p>
<h4>New features</h4>
<p data-x-en="StepMap now has a static method offset, which can be used to create a map that offsets all positions by a given distance."><code>StepMap</code> 现在有一个静态方法 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#transform.StepMap%5Eoffset"><code>offset</code></a>，可以用来创建一个将所有位置偏移给定距离的映射。</p>
<p data-x-en="Transform objects now have a clearIncompatible method that can help make sure a node's content matches another node type.">Transform 对象现在有一个 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#transform.Transform.clearIncompatible"><code>clearIncompatible</code></a> 方法，可以帮助确保一个节点的内容与另一个节点类型匹配。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The onFocus, onBlur, and handleContextMenu props are no longer supported. You can achieve their effect with the handleDOMEvents prop."><code>onFocus</code>、<code>onBlur</code> 和 <code>handleContextMenu</code> 属性不再支持。你可以使用 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#view.EditorProps.handleDOMEvents"><code>handleDOMEvents</code></a> 属性来实现它们的效果。</p>
<h4>Bug fixes</h4>
<p data-x-en="Fixes occasional crash when reading the selection in Firefox.">修复在Firefox中读取选择时偶尔崩溃的问题。</p>
<p data-x-en="Putting a table cell on the clipboard now properly wraps it in a table.">将表格单元格放入剪贴板现在会正确地将其包裹在表格中。</p>
<p data-x-en="The view will no longer scroll into view when receiving a state that isn't derived from its previous state.">视图在接收到不是从其先前状态派生的状态时将不再滚动到视图中。</p>
<h4>New features</h4>
<p data-x-en="Transactions caused by a paste now have their &quot;paste&quot; meta property set to true.">由于粘贴引起的事务现在其“paste”元属性设置为true。</p>
<p data-x-en="Adds a new view prop, handleScrollToSelection to override the behavior of scrolling the selection into view.">添加一个新的视图属性，<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#view.EditorProps.handleScrollToSelection"><code>handleScrollToSelection</code></a>，以覆盖将选区滚动到视图中的行为。</p>
<p data-x-en="The new editor prop clipboardTextSerializer allows you to override the way a piece of document is converted to clipboard text.">新的编辑器属性 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#view.EditorProps.clipboardTextSerializer"><code>clipboardTextSerializer</code></a> 允许您覆盖将文档片段转换为剪贴板文本的方式。</p>
<p data-x-en="Adds the editor prop clipboardTextParser, which can be used to define your own parsing strategy for clipboard text content.">添加编辑器属性<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#view.EditorProps.clipboardTextParser"><code>clipboardTextParser</code></a>，可以用来定义剪贴板文本内容的解析策略。</p>
<p data-x-en="DecorationSet.find now supports passing a predicate to filter decorations by spec."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#view.DecorationSet.find"><code>DecorationSet.find</code></a> 现在支持传递谓词以通过 spec 过滤装饰。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Schema-specific rule-builders blockQuoteRule, orderedListRule, bulletListRule, codeBlockRule, and headingRule, along with the allInputRules array, are no longer included in this module.">Schema-specific rule-builders <code>blockQuoteRule</code>、<code>orderedListRule</code>、<code>bulletListRule</code>、<code>codeBlockRule</code> 和 <code>headingRule</code>，以及 <code>allInputRules</code> 数组，不再包含在此模块中。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 0.23.0 (2017-09-13)</h3>
<h4>Breaking changes</h4>
<p data-x-en="joinForward and joinBackward no longer fall back to selecting the next node when no other behavior is possible. There are now separate commands selectNodeForward and selectNodeBackward that do this, which the base keymap binds as fallback behavior."><code>joinForward</code> 和 <code>joinBackward</code> 不再在没有其他行为可能时退回到选择下一个节点。现在有单独的命令 <code>selectNodeForward</code> 和 <code>selectNodeBackward</code> 来执行此操作，基础键映射将其绑定为后备行为。</p>
<p data-x-en="baseKeymap no longer binds keys for joinUp, joinDown, lift, and selectParentNode."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#commands.baseKeymap"><code>baseKeymap</code></a> 不再绑定 <code>joinUp</code>、<code>joinDown</code>、<code>lift</code> 和 <code>selectParentNode</code> 的按键。</p>
<h4>New features</h4>
<p data-x-en="New commands selectNodeForward and selectNodeBackward added.">新增命令<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#commands.selectNodeForward"><code>selectNodeForward</code></a>和<a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#commands.selectNodeBackward"><code>selectNodeBackward</code></a>。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 0.23.0 (2017-09-13)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The splitListItem command now splits the parent list item when executed in a (trailing) empty list item in a nested list."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.23.0.html#schema-list.splitListItem"><code>splitListItem</code> 命令</a> 现在在嵌套列表中的（尾随）空列表项中执行时会拆分父列表项。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.22.1 (2017-08-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Invisible selections that don't cover any content (i.e., a cursor) are now properly hidden.">不可见的选择（即光标）现在已正确隐藏。</p>
<p data-x-en="Initializing the editor view non-editable no longer causes a crash.">初始化编辑器视图不可编辑不再导致崩溃。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 0.22.1 (2017-07-14)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Bindings like Alt-3 should now fire even if your keyboard produces a special character for that combination.">像 Alt-3 这样的绑定现在即使您的键盘为该组合生成特殊字符也应触发。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.22.2 (2017-07-06)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix another bug in the way canSplit interpreted its typesAfter argument.">修复<code>canSplit</code>解释其<code>typesAfter</code>参数方式中的另一个错误。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.22.1 (2017-07-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash in canSplit when an array containing null fields is passed as fourth argument.">修复在将包含空字段的数组作为第四个参数传递时，<a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#transform.canSplit"><code>canSplit</code></a> 崩溃的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.22.0 (2017-06-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="When using parseSlice, inline DOM content wrapped in block elements for which no parse rule is defined will now be properly wrapped in a textblock node.">当使用<a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#model.DOMParser.parseSlice"><code>parseSlice</code></a>时，未定义解析规则的块元素中包裹的内联DOM内容现在将被正确地包裹在一个文本块节点中。</p>
<h4>New features</h4>
<p data-x-en="Resolved positions now have a doc accessor to easily get their root node."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#model.ResolvedPos">解析位置</a> 现在有一个 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#model.ResolvedPos.doc"><code>doc</code></a> 访问器，可以轻松获取它们的根节点。</p>
<p data-x-en="Parse rules now support a namespace property to match XML namespaces.">解析规则现在支持<a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#model.ParseRule.namespace"><code>namespace</code>属性</a>以匹配XML命名空间。</p>
<p data-x-en="The NodeRange constructor is now public (whereas before you could only construct these through blockRange)."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#model.NodeRange"><code>NodeRange</code></a> 构造函数现在是公开的（之前你只能通过 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#model.ResolvedPos.blockRange"><code>blockRange</code></a> 构造这些）。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.22.0 (2017-06-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="canSplit now returns false when given custom after-split node types that don't match the content at that point."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#transform.canSplit"><code>canSplit</code></a> 现在在给定自定义的分割后节点类型与该点内容不匹配时返回 false。</p>
<p data-x-en="Fixes canLift incorrectly returning null when lifting into an isolating node.">修复了<a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#transform.canLift"><code>canLift</code></a>在提升到隔离节点时错误地返回null的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.22.0 (2017-06-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where moving the cursor through a text widget causes the editor to lose the selection in Chrome.">修复在 Chrome 中通过文本小部件移动光标导致编辑器丢失选择的问题。</p>
<p data-x-en="Fixes an issue where down-arrow in front of a widget would sometimes not cause any cursor motion on Chrome.">修复了在 Chrome 上，前面的向下箭头有时不会导致光标移动的问题。</p>
<p data-x-en="Destroying a mounted editor view no longer leaks event handlers."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#view.EditorView.destroy">销毁</a>一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#view.EditorView.constructor">挂载的</a>编辑器视图不再泄漏事件处理程序。</p>
<p data-x-en="Display updates for regular, non-composition input are now synchronous, which should reduce flickering when, for example, updating decorations in response to typing.">显示更新对于常规的非组合输入现在是同步的，这应该会减少闪烁，例如，在响应输入时更新装饰。</p>
<h4>New features</h4>
<p data-x-en="The editor can now be initialized in a document other than the global document (say, an iframe).">编辑器现在可以在全局文档以外的文档中初始化（比如，<code>iframe</code>）。</p>
<p data-x-en="Editor views now have a domAtPos method, which gives you the DOM position corresponding to a given document position.">编辑器视图现在有一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.22.0.html#view.EditorView.domAtPos"><code>domAtPos</code>方法</a>，它为您提供与给定文档位置对应的DOM位置。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 0.22.0 (2017-06-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Input rules with spaces in them now match any whitespace where the space is expected, to avoid mysteriously not working when a non-breaking space is present.">输入规则中的空格现在匹配任何预期为空格的空白，以避免在存在不间断空格时神秘地不起作用。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.21.1 (2017-05-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="addMark no longer assumes marks always exclude only themselves."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#transform.Transform.addMark"><code>addMark</code></a> 不再假设标记总是<a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#model.MarkSpec.excludes">排除</a>它们自己。</p>
<p data-x-en="replaceRange](https://prosemirror.net/docs/ref/version/0.21.0.html#transform.Transform.replaceRange) and deleteRange will no longer expand the range across isolating node boundaries."><code>replaceRange</code>](https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#transform.Transform.replaceRange) 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#transform.Transform.deleteRange"><code>deleteRange</code></a> 将不再跨隔离节点边界扩展范围。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.21.1 (2017-05-09)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Copying and pasting table cells on Edge no longer strips the table structure.">复制和粘贴表格单元格在Edge上不再剥离表格结构。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.21.0 (2017-05-03)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The openLeft and openRight properties of Slice objects have been renamed to openStart and openEnd to avoid confusion in right-to-left text. The old names will continue to work with a warning until the next release."><code>Slice</code> 对象的 <code>openLeft</code> 和 <code>openRight</code> 属性已重命名为 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#model.Slice.openStart"><code>openStart</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#model.Slice.openEnd"><code>openEnd</code></a> 以避免在从右到左的文本中产生混淆。旧名称将在下一个版本发布之前继续使用，但会有警告。</p>
<h4>New features</h4>
<p data-x-en="Mark serializing functions now get a second parameter that indicates whether the mark's content is inline or block nodes.">Mark <a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#model.MarkSpec.toDOM">序列化函数</a> 现在获得第二个参数，该参数指示标记的内容是内联节点还是块节点。</p>
<p data-x-en="Setting a mark serializer to null in a DOMSerializer can now be used to omit that mark when serializing.">在<a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#model.DOMSerializer"><code>DOMSerializer</code></a>中将标记序列化器设置为<code>null</code>现在可以在序列化时省略该标记。</p>
<p data-x-en="Node specs support a new property isolating, which is used to disable editing actions like backspacing and lifting across such a node's boundaries.">节点规范支持一个新属性<a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#model.NodeSpec.isolating"><code>isolating</code></a>，用于禁用跨越此类节点边界的编辑操作，如退格和提升。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.21.0 (2017-05-03)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Selection.atStart, and atEnd no longer take a second textOnly parameter."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#state.Selection%5EatStart"><code>Selection.atStart</code></a>，和<a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#state.Selection%5EatEnd"><code>atEnd</code></a>不再接受第二个<code>textOnly</code>参数。</p>
<h4>New features</h4>
<p data-x-en="Selection.near, atStart, and atEnd will now fall back to returning an AllSelection when unable to find a valid selection. This removes the (undocumented) requirement that documents always contain a valid selection position (though you'll probably still want to maintain this for practical UI reasons)."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#state.Selection%5Enear"><code>Selection.near</code></a>、<a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#state.Selection%5EatStart"><code>atStart</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#state.Selection%5EatEnd"><code>atEnd</code></a> 现在将在无法找到有效选择时返回 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#state.AllSelection"><code>AllSelection</code></a>。这消除了文档始终包含有效选择位置的（未记录的）要求（尽管出于实际的用户界面原因，您可能仍然希望保持这一点）。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.21.0 (2017-05-03)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The associative option to widget decorations is no longer supported. To make a widget left-associative, set its side option to a negative number. associative will continue to work with a warning until the next release."><code>associative</code> 选项不再支持小部件装饰。要使小部件左关联，请将其 <code>side</code> 选项设置为负数。<code>associative</code> 将继续工作，但会发出警告，直到下一个版本。</p>
<h4>New features</h4>
<p data-x-en="Widget decorations now support a side option that controls which side of them the cursor is drawn, where they move when content is inserted at their position, and the order in which they appear relative to other widgets at the same position."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.21.0.html#view.Decoration%5Ewidget">小部件装饰</a>现在支持一个<code>side</code>选项，该选项控制光标绘制在它们的哪一侧，当内容插入到它们的位置时它们的移动方式，以及它们相对于同一位置的其他小部件的出现顺序。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.20.5 (2017-05-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where the DOM selection could be shown on the wrong side of hard break or image nodes.">修复了一个问题，即 DOM 选择可能显示在硬换行或图像节点的错误一侧。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.20.4 (2017-04-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug that prevented the DOM selection from being updated when the new position was near the old one in some circumstances.">修复了在某些情况下，当新位置接近旧位置时，阻止DOM选择更新的错误。</p>
<p data-x-en="Stop interfering with alt-d keypresses on OS X.">停止干扰 OS X 上的 alt-d 按键。</p>
<p data-x-en="Fix issue where reading a DOM change in a previously empty node could crash.">修复在读取先前为空的节点中的DOM更改时可能导致崩溃的问题。</p>
<p data-x-en="Fixes crash when reading a change that removed a decorated text node from the DOM.">修复了读取从DOM中删除装饰文本节点的更改时的崩溃问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.20.3 (2017-04-12)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Shift-pasting and pasting into a code block now does the right thing on IE and Edge.">Shift粘贴和粘贴到代码块现在在IE和Edge上可以正常工作。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.20.2 (2017-04-05)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes a bug that broke dragging from the editor.">修复了一个导致无法从编辑器拖动的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.20.1 (2017-04-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Typing in code blocks no longer replaces newlines with spaces.">在代码块中输入时不再用空格替换换行符。</p>
<p data-x-en="Copy and paste on Internet Explorer, Edge, and mobile Safari should now behave more like it does on other browsers. Handlers are called, and the changes to the document are made by ProseMirror's code, not the browser.">在 Internet Explorer、Edge 和移动版 Safari 上复制和粘贴现在的行为应该更像其他浏览器。处理程序被调用，文档的更改由 ProseMirror 的代码完成，而不是浏览器。</p>
<p data-x-en="Fixes a problem where triple-clicking the editor would sometimes cause the scroll position to inexplicably jump around on IE11.">修复了在IE11中三击编辑器有时会导致滚动位置莫名其妙跳动的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.20.0 (2017-04-03)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Newlines in the text are now normalized to spaces when parsing except when you set preserveWhitespace to &quot;full&quot; in your options or in a parse rule.">Newlines in the text are now normalized to spaces when parsing except when you set <code>preserveWhitespace</code> to <code>"full"</code> in your <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#model.DOMParser.parse">options</a> or in a <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#model.ParseRule.preserveWhitespace">parse rule</a>.</p>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash in IE when parsing DOM content.">修复在IE中解析DOM内容时的崩溃问题。</p>
<h4>New features</h4>
<p data-x-en="Fragments now have nodesBetween and descendants methods, providing the same functionality as the methods by the same name on nodes.">Fragments 现在有 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#model.Fragment.nodesBetween"><code>nodesBetween</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#model.Fragments.descendants"><code>descendants</code></a> 方法，提供与节点上同名方法相同的功能。</p>
<p data-x-en="Resolved positions now have max and min methods to easily find a maximum or minimum position.">已解决的位置现在有<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#model.ResolvedPos.max"><code>max</code></a>和<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#model.ResolvedPos.min"><code>min</code></a>方法，可以轻松找到最大或最小位置。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.20.0 (2017-04-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes issue where replacing would sometimes unexpectedly split nodes.">修复了替换有时会意外拆分节点的问题。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.20.0 (2017-04-03)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Selection.near no longer accepts a textOnly parameter."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.Selection%5Enear"><code>Selection.near</code></a> 不再接受 <code>textOnly</code> 参数。</p>
<h4>Bug fixes</h4>
<p data-x-en="TextSelection.between may now return a node selection when the document does not contain a valid cursor position."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.TextSelection%5Ebetween"><code>TextSelection.between</code></a> 现在可能会在文档不包含有效光标位置时返回节点选择。</p>
<h4>New features</h4>
<p data-x-en="Selection objects now implement a content method that returns their content. This is used to determine what ends up on the clipboard when the selection is copied or dragged."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#model.Selection"><code>Selection</code></a> 对象现在实现了一个 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#model.Selection.content"><code>content</code></a> 方法，该方法返回它们的内容。这用于确定在选择内容被复制或拖动时，最终会出现在剪贴板上的内容。</p>
<p data-x-en="Selections may now specify multiple ranges that they cover, to generalize to more types of selections. The Selection superclass constructor takes an array of ranges as optional third argument.">选择现在可以指定它们覆盖的多个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.Selection.ranges">范围</a>，以推广到更多类型的选择。<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.Selection"><code>Selection</code></a>超类构造函数将一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.SelectionRange">范围</a>数组作为可选的第三个参数。</p>
<p data-x-en="Selections gained new methods replace and replaceWith to provide subclasses more control over how selections of that type respond to being deleted or overwritten.">Selections 获得了新的方法 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.Selection.replace"><code>replace</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.Selection.replaceWith"><code>replaceWith</code></a>，以便子类可以更好地控制该类型的选择在被删除或覆盖时的响应。</p>
<p data-x-en="Selections have a new method getBookmark that custom selection classes can implement to allow the undo history to accurately store and restore them.">选择有一个新的方法<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.Selection.getBookmark"><code>getBookmark</code></a>，自定义选择类可以实现该方法，以便撤销历史能够准确地存储和恢复它们。</p>
<p data-x-en="The new selection class AllSelection can be used to select the entire document.">新的选择类<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.AllSelection"><code>AllSelection</code></a>可以用来选择整个文档。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.20.0 (2017-04-03)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The inclusiveLeft and inclusiveRight options to inline decorations were renamed to inclusiveStart and inclusiveEnd so that they also make sense in right-to-left text. The old names work with a warning until the next release."><code>inclusiveLeft</code> 和 <code>inclusiveRight</code> 选项被重命名为 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#view.Decoration%5Einline%5Espec.inclusiveStart"><code>inclusiveStart</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#view.Decoration%5Einline%5Espec.inclusiveEnd"><code>inclusiveEnd</code></a>，以便它们在从右到左的文本中也有意义。旧名称在下一个版本发布之前会带有警告。</p>
<p data-x-en="The default styling for lists and blockquotes was removed from prosemirror.css. (They were moved to the example-setup module.)"><code>prosemirror.css</code> 中的列表和引用的默认样式已被移除。（它们被移到了 <a href="https://github.com/ProseMirror/prosemirror-example-setup"><code>example-setup</code></a> 模块。）</p>
<h4>Bug fixes</h4>
<p data-x-en="Fixes reading of selection in Chrome in a shadow DOM.">修复在 Chrome 中的 shadow DOM 中读取选择内容的问题。</p>
<p data-x-en="Registering DOM event handlers that the editor doesn't listen to by default with the handleDOMEvents prop should work again.">通过 <code>handleDOMEvents</code> 属性注册编辑器默认不监听的 DOM 事件处理程序应该可以再次工作。</p>
<p data-x-en="Backspacing after turning off a mark now works again in Firefox.">关闭标记后退格现在在Firefox中再次有效。</p>
<h4>New features</h4>
<p data-x-en="The new props handlePaste and handleDrop can be used to override drop and paste behavior.">新的道具 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#view.EditorProps.handlePaste"><code>handlePaste</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#view.EditorProps.handleDrop"><code>handleDrop</code></a> 可用于覆盖粘贴和拖放行为。</p>
<h3><a href="../ref/#inputrules">prosemirror-inputrules</a> 0.20.0 (2017-04-03)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The input rules plugin no longer implicitly binds backspace to undo the last applied rule.">输入规则<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#inputrules.inputRules">插件</a>不再隐式地将退格键绑定到撤销最后应用的规则。</p>
<h4>New features</h4>
<p data-x-en="This module now exposes a command undoInputRule, which will revert an input rule when run directly after one was applied.">此模块现在公开了一个命令<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#inputrules.undoInputRule"><code>undoInputRule</code></a>，该命令将在输入规则应用后直接运行时还原该输入规则。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 0.20.0 (2017-04-03)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Appended transactions no longer generate undo history events.">附加的事务不再生成撤销历史事件。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 0.20.0 (2017-04-03)</h3>
<h4>New features</h4>
<p data-x-en="The new selectAll command, bound to Mod-a in the base keymap, sets the selection to an AllSelection.">新的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#commands.selectAll"><code>selectAll</code>命令</a>，在基础键映射中绑定到Mod-a，将选择设置为<a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#state.AllSelection"><code>AllSelection</code></a>。</p>
<h3><a href="../ref/#schema-list">prosemirror-schema-list</a> 0.20.0 (2017-04-03)</h3>
<h4>New features</h4>
<p data-x-en="The liftListItem command can now lift items out of a list entirely, when the parent node isn't another list."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.20.0.html#schema-list.liftListItem"><code>liftListItem</code></a> 命令现在可以将项目完全从列表中提升出来，当父节点不是另一个列表时。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.19.1 (2017-03-18)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes a number of issues with characters being duplicated or disappearing when typing on mark boundaries.">修复了在标记边界输入时字符重复或消失的多个问题。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.19.1 (2017-03-17)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix an issue where ensureMarks would fail to reset the marks to the empty set when turning off the last mark.">修复了<code>ensureMarks</code>在关闭最后一个标记时无法将标记重置为空集的问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.19.0 (2017-03-16)</h3>
<h4>Breaking changes</h4>
<p data-x-en="MarkSpec.inclusiveRight was replaced by inclusive, which behaves slightly differently. inclusiveRight will be interpreted as inclusive (with a warning) until the next release."><code>MarkSpec.inclusiveRight</code> 被 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#model.MarkSpec.inclusive"><code>inclusive</code></a> 取代，其行为略有不同。<code>inclusiveRight</code> 将被解释为 <code>inclusive</code>（带有警告）直到下一个版本发布。</p>
<h4>New features</h4>
<p data-x-en="The new inlineContent property on nodes and node types tells you whether a node type supports inline content.">新的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#model.Node.inlineContent"><code>inlineContent</code></a>属性在节点和节点类型上告诉你节点类型是否支持内联内容。</p>
<p data-x-en="MarkSpec.inclusive can now be used to control whether content inserted at the boundary of a mark receives that mark."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#model.MarkSpec.inclusive"><code>MarkSpec.inclusive</code></a> 现在可以用来控制在标记边界插入的内容是否接收该标记。</p>
<p data-x-en="Parse rule context restrictions can now use node groups, not just node names, to specify valid context.">解析规则 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#model.ParseRule.context"><code>context</code></a> 限制现在可以使用节点 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#model.NodeSpec.group">组</a>，不仅仅是节点名称，以指定有效的上下文。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.19.0 (2017-03-16)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Selection.between is now called TextSelection.between, and only returns text selections."><code>Selection.between</code> 现在被称为 <a href="state.TextSelection%5Ebetween"><code>TextSelection.between</code></a>，并且只返回文本选择。</p>
<p data-x-en="The JSON representation of selections changed. fromJSON will continue to understand the old representation, but if your own code touches the JSON data, you'll have to adjust it.">选择的 JSON 表示发生了变化。<a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#state.Selection%5EfromJSON"><code>fromJSON</code></a> 将继续理解旧的表示，但如果您的代码涉及 JSON 数据，您将需要进行调整。</p>
<p data-x-en="All Selection objects now have $head/$anchor properties, so those can no longer be used to recognize text selections (use $cursor or instanceof).">所有 <code>Selection</code> 对象现在都有 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#state.Selection.$head"><code>$head</code></a>/<a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#state.Selection.$anchor"><code>$anchor</code></a> 属性，因此这些属性不能再用于识别文本选择（请使用 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#state.TextSelection.$cursor"><code>$cursor</code></a> 或 <code>instanceof</code>）。</p>
<h4>New features</h4>
<p data-x-en="It is now possible to write your own Selection subclasses and set the editor selection to an instance of them (provided you implement all required methods and register them with Selection.jsonID).">现在可以编写自己的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#state.Selection"><code>Selection</code></a>子类，并将编辑器选择设置为它们的实例（前提是您实现所有必需的方法并使用<a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#state.Selection%5EjsonID"><code>Selection.jsonID</code></a>注册它们）。</p>
<p data-x-en="Text selections now have a $cursor getter which returns a position only if this is a cursor selection.">文本选择现在有一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#state.TextSelection.$cursor"><code>$cursor</code></a> getter，只有在这是一个光标选择时才返回一个位置。</p>
<p data-x-en="The new Transaction.ensureMarks method makes it easier to ensure given set of active marks without needlessly setting storedMarks.">新的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#state.Transaction.ensureMarks"><code>Transaction.ensureMarks</code></a>方法使得在不需要无谓地设置<code>storedMarks</code>的情况下确保给定的一组活动标记变得更加容易。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.19.0 (2017-03-16)</h3>
<h4>Breaking changes</h4>
<p data-x-en="endOfTextblock no longer always returns false for horizontal motion on non-cursor selections, but checks the position of the selection head instead."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#view.EditorView.endOfTextblock"><code>endOfTextblock</code></a> 不再总是对非光标选择的水平移动返回 false，而是检查选择头的位置。</p>
<h4>Bug fixes</h4>
<p data-x-en="Typing after adding/removing a mark no longer briefly shows the new text with the wrong marks.">添加/删除标记后输入不再短暂显示带有错误标记的新文本。</p>
<p data-x-en="posAtCoords is now more reliable on modern browsers by using browser APIs."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#view.EditorView.posAtCoords"><code>posAtCoords</code></a> 现在通过使用浏览器 API 在现代浏览器上更加可靠。</p>
<p data-x-en="Fix a bug where the view would in some circumstances leave superfluous DOM nodes around inside marks.">修复一个错误，在某些情况下视图会在标记内留下多余的DOM节点。</p>
<h4>New features</h4>
<p data-x-en="You can now override the selection the editor creates for a given DOM selection with the createSelectionBetween prop.">您现在可以使用<a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#view.EditorProps.createSelectionBetween"><code>createSelectionBetween</code></a>属性覆盖编辑器为给定DOM选择创建的选择。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 0.19.0 (2017-03-16)</h3>
<h4>New features</h4>
<p data-x-en="A new function closeHistory can be used to force separation of history events at the start of a given transaction.">一个新的函数<a href="https://prosemirror.xheldon.com/docs/ref/version/0.19.0.html#history.closeHistory"><code>closeHistory</code></a>可以用来在给定事务开始时强制分隔历史事件。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 0.19.0 (2017-03-16)</h3>
<h4>New features</h4>
<p data-x-en="You can now use strings (as well as numbers) as client IDs (this already worked, but now the documentation reflects this).">现在您可以使用字符串（以及数字）作为客户端ID（这已经可以使用，但现在文档反映了这一点）。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 0.19.0 (2017-03-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Calling joinBackward at the start of a node that can't be joined no longer raises an error.">调用<code>joinBackward</code>在无法合并的节点开始时不再引发错误。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 0.19.0 (2017-03-16)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Link marks are now non-inclusive by default.">Link 标记现在默认不包含。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.18.0 (2017-02-24)</h3>
<h4>Breaking changes</h4>
<p data-x-en="schema.nodeSpec and schema.markSpec have been deprecated in favor of schema.spec. The properties still work with a warning in this release, but will be dropped in the next."><code>schema.nodeSpec</code> 和 <code>schema.markSpec</code> 已被弃用，取而代之的是 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.Schema.spec"><code>schema.spec</code></a>。这些属性在此版本中仍然可以使用，但会有警告提示，并将在下一个版本中被移除。</p>
<h4>New features</h4>
<p data-x-en="Node objects now have a check method which can be used to assert that they conform to the schema."><code>Node</code> 对象现在有一个 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.Node.check"><code>check</code></a> 方法，可以用来断言它们符合模式。</p>
<p data-x-en="Node specs now support an atom property, and nodes an isAtom accessor, which is currently only used to determine whether such nodes should be directly selectable (for example when they are rendered as an uneditable node view).">节点规范现在支持一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.NodeSpec.atom"><code>atom</code>属性</a>，节点支持一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.Node.isAtom"><code>isAtom</code>访问器</a>，目前仅用于确定此类节点是否应直接可选（例如，当它们呈现为不可编辑的节点视图时）。</p>
<p data-x-en="The new excludes field on mark specs can be used to control the marks that this mark may coexist with. Mark type objects also gained an excludes method to querty this relation.">新的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.MarkSpec.excludes"><code>excludes</code></a>字段可以用来控制此标记可以共存的标记。标记类型对象还增加了一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.MarkType.excludes"><code>excludes</code><em>方法</em></a>来查询这种关系。</p>
<p data-x-en="Mark specs now support a group property, and marks can be referred to by group name in content specs.">Mark 规范现在支持 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.MarkSpec.group"><code>group</code></a> 属性，并且标记可以在内容规范中通过组名引用。</p>
<p data-x-en="The Schema class now provides its whole spec under its spec property."><code>Schema</code> 类现在通过其 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.SchemaSpec">spec</a> 属性提供其完整的 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.Schema.spec"><code>spec</code></a>。</p>
<p data-x-en="The name of a schema's default top-level node is now configurable. You can use schema.topNodeType to retrieve the top node type.">模式的默认顶级节点的名称现在是<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.SchemaSpec.topNode">可配置的</a>。您可以使用<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.Schema.topNodeType"><code>schema.topNodeType</code></a>来检索顶级节点类型。</p>
<p data-x-en="Parse rules now support a context field that can be used to only make the rule match inside certain ancestor nodes."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.ParseRule">解析规则</a>现在支持一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#model.ParseRule.context"><code>context</code>字段</a>，可以用来仅在某些祖先节点内使规则匹配。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.18.0 (2017-02-24)</h3>
<h4>New features</h4>
<p data-x-en="Transform.setNodeType now takes an optional argument to set the new node's attributes."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#transform.Transform.setNodeType"><code>Transform.setNodeType</code></a> 现在接受一个可选参数来设置新节点的属性。</p>
<p data-x-en="Steps now provide an offset method, which makes it possible to create a copy the step with its position offset by a given amount.">步骤现在提供了一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#transform.Step.offset"><code>offset</code></a>方法，这使得可以创建一个步骤的副本，并将其位置偏移给定的量。</p>
<p data-x-en="docChanged is now a property on the Transform class, rather than its Transaction subclass."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#transform.Transform.docChanged"><code>docChanged</code></a> 现在是 <code>Transform</code> 类的一个属性，而不是其 <code>Transaction</code> 子类的属性。</p>
<p data-x-en="Mapping instances now have invert and appendMappingInverted methods to make mapping through them in reverse easier."><code>Mapping</code> 实例现在有 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#transform.Mapping.invert"><code>invert</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#transform.Mapping.appendMappingInverted"><code>appendMappingInverted</code></a> 方法，使通过它们进行反向映射更容易。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.18.0 (2017-02-24)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Plugin objects now store their spec under a spec instead of an options property. The options property still works with a warning in this release.">插件对象现在将其规范存储在<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#state.PluginSpec.spec"><code>spec</code></a>下，而不是<code>options</code>属性下。在此版本中，<code>options</code>属性仍然可以使用，但会有警告。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.18.0 (2017-02-24)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Decoration objects now store their definition object under spec, not options. The old property name still works, with a warning, until the next release."><code>Decoration</code> 对象现在将其定义对象存储在 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#Decoration.spec"><code>spec</code></a> 下，而不是 <code>options</code>。旧的属性名称仍然有效，但会有警告，直到下一个版本发布。</p>
<h4>Bug fixes</h4>
<p data-x-en="Fix bug where calling focus when there was a text selection would sometimes result in state.selection receiving an incorrect value.">修复在有文本选择时调用<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#view.EditorView.focus"><code>focus</code></a>有时会导致<code>state.selection</code>接收到错误值的错误。</p>
<p data-x-en="EditorView.props now has its state property updated when you call updateState."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#view.EditorView.props"><code>EditorView.props</code></a> 现在在调用 <code>updateState</code> 时其 <code>state</code> 属性会更新。</p>
<p data-x-en="Putting decorations on or inside a node view with an update method now works.">现在可以使用<code>update</code>方法在节点视图上或内部放置装饰。</p>
<h4>New features</h4>
<p data-x-en="Plugin view update methods are now passed the view's previous state as second argument."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#state.PluginSpec.view">插件视图</a>更新方法现在将视图的先前状态作为第二个参数传递。</p>
<p data-x-en="The place agument to the EditorView constructor can now be an object with a mount property to directly provide the node that should be made editable."><code>place</code> 参数到 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#view.EditorView"><code>EditorView</code> 构造函数</a> 现在可以是一个带有 <code>mount</code> 属性的对象，以直接提供应设置为可编辑的节点。</p>
<p data-x-en="The new EditorView.setProps method makes it easier to update individual props.">新的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#view.EditorView.setProps"><code>EditorView.setProps</code>方法</a>使更新单个属性变得更容易。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 0.18.0 (2017-02-24)</h3>
<h4>New features</h4>
<p data-x-en="Add a keydownHandler function, which takes a keymap and produces a handleKeydown prop-style function.">添加一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#keymap.keydownHandler"><code>keydownHandler</code></a>函数，该函数接受一个键映射并生成一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#view.EditorProps.handleKeydown"><code>handleKeydown</code>属性</a>样式的函数。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 0.18.0 (2017-02-24)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a problem where simultaneous collaborative editing could break the undo history.">修复一个同时协作编辑可能破坏撤销历史的问题。</p>
<h3><a href="../ref/#collab">prosemirror-collab</a> 0.18.0 (2017-02-24)</h3>
<h4>New features</h4>
<p data-x-en="sendableSteps now also returns information about the original transactions that produced the steps."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#collab.sendableSteps"><code>sendableSteps</code></a> 现在也返回有关生成这些步骤的原始事务的信息。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 0.18.0 (2017-02-24)</h3>
<h4>New features</h4>
<p data-x-en="New command splitBlockKeepMarks which splits a block but preserves the marks at the cursor.">新命令<a href="https://prosemirror.xheldon.com/docs/ref/version/0.18.0.html#commands.splitBlockKeepMarks"><code>splitBlockKeepMarks</code></a>，该命令可以拆分块但保留光标处的标记。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.17.1 (2017-02-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Transaction.scrolledIntoView no longer always returns true."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html##state.Transaction.scrolledIntoView"><code>Transaction.scrolledIntoView</code></a> 不再总是返回 true。</p>
<p data-x-en="Selection.near now takes a third textOnly argument, as the docs already claimed."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#state.Selection%5Eneard"><code>Selection.near</code></a> 现在接受第三个 <code>textOnly</code> 参数，正如文档中已经提到的。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.17.7 (2017-02-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes crash in the code that maintains the scroll position when the document is empty or hidden.">修复了在文档为空或隐藏时维护滚动位置的代码中的崩溃问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.17.6 (2017-02-08)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Transactions that shouldn't scroll the selection into view now no longer do so.">不应<a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#state.transaction.scrollIntoView">滚动选择到视图中</a>的事务现在不再这样做。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.17.4 (2017-02-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes bug where widget decorations would sometimes get parsed as content when editing near them.">修复了在小部件装饰附近编辑时，装饰有时会被解析为内容的错误。</p>
<p data-x-en="The editor now prevents the behavior of Ctrl-d and Ctrl-h on textblock boundaries on OS X, as intended.">编辑器现在可以防止在OS X上按Ctrl-d和Ctrl-h时在文本块边界处的行为，如预期的那样。</p>
<p data-x-en="Make sure long words don't cause a horizontal scrollbar in Firefox">确保长单词不会在Firefox中导致水平滚动条</p>
<p data-x-en="Various behavior fixes for IE11.">针对IE11的各种行为修复。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 0.17.1 (2017-02-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where collaborative editing corner cases could corrupt the history.">修复协作编辑边缘情况可能破坏历史记录的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.17.3 (2017-01-19)</h3>
<h4>Bug fixes</h4>
<p data-x-en="DOM changes deleting a node's inner wrapping DOM element (for example the <code> tag in a schema-basic code block) no longer break the editor.">DOM 更改删除节点的内部包装 DOM 元素（例如 schema-basic 代码块中的 <code>&lt;code&gt;</code> 标签）不再破坏编辑器。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.17.2 (2017-01-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Call custom click handlers before applying select-node behavior for a ctrl/cmd-click.">在应用选择节点行为之前，调用自定义点击处理程序以进行ctrl/cmd点击。</p>
<p data-x-en="Fix failure to apply DOM changes that start at document position 0.">修复从文档位置0开始应用DOM更改的失败。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 0.17.1 (2017-01-16)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Make sure toggleMark also works in the top-level node (when it is a textblock).">确保 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#commands.toggleMark"><code>toggleMark</code></a> 也在顶级节点（当它是文本块时）工作。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.17.1 (2017-01-07)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where a document update that left the selection in the same place sometimes led to an incorrect DOM selection.">修复文档更新后将选择保留在同一位置有时会导致 DOM 选择不正确的问题。</p>
<p data-x-en="Make sure EditorView.focus doesn't cause the browser to scroll the top of the editor into view.">确保<a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#view.EditorView.focus"><code>EditorView.focus</code></a>不会导致浏览器滚动到编辑器的顶部。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.17.0 (2017-01-05)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Node.marksAt was replaced with ResolvedPos.marks. It still works (with a warning) in this release, but will be removed in the next one."><code>Node.marksAt</code> 被替换为 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#model.ResolvedPos.marks"><code>ResolvedPos.marks</code></a>。在此版本中它仍然可以使用（会有警告），但将在下一个版本中被移除。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.17.0 (2017-01-05)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The way state is updated was changed. Instead of applying an action (a raw object with a type property), it is now done by applying a Transaction.">状态更新的方式已更改。现在不再是应用一个带有<code>type</code>属性的原始对象，而是通过<a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#state.EditorState.apply">应用</a>一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#state.Transaction"><code>Transaction</code></a>来完成。</p>
<p data-x-en="The EditorTransform class was renamed Transaction, and extended to allow changing the set of stored marks and attaching custom metadata."><code>EditorTransform</code> 类被重命名为 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#state.Transaction"><code>Transaction</code></a>，并扩展以允许更改存储的标记集和附加自定义元数据。</p>
<h4>New features</h4>
<p data-x-en="Plugins now accept a filterTransaction option that can be used to filter out transactions as they come in.">插件现在接受一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#state.Plugin.constructor%5Eoptions.filterTransaction"><code>filterTransaction</code></a>选项，可以用来过滤传入的事务。</p>
<p data-x-en="Plugins also got an appendTransaction option making it possible to follow up transactions with another transaction.">插件还获得了一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#state.Plugin.constructor%5Eoptions.appendTransaction"><code>appendTransaction</code></a>选项，使得可以用另一个事务跟进事务。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.17.0 (2017-01-05)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The handleDOMEvent prop has been dropped in favor of the handleDOMEvents (plural) prop."><code>handleDOMEvent</code> 属性已被弃用，取而代之的是 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#view.EditorProps.handleDOMEvents"><code>handleDOMEvents</code></a>（复数）属性。</p>
<p data-x-en="The onChange prop has been replaced by a dispatchTransaction prop (which takes a transaction instead of an action)."><code>onChange</code> 属性已被 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#view.EditorProps.dispatchTransaction"><code>dispatchTransaction</code></a> 属性取代（它接受一个事务而不是一个动作）。</p>
<h4>New features</h4>
<p data-x-en="Added support for a handleDOMEvents prop, which allows you to provide handler functions per DOM event, and works even for events that the editor doesn't normally add a handler for.">增加了对<a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#view.EditorProps.handleDOMEvents"><code>handleDOMEvents</code>属性</a>的支持，允许您为每个DOM事件提供处理函数，即使是编辑器通常不添加处理程序的事件也能正常工作。</p>
<p data-x-en="Add view method dispatch, which provides a convenient way to dispatch transactions.">添加视图方法<a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#view.EditorView.dispatch"><code>dispatch</code></a>，提供了一种方便的方式来分发事务。</p>
<p data-x-en="The dispatchTransaction (used to be onAction) prop is now optional, and will default to simply applying the transaction to the current view state."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#view.EditorProps.dispatchTransaction"><code>dispatchTransaction</code></a>（以前是<code>onAction</code>）属性现在是可选的，默认情况下只会将事务应用于当前视图状态。</p>
<p data-x-en="Widget decorations now accept an option associative which can be used to configure on which side of content inserted at their position they end up."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#view.Decoration.widget">小部件装饰</a> 现在接受一个选项 <code>associative</code>，可以用来配置在其位置插入的内容的哪一侧结束。</p>
<p data-x-en="Typing immediately after deleting text now preserves the marks of the deleted text.">删除文本后立即键入现在会保留已删除文本的标记。</p>
<p data-x-en="Transactions that update the selection because of mouse or touch input now get a metadata property pointer with the value true.">由于鼠标或触摸输入而更新选择的事务现在会获得一个元数据属性<code>pointer</code>，其值为<code>true</code>。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 0.17.0 (2017-01-05)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The dispatch function passed to commands is now passed a Transaction, not an action object.">传递给命令的<code>dispatch</code>函数现在传递的是<a href="https://prosemirror.xheldon.com/docs/ref/version/0.17.0.html#state.Transaction"><code>Transaction</code></a>，而不是一个动作对象。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.16.0 (2016-12-23)</h3>
<h4>New features</h4>
<p data-x-en="Plugins now take a view option that can be used to interact with the editor view.">插件现在接受一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.16.0.html#state.Plugin.constructor%5Eoptions.view"><code>view</code>选项</a>，可以用来与<a href="https://prosemirror.xheldon.com/docs/ref/version/0.16.0.html#view.EditorView">编辑器视图</a>交互。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.16.0 (2016-12-23)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The spellcheck, label, and class props are now replaced by an attributes prop."><code>spellcheck</code>、<code>label</code> 和 <code>class</code> 属性现在被 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.16.0.html#view.EditorProps.attributes"><code>attributes</code> 属性</a> 取代。</p>
<h4>Bug fixes</h4>
<p data-x-en="Solve problem where setting a node selection would trigger a DOM read, leading to the selection being reset.">解决设置节点选择会触发DOM读取的问题，导致选择被重置。</p>
<p data-x-en="Ignoring/aborting an action should no longer lead to the DOM being stuck in an outdated state.">忽略/中止操作不应再导致DOM卡在过时状态。</p>
<p data-x-en="Typing at the end of a textblock which ends in a non-text node now actually works.">在以非文本节点结尾的文本块末尾输入现在实际上有效。</p>
<p data-x-en="DOM nodes for leaf document nodes are now set as non-editable to prevent various issues such as stray cursors inside of them and Firefox adding image resize controls.">DOM节点现在被设置为不可编辑，以防止各种问题，例如其中的游标偏移和Firefox添加图像调整控件。</p>
<p data-x-en="Inserting a node no longer causes nodes of the same type after it to be neednessly redrawn.">插入节点不再导致其后的同类型节点被不必要地重绘。</p>
<h4>New features</h4>
<p data-x-en="Add a new editor prop editable which controls whether the editor's contentEditable behavior is enabled.">添加一个新的编辑器属性<a href="https://prosemirror.xheldon.com/docs/ref/version/0.16.0.html#view.EditorProps.editable"><code>editable</code></a>，用于控制编辑器的<code>contentEditable</code>行为是否启用。</p>
<p data-x-en="Plugins and props can now set any DOM attribute on the outer editor node using the attributes prop.">插件和道具现在可以使用<a href="https://prosemirror.xheldon.com/docs/ref/version/0.16.0.html#view.EditorProps.attributes"><code>attributes</code>道具</a>在外部编辑器节点上设置任何DOM属性。</p>
<p data-x-en="Node view constructors and update methods now have access to the node's wrapping decorations, which can be used to pass information to a node view without encoding it in the document.">节点视图构造函数和更新方法现在可以访问节点的包装装饰，这可以用来将信息传递给节点视图，而无需将其编码在文档中。</p>
<p data-x-en="Attributes added or removed by node and inline decorations no longer cause the nodes inside of them to be fully redrawn, making node views more stable and allowing CSS transitions to be used.">由节点和内联<a href="https://prosemirror.xheldon.com/docs/ref/version/0.16.0.html#view.Decoration">装饰</a>添加或移除的属性不再导致其内部的节点被完全重绘，使节点视图更加稳定并允许使用CSS过渡。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.15.0 (2016-12-10)</h3>
<h4>Breaking changes</h4>
<p data-x-en="ResolvedPos.atNodeBoundary is deprecated and will be removed in the next release. Use textOffset > 0 instead."><code>ResolvedPos.atNodeBoundary</code> 已被弃用，并将在下一个版本中移除。请改用 <code>textOffset &gt; 0</code>。</p>
<h4>New features</h4>
<p data-x-en="Parse rules associated with a schema can now specify a priority to influence the order in which they are applied.">解析规则与模式相关联，现在可以指定一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.15.0.html#model.ParseRule.priority"><code>优先级</code></a>来影响它们的应用顺序。</p>
<p data-x-en="Resolved positions have a new getter textOffset to find their position within a text node (if any).">已解析的位置有一个新的 getter <a href="https://prosemirror.xheldon.com/docs/ref/version/0.15.0.html#model.ResolvedPos.textOffset"><code>textOffset</code></a> 来查找它们在文本节点中的位置（如果有）。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.15.0 (2016-12-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix bug where pasted/inserted content would sometimes get incorrectly closed at the right side.">修复粘贴/插入的内容有时会在右侧被错误关闭的错误。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.15.0 (2016-12-10)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Selection actions no longer scroll the new selection into view by default (they never were supposed to, but due to a bug they did). Add a scrollIntoView property to the action to get this behavior.">选择操作默认情况下不再滚动新选择项到视图中（它们本来就不应该这样做，但由于一个错误，它们确实这样做了）。添加一个<code>scrollIntoView</code>属性到操作中以获得此行为。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.15.2 (2016-12-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="The native selection is now appropriately hidden when there is a node selection.">当有节点选择时，本地选择现在已适当隐藏。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.15.1 (2016-12-10)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix DOM parsing for decorated text nodes.">修复装饰文本节点的DOM解析。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.15.0 (2016-12-10)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The editor view no longer wraps its editable DOM element in a wrapper element. The ProseMirror CSS class now applies directly to the editable element. The ProseMirror-content CSS class is still present for ease of upgrading but will be dropped in the next release.">编辑器视图不再将其可编辑的DOM元素包裹在一个包装元素中。<code>ProseMirror</code> CSS类现在直接应用于可编辑元素。<code>ProseMirror-content</code> CSS类仍然存在以便于升级，但将在下一个版本中删除。</p>
<p data-x-en="The editor view no longer draws a drop cursor when dragging content over the editor. The new prosemirror-dropcursor module implements this as a plugin.">编辑器视图在拖动内容到编辑器上方时不再绘制下拉光标。新的<a href="https://github.com/prosemirror/prosemirror-dropcursor"><code>prosemirror-dropcursor</code></a>模块将此功能实现为一个插件。</p>
<h4>Bug fixes</h4>
<p data-x-en="Simple typing and backspacing now gets handled by the browser without ProseMirror redrawing the touched nodes, making spell-checking and various platform-specific input tricks (long-press on OS X, double space on iOS) work in the editor.">简单的打字和退格现在由浏览器处理，而无需 ProseMirror 重绘触摸的节点，从而使拼写检查和各种特定平台的输入技巧（OS X 上的长按，iOS 上的双空格）在编辑器中工作。</p>
<p data-x-en="Improve tracking of DOM nodes that have been touched by user changes, so that updateState can reliably fix them.">改进对已被用户更改触及的DOM节点的跟踪，以便<a href="https://prosemirror.xheldon.com/docs/ref/version/0.15.0.html#view.EditorView.updateState"><code>updateState</code></a>可以可靠地修复它们。</p>
<p data-x-en="Changes to the document that happen while dragging editor content no longer break moving of the content.">在拖动编辑器内容时发生的文档更改不再会破坏内容的移动。</p>
<p data-x-en="Adding or removing a mark directly in the DOM (for example with the bold/italic buttons in iOS' context menu) now produces mark steps, rather than replace steps.">直接在DOM中添加或删除标记（例如使用iOS上下文菜单中的粗体/斜体按钮）现在会产生标记步骤，而不是替换步骤。</p>
<p data-x-en="Pressing backspace at the start of a paragraph on Android now allows key handlers for backspace to fire.">在Android上，在段落开头按下退格键现在允许退格键的键处理程序触发。</p>
<p data-x-en="Toggling a mark when there is no selection now works better on mobile platforms.">在没有选择的情况下切换标记现在在移动平台上效果更好。</p>
<h4>New features</h4>
<p data-x-en="Introduces an endOfTextblock method on views, which can be used to find out in a bidi- and layout-aware way whether the selection is on the edge of a textblock.">引入了视图上的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.15.0.html#view.EditorView.endOfTextblock"><code>endOfTextblock</code></a>方法，可以用来以双向和布局感知的方式确定选择是否在文本块的边缘。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 0.15.0 (2016-12-10)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Drops suppport for delete(Char|Word)(Before|After) and move(Back|For)ward, since we are now letting the browser handle those natively.">放弃对<code>delete(Char|Word)(Before|After)</code>和<code>move(Back|For)ward</code>的支持，因为我们现在让浏览器本地处理这些操作。</p>
<h4>Bug fixes</h4>
<p data-x-en="The joinForward and joinBackward commands can now strip out markup and nodes that aren't allowed in the joined node."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.15.0.html#commands.joinForward"><code>joinForward</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.15.0.html#commands.joinBackward"><code>joinBackward</code></a> 命令现在可以去除在合并节点中不允许的标记和节点。</p>
<h4>New features</h4>
<p data-x-en="A new command exitCode allows a user to exit a code block by creating a new paragraph below it.">一个新的命令<a href="https://prosemirror.xheldon.com/docs/ref/version/0.15.0.html#commands.exitCode"><code>exitCode</code></a>允许用户通过在其下方创建一个新段落来退出代码块。</p>
<p data-x-en="The joinForward and joinBackward commands now use a bidirectional-text-aware way to determine whether the cursor is at the proper side of its parent textblock when they are passed a view."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.15.0.html#commands.joinForward"><code>joinForward</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.15.0.html#commands.joinBackward"><code>joinBackward</code></a> 命令现在使用一种双向文本感知的方式来确定当它们被传递一个视图时，光标是否在其父文本块的正确一侧。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.14.4 (2016-12-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where node decorations would stick around in the DOM after the decoration was removed.">修复节点装饰在装饰被移除后仍然留在DOM中的问题。</p>
<p data-x-en="Setting or removing a node selection in an unfocused editor now properly updates the DOM to show that selection.">在未聚焦的编辑器中设置或移除节点选择现在会正确更新DOM以显示该选择。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.14.1 (2016-11-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="DOMParser.parseSlice will now ignore whitespace-only text nodes at the top of the slice."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#model.DOMParser.parseSlice"><code>DOMParser.parseSlice</code></a> 现在将忽略切片顶部仅包含空白的文本节点。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.14.2 (2016-11-30)</h3>
<h4>Bug fixes</h4>
<p data-x-en="FIX: Avoid unneeded selection resets which sometimes confused browsers.">修复：避免不必要的选择重置，这有时会让浏览器感到困惑。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.14.2 (2016-11-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix a bug where inverted selections weren't created in the DOM correctly.">修复在 DOM 中未正确创建反向选择的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.14.1 (2016-11-29)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Restores previously broken kludge that allows the cursor to appear after non-text content at the end of a line.">恢复之前损坏的临时解决方案，使光标在行末的非文本内容之后出现。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.14.0 (2016-11-28)</h3>
<h4>New features</h4>
<p data-x-en="Parse rules now support skip (skip outer element, parse content) and getContent (compute content using custom code) properties.">解析规则现在支持<a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#model.ParseRule.skip"><code>skip</code></a>（跳过外部元素，解析内容）和<a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#model.ParseRule.getContent"><code>getContent</code></a>（使用自定义代码计算内容）属性。</p>
<p data-x-en="The DOMSerializer class now exports a static renderSpec method that can help render DOM spec arrays."><code>DOMSerializer</code> 类现在导出一个静态的 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#model.DOMSerializer%5ErenderSpec"><code>renderSpec</code></a> 方法，可以帮助渲染 DOM 规范数组。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.14.0 (2016-11-28)</h3>
<h4>New features</h4>
<p data-x-en="Selection actions now have a time field and an (optional) origin field."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#state.SelectionAction">选择操作</a> 现在有一个 <code>time</code> 字段和一个（可选的）<code>origin</code> 字段。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.14.0 (2016-11-28)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Wrapping decorations are now created using the nodeName property. The wrapper property is no longer supported.">包装装饰现在使用<a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#view.DecorationAttrs.nodeName"><code>nodeName</code></a>属性创建。不再支持<code>wrapper</code>属性。</p>
<p data-x-en="The onUnmountDOM prop is no longer supported (use a node view with a destroy method instead)."><code>onUnmountDOM</code> 属性不再支持（请改用带有 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#view.NodeView.destroy"><code>destroy</code></a> 方法的节点视图）。</p>
<p data-x-en="The domSerializer prop is no longer supported. Use node views to configure editor-specific node representations."><code>domSerializer</code> 属性不再支持。使用 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#view.EditorProps.nodeViews">节点视图</a> 来配置特定于编辑器的节点表示。</p>
<h4>New features</h4>
<p data-x-en="Widget decorations can now be given a key property to prevent unneccesary redraws.">Widget 装饰现在可以给一个 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#view.Decoration.widget%5Eoptions.key"><code>key</code></a> 属性以防止不必要的重绘。</p>
<p data-x-en="The EditorView class now has a destroy method for cleaning up."><code>EditorView</code> 类现在有一个 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#view.EditorView.destroy"><code>destroy</code></a> 方法用于清理。</p>
<p data-x-en="The handleClickOn prop and friends now receive a direct boolean argument that indicates whether the node was clicked directly."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#view.EditorProps.handleClickOn"><code>handleClickOn</code></a> 属性和相关属性现在接收一个 <code>direct</code> 布尔参数，该参数指示节点是否被直接点击。</p>
<p data-x-en="Widget decorations now support a stopEvent option that can be used to control which DOM events that pass through them should be ignored by the editor view."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#view.Decoration%5Ewidget">小部件装饰</a>现在支持<code>stopEvent</code>选项，可以用来控制哪些通过它们的DOM事件应该被编辑器视图忽略。</p>
<p data-x-en="You can now specify custom node views for an editor view, which give you control over the way node of a given type are represented in the DOM. See the related RFC.">你现在可以<a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#view.EditorProps.nodeViews">指定</a>自定义<a href="https://prosemirror.xheldon.com/docs/ref/version/0.14.0.html#view.NodeView">节点视图</a>用于编辑器视图，这样你可以控制特定类型节点在DOM中的表示方式。请参阅相关的<a href="https://discuss.prosemirror.net/t/rfc-node-views-to-manage-the-representation-of-nodes/463">RFC</a>。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.13.2 (2016-11-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes an issue where widget decorations in the middle of text nodes would sometimes disappear.">修复了文本节点中间的小部件装饰有时会消失的问题。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.13.1 (2016-11-15)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fixes event handler crash (and subsequent bad default behavior) when pasting some types of external HTML into an editor.">修复了将某些类型的外部HTML粘贴到编辑器时事件处理程序崩溃（以及随后的错误默认行为）。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.13.0 (2016-11-11)</h3>
<h4>Breaking changes</h4>
<p data-x-en="ResolvedPos.sameDepth is now called ResolvedPos.sharedDepth, and takes a raw, unresolved position as argument."><code>ResolvedPos.sameDepth</code> 现在被称为 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#model.ResolvedPos.sharedDepth"><code>ResolvedPos.sharedDepth</code></a>，并且需要一个原始的、未解析的位置作为参数。</p>
<h4>New features</h4>
<p data-x-en="DOMSerializer's nodes and marks properties are now public."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#model.DOMSerializer"><code>DOMSerializer</code></a>的<code>nodes</code>和<code>marks</code>属性现在是公开的。</p>
<p data-x-en="ContentMatch.findWrapping now takes a third argument, marks. There's a new method findWrappingFor that accepts a whole node."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#model.ContentMatch.findWrapping"><code>ContentMatch.findWrapping</code></a> 现在接受第三个参数，<code>marks</code>。有一个新方法 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#model.ContentMatch.findWrappingFor"><code>findWrappingFor</code></a>，它接受一个完整的节点。</p>
<p data-x-en="Adds Slice.maxOpen static method to create maximally open slices.">添加 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#model.Slice%5EmaxOpen"><code>Slice.maxOpen</code></a> 静态方法以创建最大开放的切片。</p>
<p data-x-en="DOM parser objects now have a parseSlice method which parses an HTML fragment into a Slice, rather than trying to create a whole document from it.">DOM 解析器对象现在有一个 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#model.DOMParser.parseSlice"><code>parseSlice</code></a> 方法，该方法将 HTML 片段解析为 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#model.Slice"><code>Slice</code></a>，而不是尝试从中创建整个文档。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.13.0 (2016-11-11)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix issue where Transform.replace would, in specific circumstances, unneccessarily drop content.">修复在特定情况下<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#transform.Transform.replace"><code>Transform.replace</code></a>会不必要地丢弃内容的问题。</p>
<h4>New features</h4>
<p data-x-en="The new Transform method replaceRange, replaceRangeWith, and deleteRange provide a way to replace and delete content in a 'do what I mean' way, automatically expanding the replaced region over empty parent nodes and including the parent nodes in the inserted content when appropriate.">新的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#transform.Transform"><code>Transform</code></a>方法<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#transform.Transform.replaceRange"><code>replaceRange</code></a>、<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#transform.Transform.replaceRangeWith"><code>replaceRangeWith</code></a>和<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#transform.Transform.deleteRange"><code>deleteRange</code></a>提供了一种“按我所想”的方式来替换和删除内容，自动扩展被替换区域到空的父节点，并在适当的时候将父节点包含在插入的内容中。</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.13.0 (2016-11-11)</h3>
<h4>Breaking changes</h4>
<p data-x-en="EditorTransform.replaceSelection now takes a slice, no longer a node. The new replaceSelectionWith method should be used to replace the selection with a node. Until the next release, calling it the old way will still work and emit a warning."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.EditorTransform.replaceSelection"><code>EditorTransform.replaceSelection</code></a> 现在接受一个 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#model.Slice">slice</a>，不再是一个节点。新的 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.EditorTransform.replaceSelectionWith"><code>replaceSelectionWith</code></a> 方法应该用于用节点替换选区。在下一个版本发布之前，以旧方式调用它仍然有效并会发出警告。</p>
<h4>Bug fixes</h4>
<p data-x-en="The documentation for applyAction now actually reflects the arguments this method is given."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.StateField.applyAction"><code>applyAction</code></a> 的文档现在实际反映了此方法所给的参数。</p>
<h4>New features</h4>
<p data-x-en="A state field's applyAction method is now passed the previous state as 4th argument, so that it has access to the new doc and selection.">一个状态字段的<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.StateField.applyAction"><code>applyAction</code></a>方法现在将上一个状态作为第四个参数传递，以便它可以访问新的文档和选择。</p>
<p data-x-en="EditorTransform.replaceSelection now accepts a slice (or, as before, as a node), and uses a revised algorithm, relying on the defining node flag."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.EditorTransform.replaceSelection"><code>EditorTransform.replaceSelection</code></a> 现在接受一个切片（或者像以前一样，作为一个节点），并使用一个修订后的算法，依赖于 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#model.NodeSpec.defining"><code>defining</code></a> 节点标志。</p>
<p data-x-en="The TextSelection and NodeSelection classes now have a static create convenience method for creating selections from unresolved positions."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.TextSelection"><code>TextSelection</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.NodeSelection"><code>NodeSelection</code></a> 类现在有一个静态的 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.TextSelection%5Ecreate"><code>create</code></a> 便捷方法，用于从未解析的位置创建选择。</p>
<p data-x-en="Allow transform actions to be extended during dispatch using extendTransformAction. Introduce sealed flag to indicate when this is not safe.">允许在调度期间使用<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.extendTransformAction"><code>extendTransformAction</code></a>扩展<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.TransformAction">转换操作</a>。引入<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.TransformAction.sealed"><code>sealed</code></a>标志以指示何时不安全。</p>
<p data-x-en="A new utility function NodeSelection.isSelectable can be used to test whether a node can be the target of a node selection.">一个新的实用函数<a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#state.NodeSelection.isSelectable"><code>NodeSelection.isSelectable</code></a>可以用来测试一个节点是否可以成为节点选择的目标。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.13.0 (2016-11-11)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Selecting nodes on OS X is now done with cmd-leftclick rather than ctrl-leftclick.">在 OS X 上选择节点现在使用 cmd-左键单击而不是 ctrl-左键单击。</p>
<h4>Bug fixes</h4>
<p data-x-en="Pasting text into a code block will now insert the raw text.">将文本粘贴到代码块中现在将插入原始文本。</p>
<p data-x-en="Widget decorations at the start or end of a textblock no longer block horizontal cursor motion through them.">小部件装饰在文本块的开头或结尾不再阻止水平光标通过它们的移动。</p>
<p data-x-en="Widget nodes at the end of textblocks are now reliably drawn during display updates.">文本块末尾的小部件节点现在在显示更新期间可靠地绘制。</p>
<h4>New features</h4>
<p data-x-en="DecorationSet.map now takes an options object which allows you to specify an onRemove callback to be notified when remapping drops decorations."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#view.DecorationSet.map"><code>DecorationSet.map</code></a> 现在接受一个选项对象，该对象允许您指定一个 <code>onRemove</code> 回调，以便在重新映射删除装饰时通知您。</p>
<p data-x-en="The transformPastedHTML and transformPastedText props were (re-)added, and can be used to clean up pasted content.">The <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#view.EditorProps.transformPastedHTML"><code>transformPastedHTML</code></a> 和 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#view.EditorProps.transformPastedText"><code>transformPastedText</code></a> 属性被（重新）添加，可以用来清理粘贴的内容。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 0.13.0 (2016-11-11)</h3>
<h4>New features</h4>
<p data-x-en="The autoJoin function allows you to wrap command functions so that when the command makes nodes of a certain type occur next to each other, they are automatically joined."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.13.0.html#commands.autoJoin"><code>autoJoin</code></a> 函数允许你包装命令函数，这样当命令使某种类型的节点彼此相邻时，它们会自动合并。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.12.2 (2016-11-02)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Inline decorations that span across an empty textblock no longer crash the display drawing code.">内联装饰跨越空文本块不再导致显示绘图代码崩溃。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.12.1 (2016-11-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix bug in Transform.setBlockType when used in a transform that already has steps.">修复 <code>Transform.setBlockType</code> 在已包含步骤的转换中使用时的错误。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.12.1 (2016-11-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Use a separate document to parse pasted HTML to better protect against cross-site scripting attacks.">使用单独的文档来解析粘贴的HTML，以更好地防御跨站脚本攻击。</p>
<p data-x-en="Specifying multiple classes in a decoration now actually works.">现在在装饰中指定多个类实际上是有效的。</p>
<p data-x-en="Ignore empty inline decorations when building a decoration set.">在构建装饰集时忽略空的内联装饰。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 0.12.1 (2016-11-01)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash in undo or redo commands when the history is empty.">修复在历史记录为空时撤销或重做命令的崩溃问题。</p>
<h3><a href="../ref/#model">prosemirror-model</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Drops support for some undocumented options to the DOM serializer that were used by the view.">放弃对视图使用的DOM序列化器的一些未记录选项的支持</p>
<h4>Bug fixes</h4>
<p data-x-en="When rendering DOM attributes, only ignore null values, not all falsy values.">在渲染DOM属性时，只忽略null值，而不是所有假值。</p>
<h3><a href="../ref/#transform">prosemirror-transform</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Mapped positions now count as deleted when the token to the side specified by the assoc parameter is deleted, rather than when both tokens around them are deleted. (This is usually what you already wanted anyway.)">映射位置现在在<code>assoc</code>参数指定的一侧的标记被删除时计为已删除，而不是在它们周围的两个标记都被删除时计为已删除。（这通常是你已经想要的。）</p>
<h3><a href="../ref/#state">prosemirror-state</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The interace to EditorState.toJSON and EditorState.fromJSON has changed.">The interace to
<a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#state.EditorState.toJSON"><code>EditorState.toJSON</code></a> 和
<a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#state.EditorState.fromJSON"><code>EditorState.fromJSON</code></a> 已经改变。</p>
<p data-x-en="The way plugins declare their state field has changed. Only one state field per plugin is supported, and state fields no longer have hard-coded names. Plugin.getState is the way to access plugin state now.">插件声明其<a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#state.Plugin.constructor.options.state">state字段</a>的方式已更改。每个插件只支持一个state字段，并且state字段不再有硬编码名称。<a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#state.Plugin.getState"><code>Plugin.getState</code></a>是现在访问插件状态的方式。</p>
<p data-x-en="Plugin dependencies are no longer supported.">插件依赖项不再受支持。</p>
<p data-x-en="Plugin.reconfigure is gone. Plugins are now always created with new Plugin."><code>Plugin.reconfigure</code> 已经消失。插件现在总是使用 <a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#state.Plugin.constructor"><code>new Plugin</code></a> 创建。</p>
<p data-x-en="Plugins no longer have a config field.">插件不再具有<code>config</code>字段。</p>
<h4>Bug fixes</h4>
<p data-x-en="Node selections are now properly dropped when mapped over a change that replaces their nodes.">节点选择现在在映射到替换其节点的更改时正确删除。</p>
<h4>New features</h4>
<p data-x-en="Plugin keys can now be used to find plugins by identity."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#state.PluginKey">插件键</a>现在可以用来通过身份查找插件。</p>
<p data-x-en="Transform actions now have a time field containing the timestamp when the change was made."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#state.TransformAction">转换操作</a>现在有一个<code>time</code>字段，包含更改发生时的时间戳。</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The return value of EditorView.posAtCoords changed to contain an inside property pointing at the innermost node that the coordinates are inside of. (Note that the docs for this method were wrong in the previous release.)"><a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#view.EditorView.posAtCoords"><code>EditorView.posAtCoords</code></a> 的返回值已更改为包含一个指向坐标所在最内层节点的 <code>inside</code> 属性。（请注意，此方法的文档在上一个版本中是错误的。）</p>
<h4>Bug fixes</h4>
<p data-x-en="Reduce reliance on shift-state tracking to minimize damage when it gets out of sync.">减少对shift-state跟踪的依赖，以在不同步时将损害降至最低。</p>
<p data-x-en="Fix bug that'd produce bogus document positions for DOM positions inside non-document nodes.">修复会为非文档节点内的DOM位置生成虚假文档位置的错误。</p>
<p data-x-en="Don't treat fast ctrl-clicks as double or triple clicks.">不要将快速的ctrl点击视为双击或三击。</p>
<h4>New features</h4>
<p data-x-en="Implement decorations, a way to influence the way the document is drawn. Add the decorations prop to specify them.">实现<a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#view.Decoration">装饰</a>，一种影响文档绘制方式的方法。添加<a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#view.EditorProps.decorations"><code>decorations</code>属性</a>来指定它们。</p>
<h3><a href="../ref/#keymap">prosemirror-keymap</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p data-x-en="Key names are now based on KeyboardEvent.key instead of .code. This means that, for character-producing keys, you'll want to use the character typed, not the key name. So Ctrl-Z now means uppercase Z, and you'll usually want Ctrl-z instead. Single-quoted key names are no longer supported.">关键名称现在基于
<a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key"><code>KeyboardEvent.key</code></a>
而不是
<a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code"><code>.code</code></a>。
这意味着，对于产生字符的键，您将需要使用输入的字符，而不是键名。因此，<code>Ctrl-Z</code>现在表示大写的Z，您通常会希望使用<code>Ctrl-z</code>。不再支持单引号的键名。</p>
<h3><a href="../ref/#history">prosemirror-history</a> 0.12.0 (2016-10-21)</h3>
<h4>Breaking changes</h4>
<p data-x-en="The history export is now a function that creates a history plugin, rather than a plugin instance."><a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#history.history"><code>history</code></a> 导出现在是一个创建历史插件的函数，而不是一个插件实例。</p>
<h4>New features</h4>
<p data-x-en="Add a newGroupDelay plugin option. This brings back the behavior where pausing between edits will automatically cause the history to put subsequent changes in a new undo event.">添加一个<a href="https://prosemirror.xheldon.com/docs/ref/version/0.12.0.html#history.history%5Econfig.newGroupDelay"><code>newGroupDelay</code></a>插件选项。这将恢复在编辑之间暂停时，历史记录会自动将后续更改放入新的撤销事件中的行为。</p>
<h3><a href="../ref/#commands">prosemirror-commands</a> 0.12.0 (2016-10-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Fix crash when backspacing into nodes with complex content expressions.">修复在退格删除包含复杂内容表达式的节点时的崩溃问题。</p>
<h3><a href="../ref/#schema-basic">prosemirror-schema-basic</a> 0.12.0 (2016-10-21)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Don't treat <b style=font-weight: normal> as strong when parsing. (Google Docs puts such ridiculous HTML on the clipboard.)">不要在解析时将 &lt;b style=font-weight: normal&gt; 视为强。
(Google Docs 会在剪贴板上放置如此荒谬的 HTML。)</p>
<h3><a href="../ref/#view">prosemirror-view</a> 0.11.2 (2016-10-04)</h3>
<h4>Bug fixes</h4>
<p data-x-en="Pass actual event object to handleDOMEvent, rather than just its name.">将实际事件对象传递给<a href="https://prosemirror.xheldon.com/docs/ref/version/0.11.0.html#view.EditorProps.handleDOMEvent"><code>handleDOMEvent</code></a>，而不仅仅是它的名称。</p>
<p data-x-en="Fix display corruption caused by using the wrong state as previous version during IME.">修复在使用IME期间由于使用错误状态作为先前版本而导致的显示损坏。</p>
</article>

<footer>
  <nav>
    <a class="logo" href=".">&nbsp;</a>
    <div class="navlinks">
      <a href="/backers.html">Backers</a>
      <a href="http://contributor-covenant.org/version/1/1/0/">Code of Conduct</a>
      <a href="https://discuss.prosemirror.net/">Discuss</a>
      <a href="https://github.com/prosemirror/prosemirror/issues">Report an Issue</a>
    </div>
  </nav>
</footer>

</body></html>